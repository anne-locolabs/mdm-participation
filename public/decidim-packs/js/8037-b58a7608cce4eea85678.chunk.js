"use strict";(self.webpackChunkdecidim_development_app=self.webpackChunkdecidim_development_app||[]).push([[8037],{8037:(function(G,k,y){y.r(k),y.d(k,{wc_datepicker:function(){return L}});var i=y(8947);function S(e,t){const a=new Date(e);return a.setDate(a.getDate()+t),a}function W(e,t,a){const s=[],n=b(e),d=n.getDay()===0?7:n.getDay(),u=N(e),D=u.getDay()===0?7:u.getDay(),g=a===1?7:a-1,f=[],C=[];if(t){let p=(7-a+d)%7,v=M(n);for(;p>0;)f.push(v),v=M(v),p-=1;f.reverse();let m=(7-D+g)%7,c=w(u);for(;m>0;)C.push(c),c=w(c),m-=1}let o=n;for(;o.getMonth()===e.getMonth();)s.push(o),o=w(o);return[...f,...s,...C]}function b(e){return l(new Date(`${String(O(e)).padStart(4,"0")}-${String(B(e)).padStart(2,"0")}-01`))}function h(e){if(e instanceof Date)return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function N(e){const t=b(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t}function B(e){return e.getMonth()+1}function $(e){return new Array(12).fill(void 0).map((t,a)=>{const s=l(new Date(`2006-${String(a+1).padStart(2,"0")}-01`));return Intl.DateTimeFormat(e,{month:"long"}).format(s)})}function w(e){return S(e,1)}function Y(e){const t=new Date(e);return t.setDate(1),t.setMonth(t.getMonth()+1),t}function x(e){const t=new Date(e);return t.setFullYear(t.getFullYear()+1),t}function M(e){return P(e,1)}function T(e){const t=new Date(e);return t.setDate(1),t.setMonth(t.getMonth()-1),t}function F(e){const t=new Date(e);return t.setFullYear(t.getFullYear()-1),t}function R(e,t){return new Array(7).fill(void 0).map((a,s)=>(e+s)%7+1).map(a=>{const s=l(new Date(`2006-01-0${a}`));return[Intl.DateTimeFormat(t,{weekday:"short"}).format(s),Intl.DateTimeFormat(t,{weekday:"long"}).format(s)]})}function O(e){return e.getFullYear()}function I(e,t){if(!e||!t||!t.from||!t.to)return!1;const a=t.from<t.to?t.from:t.to,s=t.from<t.to?t.to:t.from;return e>=a&&e<=s}function r(e,t){return!e||!t?!1:e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function l(e){const t=new Date(e);return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t}function P(e,t){const a=new Date(e);return a.setDate(a.getDate()-t),a}const E=".visually-hidden.sc-wc-datepicker{position:absolute;overflow:hidden;width:1px;height:1px;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}",H={clearButton:"Clear value",monthSelect:"Select month",nextMonthButton:"Next month",nextYearButton:"Next year",picker:"Choose date",previousMonthButton:"Previous month",previousYearButton:"Previous year",todayButton:"Show today",yearSelect:"Select year"},L=class{constructor(e){(0,i.r)(this,e),this.selectDate=(0,i.c)(this,"selectDate",7),this.changeMonth=(0,i.c)(this,"changeMonth",7),this.disabled=!1,this.disableDate=()=>!1,this.elementClassName="wc-datepicker",this.firstDayOfWeek=0,this.labels=H,this.locale=(navigator==null?void 0:navigator.language)||"en-US",this.showClearButton=!1,this.showMonthStepper=!0,this.showTodayButton=!1,this.showYearStepper=!1,this.startDate=h(new Date),this.init=()=>{this.currentDate=this.startDate?l(new Date(this.startDate)):new Date,this.updateWeekdays()},this.nextMonth=()=>{this.updateCurrentDate(Y(this.currentDate))},this.nextYear=()=>{this.updateCurrentDate(x(this.currentDate))},this.previousMonth=()=>{this.updateCurrentDate(T(this.currentDate))},this.previousYear=()=>{this.updateCurrentDate(F(this.currentDate))},this.showToday=()=>{this.updateCurrentDate(new Date)},this.clear=()=>{this.value=void 0,this.selectDate.emit(void 0)},this.onClick=t=>{if(this.disabled)return;const a=t.target.closest("[data-date]");if(!a)return;const s=l(new Date(a.dataset.date));this.updateCurrentDate(s),this.onSelectDate(s)},this.onMonthSelect=t=>{const a=+t.target.value-1,s=new Date(this.currentDate);s.setMonth(a),this.updateCurrentDate(s)},this.onYearSelect=t=>{let a=+t.target.value;const s=t.target;isNaN(a)?(a=new Date().getFullYear(),s.value=String(a)):a<0?(a=0,s.value=String(a)):a>9999&&(a=9999,s.value=String(a));const n=new Date(this.currentDate);n.setFullYear(a),this.updateCurrentDate(n)},this.onKeyDown=t=>{this.disabled||(t.code==="ArrowLeft"?(t.preventDefault(),this.updateCurrentDate(M(this.currentDate),!0)):t.code==="ArrowRight"?(t.preventDefault(),this.updateCurrentDate(w(this.currentDate),!0)):t.code==="ArrowUp"?(t.preventDefault(),this.updateCurrentDate(P(this.currentDate,7),!0)):t.code==="ArrowDown"?(t.preventDefault(),this.updateCurrentDate(S(this.currentDate,7),!0)):t.code==="PageUp"?(t.preventDefault(),t.shiftKey?this.updateCurrentDate(F(this.currentDate),!0):this.updateCurrentDate(T(this.currentDate),!0)):t.code==="PageDown"?(t.preventDefault(),t.shiftKey?this.updateCurrentDate(x(this.currentDate),!0):this.updateCurrentDate(Y(this.currentDate),!0)):t.code==="Home"?(t.preventDefault(),this.updateCurrentDate(b(this.currentDate),!0)):t.code==="End"?(t.preventDefault(),this.updateCurrentDate(N(this.currentDate),!0)):(t.code==="Space"||t.code==="Enter")&&(t.preventDefault(),this.onSelectDate(this.currentDate)))},this.onMouseEnter=t=>{if(this.disabled)return;const a=l(new Date(t.target.closest("td").dataset.date));this.hoveredDate=a},this.onMouseLeave=()=>{this.hoveredDate=void 0}}componentWillLoad(){this.init()}watchFirstDayOfWeek(){this.updateWeekdays()}watchLocale(){this.locale||(this.locale=(navigator==null?void 0:navigator.language)||"en-US"),this.updateWeekdays()}watchRange(){this.value=void 0,this.selectDate.emit(void 0)}watchStartDate(){this.currentDate=this.startDate?l(new Date(this.startDate)):new Date}watchValue(){this.value&&(Array.isArray(this.value)&&this.value.length>=1?this.currentDate=this.value[0]:this.value instanceof Date&&(this.currentDate=this.value))}componentDidRender(){this.moveFocusAfterMonthChanged&&(this.focusDate(this.currentDate),this.moveFocusAfterMonthChanged=!1)}updateWeekdays(){this.weekdays=R(this.firstDayOfWeek===0?7:this.firstDayOfWeek,this.locale)}getClassName(e){return e?`${this.elementClassName}__${e}`:this.elementClassName}getCalendarRows(){const e=W(this.currentDate,!0,this.firstDayOfWeek===0?7:this.firstDayOfWeek),t=[];for(let a=0;a<e.length;a+=7){const s=e.slice(a,a+7);t.push(s)}return t}getTitle(){if(this.currentDate)return Intl.DateTimeFormat(this.locale,{day:"numeric",month:"long",year:"numeric"}).format(this.currentDate)}focusDate(e){var t;(t=this.el.querySelector(`[data-date="${h(e)}"]`))===null||t===void 0||t.focus()}updateCurrentDate(e,t){const a=e.getMonth(),s=e.getFullYear();if(s>9999||s<0)return;(a!==this.currentDate.getMonth()||s!==this.currentDate.getFullYear())&&(this.changeMonth.emit({month:B(e),year:O(e)}),t&&(this.moveFocusAfterMonthChanged=!0)),this.currentDate=e,t&&this.focusDate(this.currentDate)}onSelectDate(e){var t,a;if(!this.disableDate(e))if(this.isRangeValue(this.value)){const s=((t=this.value)===null||t===void 0?void 0:t[0])===void 0||this.value.length===2?[e]:[this.value[0],e];s.length===2&&s[0]>s[1]&&s.reverse();const n=s[1]===void 0?[h(s[0])]:[h(s[0]),h(s[1])];this.value=s,this.selectDate.emit(n)}else{if(((a=this.value)===null||a===void 0?void 0:a.getTime())===e.getTime())return;this.value=e,this.selectDate.emit(h(e))}}isRangeValue(e){return this.range}render(){const e=this.showTodayButton||this.showClearButton;return(0,i.h)(i.H,null,(0,i.h)("div",{"aria-disabled":String(this.disabled),"aria-label":this.labels.picker,class:{[this.getClassName()]:!0,[`${this.getClassName()}--disabled`]:this.disabled},role:"group"},(0,i.h)("div",{class:this.getClassName("header")},(0,i.h)("span",{"aria-atomic":"true","aria-live":"polite",class:"visually-hidden"},this.getTitle()),this.showYearStepper&&(0,i.h)("button",{"aria-label":this.labels.previousYearButton,class:this.getClassName("previous-year-button"),disabled:this.disabled,innerHTML:this.previousYearButtonContent||void 0,onClick:this.previousYear,type:"button"},(0,i.h)("svg",{fill:"none",height:"24","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24",width:"24"},(0,i.h)("polyline",{points:"11 17 6 12 11 7"}),(0,i.h)("polyline",{points:"18 17 13 12 18 7"}))),this.showMonthStepper&&(0,i.h)("button",{"aria-label":this.labels.previousMonthButton,class:this.getClassName("previous-month-button"),disabled:this.disabled,innerHTML:this.previousMonthButtonContent||void 0,onClick:this.previousMonth,type:"button"},(0,i.h)("svg",{fill:"none",height:"24","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24",width:"24"},(0,i.h)("polyline",{points:"15 18 9 12 15 6"}))),(0,i.h)("span",{class:this.getClassName("current-month")},(0,i.h)("select",{"aria-label":this.labels.monthSelect,class:this.getClassName("month-select"),disabled:this.disabled,name:"month",onChange:this.onMonthSelect},$(this.locale).map((t,a)=>(0,i.h)("option",{key:t,selected:this.currentDate.getMonth()===a,value:a+1},t))),(0,i.h)("input",{"aria-label":this.labels.yearSelect,class:this.getClassName("year-select"),disabled:this.disabled,max:9999,maxLength:4,min:1,name:"year",onChange:this.onYearSelect,type:"number",value:this.currentDate.getFullYear()})),this.showMonthStepper&&(0,i.h)("button",{"aria-label":this.labels.nextMonthButton,class:this.getClassName("next-month-button"),disabled:this.disabled,innerHTML:this.nextMonthButtonContent||void 0,onClick:this.nextMonth,type:"button"},(0,i.h)("svg",{fill:"none",height:"24","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24",width:"24"},(0,i.h)("polyline",{points:"9 18 15 12 9 6"}))),this.showYearStepper&&(0,i.h)("button",{"aria-label":this.labels.nextYearButton,class:this.getClassName("next-year-button"),disabled:this.disabled,innerHTML:this.nextYearButtonContent||void 0,onClick:this.nextYear,type:"button"},(0,i.h)("svg",{fill:"none",height:"24","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24",width:"24"},(0,i.h)("polyline",{points:"13 17 18 12 13 7"}),(0,i.h)("polyline",{points:"6 17 11 12 6 7"})))),(0,i.h)("div",{class:this.getClassName("body")},(0,i.h)("table",{class:this.getClassName("calendar"),onKeyDown:this.onKeyDown,role:"grid"},(0,i.h)("thead",{class:this.getClassName("calendar-header")},(0,i.h)("tr",{class:this.getClassName("weekday-row")},this.weekdays.map(t=>(0,i.h)("th",{abbr:t[1],class:this.getClassName("weekday"),key:t[0],scope:"col"},(0,i.h)("span",null,t[0]))))),(0,i.h)("tbody",null,this.getCalendarRows().map(t=>{const a=`row-${t[0].getMonth()}-${t[0].getDate()}`;return(0,i.h)("tr",{class:this.getClassName("calendar-row"),key:a},t.map(s=>{var n,d,u,D,g;const f=r(s,this.currentDate),C=s.getMonth()!==this.currentDate.getMonth(),o=Array.isArray(this.value)?r(s,this.value[0])||r(s,this.value[1]):r(s,this.value),A=this.isRangeValue?I(s,{from:(n=this.value)===null||n===void 0?void 0:n[0],to:((d=this.value)===null||d===void 0?void 0:d[1])||this.hoveredDate||this.currentDate}):!1,p=!((u=this.value)===null||u===void 0)&&u[0]?[(D=this.value)===null||D===void 0?void 0:D[0],((g=this.value)===null||g===void 0?void 0:g[1])||this.hoveredDate].sort((U,z)=>U-z):[],v=this.range&&r(p[0],s),_=this.range&&r(p[1],s),m=r(s,new Date),c=this.disableDate(s),K=`cell-${s.getMonth()}-${s.getDate()}`,V={[this.getClassName("date")]:!0,[this.getClassName("date--current")]:f,[this.getClassName("date--disabled")]:c,[this.getClassName("date--overflowing")]:C,[this.getClassName("date--today")]:m,[this.getClassName("date--selected")]:o,[this.getClassName("date--in-range")]:A,[this.getClassName("date--start")]:v,[this.getClassName("date--end")]:_},j=o?"strong":m?"em":"span";return(0,i.h)("td",{"aria-disabled":String(c),"aria-selected":o?"true":void 0,class:V,"data-date":h(s),key:K,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,role:"gridcell",tabIndex:r(s,this.currentDate)&&!this.disabled?0:-1},(0,i.h)(j,{"aria-hidden":"true"},s.getDate()),(0,i.h)("span",{class:"visually-hidden"},Intl.DateTimeFormat(this.locale,{day:"numeric",month:"long"}).format(s)))}))})))),e&&(0,i.h)("div",{class:this.getClassName("footer")},this.showTodayButton&&(0,i.h)("button",{class:this.getClassName("today-button"),disabled:this.disabled,innerHTML:this.todayButtonContent||void 0,onClick:this.showToday,type:"button"},this.labels.todayButton),this.showClearButton&&(0,i.h)("button",{class:this.getClassName("clear-button"),disabled:this.disabled,innerHTML:this.clearButtonContent||void 0,onClick:this.clear,type:"button"},this.labels.clearButton))))}get el(){return(0,i.g)(this)}static get watchers(){return{firstDayOfWeek:["watchFirstDayOfWeek"],locale:["watchLocale"],range:["watchRange"],startDate:["watchStartDate"],value:["watchValue"]}}};L.style=E})}]);

//# sourceMappingURL=8037-b58a7608cce4eea85678.chunk.js.map