(function(){"use strict";class s{constructor(){this.checkboxes=document.querySelectorAll("[data-result-checkbox]"),this.counterElement=document.querySelector("[data-selected-count]")}init(){this.checkboxes.length&&(this.checkboxes.forEach(t=>{t.addEventListener("change",()=>this.updateCounter())}),this.updateCounter())}updateCounter(){if(this.counterElement){const t=this.getSelectedItems().length;this.counterElement.textContent=t,t===0?this.counterElement.classList.add("hide"):this.counterElement.classList.remove("hide")}}getSelectedItems(){return Array.from(this.checkboxes).filter(t=>t.checked)}}var n=s;class i{constructor(t){this.counter=t,this.actionButton=document.querySelector("[data-action-button]"),this.actionForms=document.querySelectorAll("[data-action-form]")}init(){this.counter.checkboxes.forEach(t=>{t.addEventListener("change",()=>this.onCheckboxChange())}),this.toggleActionButton()}onCheckboxChange(){this.toggleActionButton(),this.toggleActionForms()}toggleActionButton(){this.counter.getSelectedItems().length>0?this.actionButton.classList.remove("hide"):this.actionButton.classList.add("hide")}toggleActionForms(){this.counter.getSelectedItems().length===0&&this.actionForms.forEach(e=>{e.classList.add("hide")})}}var l=i;class r{constructor(t){this.counter=t,this.checkboxes=document.querySelectorAll("[data-result-checkbox]"),this.idFields=document.querySelectorAll("[data-result-ids-field]"),this.cancelButtons=document.querySelectorAll("[data-cancel-button]")}init(){this.checkboxes.forEach(t=>{t.addEventListener("change",()=>this.onCheckboxChange())}),this.cancelButtons.forEach(t=>{t.addEventListener("click",()=>this.onCancelButtonClick())}),this.updateResultIdsHiddenField()}onCheckboxChange(){this.updateResultIdsHiddenField()}onCancelButtonClick(){this.hideAllForms()}hideAllForms(){document.querySelectorAll("[data-action-form]").forEach(e=>{e.classList.add("hide")})}updateResultIdsHiddenField(){const t=this.counter.getSelectedItems().map(e=>e.dataset.resultId);this.idFields.forEach(e=>{e.value=t.join(",")})}}var d=r;class a{init(){this.dropdownElement=document.querySelector("#js-bulk-actions-dropdown"),this.dropdownElement.querySelectorAll("button").forEach(e=>{e.addEventListener("click",this.onActionClick.bind(this))})}onActionClick(t){const e=t.target.dataset.action;this.closeDropdown(),this.hideAllForms(),this.showForm(e)}closeDropdown(){this.dropdownElement.classList.remove("is-open")}showForm(t){document.querySelector(`[data-action-form="${t}"]`).classList.remove("hide")}hideAllForms(){document.querySelectorAll("[data-action-form]").forEach(e=>{e.classList.add("hide")})}}var h=a;class u{constructor(t){this.counter=t,this.checkboxes=this.counter.checkboxes,this.selectAllButton=document.querySelector("[data-select-all]")}init(){this.selectAllButton&&this.selectAllButton.addEventListener("click",t=>this.onSelectAllClick(t))}onSelectAllClick(t){t.preventDefault();const e=Array.from(this.checkboxes).some(c=>!c.checked);this.checkboxes.forEach(c=>{c.checked=e,c.dispatchEvent(new Event("change"))})}}var m=u;$(()=>{const o=new n,t=new l(o),e=new d(o),c=new h,f=new m(o);o.init(),t.init(),e.init(),c.init(),f.init()})})();

//# sourceMappingURL=decidim_accountability_admin_index-af23594887c595a3eadf.js.map