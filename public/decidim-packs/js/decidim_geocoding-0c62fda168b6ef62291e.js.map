{"version":3,"file":"js/decidim_geocoding-0c62fda168b6ef62291e.js","mappings":"qCAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAO,CAACC,EAAQC,IAAQ,CAC5B,MAAMC,EAAQF,EAAO,QAAQ,OAAO,EAEpC,GADAE,EAAM,iBAAiB,aAAa,EAAE,QAASC,GAAOA,EAAG,OAAO,CAAC,EAC7DF,EAAK,CACP,MAAMG,EAAQ,SAAS,cAAc,MAAM,EAC3CA,EAAM,UAAY,aAClBA,EAAM,YAAcH,EACpBC,EAAM,YAAYE,CAAK,EACvBA,EAAM,MAAM,QAAU,OACxB,CACF,EACMC,EAAc,CAACC,EAAQC,IAAW,CAClCA,EACFD,EAAO,aAAa,WAAY,EAAI,EAEpCA,EAAO,gBAAgB,UAAU,CAErC,EACA,SAAS,iBAAiB,8BAA8B,EAAE,QAASA,GAAW,CAC5EA,EAAO,iBAAiB,QAAUE,GAAU,CAC1C,MAAMR,EAASQ,EAAM,OACrB,GAAIR,EAAO,SACT,OAEF,MAAMS,EAAQ,SAAS,eAAeT,EAAO,QAAQ,KAAK,EACpDU,EAAkBV,EAAO,QAAQ,gBACjCW,EAAmBX,EAAO,QAAQ,iBAClCY,EAAMZ,EAAO,QAAQ,IACvB,UAAU,aACZK,EAAYL,EAAQ,EAAI,EACxB,UAAU,YAAY,mBAAoBa,GAAa,CACrD,MAAMC,EAAc,CAACD,EAAS,OAAO,SAAUA,EAAS,OAAO,SAAS,EACxE,EAAE,KAAKD,EAAK,CAAE,SAAUE,EAAY,CAAC,EAAG,UAAWA,EAAY,CAAC,CAAE,EAAIC,GAAS,CAC7EN,EAAM,MAAQM,EAAK,QACnB,EAAEN,CAAK,EAAE,QAAQ,uCAAwC,CAACK,CAAW,CAAC,CACxE,CAAC,EAAE,KAAK,CAACE,EAAKC,EAAQb,IAAU,CAC9BL,EAAKU,EAAO,GAAGC,CAAe,IAAIN,CAAK,EAAE,CAC3C,CAAC,EACDC,EAAYL,EAAQ,EAAK,CAC3B,EAAIkB,GAAQ,CACVnB,EAAKU,EAAO,GAAGC,CAAe,IAAIQ,EAAI,OAAO,EAAE,EAC/ClB,EAAO,gBAAgB,UAAU,CACnC,EAAG,CACD,mBAAoB,EACtB,CAAC,GAEDD,EAAKU,EAAOE,CAAgB,CAEhC,CAAC,CACH,CAAC,CACH,CAAC,C,IClDGQ,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,EAAU,CAEtC,IAAIC,EAAeH,EAAyBE,CAAQ,EACpD,GAAIC,IAAiB,OACpB,OAAOA,EAAa,QAGrB,IAAIC,EAASJ,EAAyBE,CAAQ,EAAI,CAGjD,QAAS,CAAC,CACX,EAGA,OAAAG,EAAoBH,CAAQ,EAAEE,EAAQA,EAAO,QAASH,CAAmB,EAGlEG,EAAO,OACf,E,WCrBAH,EAAoB,EAAI,SAASG,EAAQ,CACxC,IAAIE,EAASF,GAAUA,EAAO,WAC7B,UAAW,CAAE,OAAOA,EAAO,OAAY,EACvC,UAAW,CAAE,OAAOA,CAAQ,EAC7B,OAAAH,EAAoB,EAAEK,EAAQ,CAAE,EAAGA,CAAO,CAAC,EACpCA,CACR,C,iBCNAL,EAAoB,EAAI,SAASM,EAASC,EAAY,CACrD,QAAQC,KAAOD,EACXP,EAAoB,EAAEO,EAAYC,CAAG,GAAK,CAACR,EAAoB,EAAEM,EAASE,CAAG,GAC/E,OAAO,eAAeF,EAASE,EAAK,CAAE,WAAY,GAAM,IAAKD,EAAWC,CAAG,CAAE,CAAC,CAGjF,C,iBCPAR,EAAoB,EAAI,SAASS,EAAKC,EAAM,CAAE,OAAO,OAAO,UAAU,eAAe,KAAKD,EAAKC,CAAI,CAAG,C","sources":["webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-core-0.30.1/app/packs/src/decidim/geocoding/reverse_geocoding.js","webpack://decidim-development-app/webpack/bootstrap","webpack://decidim-development-app/webpack/runtime/compat get default export","webpack://decidim-development-app/webpack/runtime/define property getters","webpack://decidim-development-app/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  const info = (target, msg) => {\n    const label = target.closest(\"label\");\n    label.querySelectorAll(\".form-error\").forEach((el) => el.remove());\n    if (msg) {\n      const error = document.createElement(\"span\");\n      error.className = \"form-error\";\n      error.textContent = msg;\n      label.appendChild(error);\n      error.style.display = \"block\";\n    }\n  };\n  const setLocating = (button, enable) => {\n    if (enable) {\n      button.setAttribute(\"disabled\", true);\n    } else {\n      button.removeAttribute(\"disabled\");\n    }\n  };\n  document.querySelectorAll(\".user-device-location button\").forEach((button) => {\n    button.addEventListener(\"click\", (event) => {\n      const target = event.target;\n      if (target.disabled) {\n        return;\n      }\n      const input = document.getElementById(target.dataset.input);\n      const errorNoLocation = target.dataset.errorNoLocation;\n      const errorUnsupported = target.dataset.errorUnsupported;\n      const url = target.dataset.url;\n      if (navigator.geolocation) {\n        setLocating(target, true);\n        navigator.geolocation.getCurrentPosition((position) => {\n          const coordinates = [position.coords.latitude, position.coords.longitude];\n          $.post(url, { latitude: coordinates[0], longitude: coordinates[1] }, (data) => {\n            input.value = data.address;\n            $(input).trigger(\"geocoder-suggest-coordinates.decidim\", [coordinates]);\n          }).fail((xhr, status, error) => {\n            info(input, `${errorNoLocation} ${error}`);\n          });\n          setLocating(target, false);\n        }, (evt) => {\n          info(input, `${errorNoLocation} ${evt.message}`);\n          target.removeAttribute(\"disabled\");\n        }, {\n          enableHighAccuracy: true\n        });\n      } else {\n        info(input, errorUnsupported);\n      }\n    });\n  });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }"],"names":["info","target","msg","label","el","error","setLocating","button","enable","event","input","errorNoLocation","errorUnsupported","url","position","coordinates","data","xhr","status","evt","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","getter","exports","definition","key","obj","prop"],"sourceRoot":""}