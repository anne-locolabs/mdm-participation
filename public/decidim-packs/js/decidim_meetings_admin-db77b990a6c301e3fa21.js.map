{"version":3,"file":"js/decidim_meetings_admin-db77b990a6c301e3fa21.js","mappings":"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","sources":["webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-meetings-0.30.1/app/packs/src/decidim/meetings/admin/destroy_meeting_alert.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-meetings-0.30.1/app/packs/src/decidim/meetings/admin/registrations_form.js","webpack://decidim-development-app/./node_modules/tom-select/dist/cjs/tom-select.popular.js","webpack://decidim-development-app/webpack/bootstrap","webpack://decidim-development-app/webpack/runtime/compat get default export","webpack://decidim-development-app/webpack/runtime/define property getters","webpack://decidim-development-app/webpack/runtime/hasOwnProperty shorthand","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-admin-0.30.1/app/packs/src/decidim/admin/auto_buttons_by_position.component.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-admin-0.30.1/app/packs/src/decidim/admin/auto_label_by_position.component.js","webpack://decidim-development-app/./node_modules/html5sortable/dist/html5sortable.es.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-admin-0.30.1/app/packs/src/decidim/admin/sort_list.component.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-admin-0.30.1/app/packs/src/decidim/admin/dynamic_fields.component.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-meetings-0.30.1/app/packs/src/decidim/meetings/admin/agendas.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-admin-0.30.1/app/packs/src/decidim/admin/field_dependent_inputs.component.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-core-0.30.1/app/packs/src/decidim/geocoding/coordinate_input.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-core-0.30.1/app/packs/src/decidim/geocoding/attach_input.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-meetings-0.30.1/app/packs/src/decidim/meetings/admin/meetings_form.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-core-0.30.1/app/packs/src/decidim/tooltips.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-meetings-0.30.1/app/packs/src/decidim/meetings/admin/meetings_components_form.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-meetings-0.30.1/app/packs/src/decidim/meetings/admin/registrations_invite_form.js"],"sourcesContent":["const removeNewlineAdjacentSpaces = (text) => {\n  return text.replace(/\\n\\s/g, \"\\n\");\n};\n$(() => {\n  const $confirmButton = $(\".destroy-meeting-alert\");\n  if ($confirmButton.length > 0) {\n    $confirmButton.on(\"click\", () => {\n      let alertText = `${$confirmButton.data(\"invalid-destroy-message\")} \n\n`;\n      alertText += removeNewlineAdjacentSpaces($confirmButton.data(\"proposal-titles\"));\n      alert(alertText);\n    });\n  }\n});\n","$(() => {\n  const $form = $(\".edit_meeting_registrations\");\n  if ($form.length > 0) {\n    const $registrationsEnabled = $form.find(\"#meeting_registrations_enabled\");\n    const $availableSlots = $form.find(\"#meeting_available_slots\");\n    const $reservedSlots = $form.find(\"#meeting_reserved_slots\");\n    const $customizeRegistrationEmail = $form.find(\"#meeting_customize_registration_email\");\n    $customizeRegistrationEmail.on(\"click\", (event) => {\n      if (event.target.checked) {\n        $(\"#customize_registration_email-div\").removeClass(\"hidden\");\n      } else {\n        $(\"#customize_registration_email-div\").addClass(\"hidden\");\n      }\n    });\n    const toggleDisabledFields = () => {\n      const enabled = $registrationsEnabled.prop(\"checked\");\n      $availableSlots.attr(\"disabled\", !enabled);\n      $reservedSlots.attr(\"disabled\", !enabled);\n      $customizeRegistrationEmail.attr(\"disabled\", !enabled);\n      $form[0].querySelectorAll(\".editor-container .ProseMirror\").forEach((node) => {\n        node.editor.setOptions({ editable: enabled });\n      });\n    };\n    $registrationsEnabled.on(\"change\", toggleDisabledFields);\n    toggleDisabledFields();\n  }\n});\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n'use strict';\n\n/**\n * MicroEvent - to make any js object an event emitter\n *\n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * @author Jerome Etienne (https://github.com/jeromeetienne)\n */\n\n/**\n * Execute callback for each event in space separated list of event names\n *\n */\nfunction forEvents(events, callback) {\n  events.split(/\\s+/).forEach(event => {\n    callback(event);\n  });\n}\n\nclass MicroEvent {\n  constructor() {\n    this._events = void 0;\n    this._events = {};\n  }\n\n  on(events, fct) {\n    forEvents(events, event => {\n      const event_array = this._events[event] || [];\n      event_array.push(fct);\n      this._events[event] = event_array;\n    });\n  }\n\n  off(events, fct) {\n    var n = arguments.length;\n\n    if (n === 0) {\n      this._events = {};\n      return;\n    }\n\n    forEvents(events, event => {\n      if (n === 1) {\n        delete this._events[event];\n        return;\n      }\n\n      const event_array = this._events[event];\n      if (event_array === undefined) return;\n      event_array.splice(event_array.indexOf(fct), 1);\n      this._events[event] = event_array;\n    });\n  }\n\n  trigger(events, ...args) {\n    var self = this;\n    forEvents(events, event => {\n      const event_array = self._events[event];\n      if (event_array === undefined) return;\n      event_array.forEach(fct => {\n        fct.apply(self, args);\n      });\n    });\n  }\n\n}\n\n/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\nfunction MicroPlugin(Interface) {\n  Interface.plugins = {};\n  return class extends Interface {\n    constructor(...args) {\n      super(...args);\n      this.plugins = {\n        names: [],\n        settings: {},\n        requested: {},\n        loaded: {}\n      };\n    }\n\n    /**\n     * Registers a plugin.\n     *\n     * @param {function} fn\n     */\n    static define(name, fn) {\n      Interface.plugins[name] = {\n        'name': name,\n        'fn': fn\n      };\n    }\n    /**\n     * Initializes the listed plugins (with options).\n     * Acceptable formats:\n     *\n     * List (without options):\n     *   ['a', 'b', 'c']\n     *\n     * List (with options):\n     *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n     *\n     * Hash (with options):\n     *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n     *\n     * @param {array|object} plugins\n     */\n\n\n    initializePlugins(plugins) {\n      var key, name;\n      const self = this;\n      const queue = [];\n\n      if (Array.isArray(plugins)) {\n        plugins.forEach(plugin => {\n          if (typeof plugin === 'string') {\n            queue.push(plugin);\n          } else {\n            self.plugins.settings[plugin.name] = plugin.options;\n            queue.push(plugin.name);\n          }\n        });\n      } else if (plugins) {\n        for (key in plugins) {\n          if (plugins.hasOwnProperty(key)) {\n            self.plugins.settings[key] = plugins[key];\n            queue.push(key);\n          }\n        }\n      }\n\n      while (name = queue.shift()) {\n        self.require(name);\n      }\n    }\n\n    loadPlugin(name) {\n      var self = this;\n      var plugins = self.plugins;\n      var plugin = Interface.plugins[name];\n\n      if (!Interface.plugins.hasOwnProperty(name)) {\n        throw new Error('Unable to find \"' + name + '\" plugin');\n      }\n\n      plugins.requested[name] = true;\n      plugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n      plugins.names.push(name);\n    }\n    /**\n     * Initializes a plugin.\n     *\n     */\n\n\n    require(name) {\n      var self = this;\n      var plugins = self.plugins;\n\n      if (!self.plugins.loaded.hasOwnProperty(name)) {\n        if (plugins.requested[name]) {\n          throw new Error('Plugin has circular dependency (\"' + name + '\")');\n        }\n\n        self.loadPlugin(name);\n      }\n\n      return plugins.loaded[name];\n    }\n\n  };\n}\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {string[]} chars\n * @return {string}\n */\nconst arrayToPattern = chars => {\n  chars = chars.filter(Boolean);\n\n  if (chars.length < 2) {\n    return chars[0] || '';\n  }\n\n  return maxValueLength(chars) == 1 ? '[' + chars.join('') + ']' : '(?:' + chars.join('|') + ')';\n};\n/**\n * @param {string[]} array\n * @return {string}\n */\n\nconst sequencePattern = array => {\n  if (!hasDuplicates(array)) {\n    return array.join('');\n  }\n\n  let pattern = '';\n  let prev_char_count = 0;\n\n  const prev_pattern = () => {\n    if (prev_char_count > 1) {\n      pattern += '{' + prev_char_count + '}';\n    }\n  };\n\n  array.forEach((char, i) => {\n    if (char === array[i - 1]) {\n      prev_char_count++;\n      return;\n    }\n\n    prev_pattern();\n    pattern += char;\n    prev_char_count = 1;\n  });\n  prev_pattern();\n  return pattern;\n};\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {Set<string>} chars\n * @return {string}\n */\n\nconst setToPattern = chars => {\n  let array = toArray(chars);\n  return arrayToPattern(array);\n};\n/**\n *\n * https://stackoverflow.com/questions/7376598/in-javascript-how-do-i-check-if-an-array-has-duplicate-values\n * @param {any[]} array\n */\n\nconst hasDuplicates = array => {\n  return new Set(array).size !== array.length;\n};\n/**\n * https://stackoverflow.com/questions/63006601/why-does-u-throw-an-invalid-escape-error\n * @param {string} str\n * @return {string}\n */\n\nconst escape_regex = str => {\n  return (str + '').replace(/([\\$\\(\\)\\*\\+\\.\\?\\[\\]\\^\\{\\|\\}\\\\])/gu, '\\\\$1');\n};\n/**\n * Return the max length of array values\n * @param {string[]} array\n *\n */\n\nconst maxValueLength = array => {\n  return array.reduce((longest, value) => Math.max(longest, unicodeLength(value)), 0);\n};\n/**\n * @param {string} str\n */\n\nconst unicodeLength = str => {\n  return toArray(str).length;\n};\n/**\n * @param {any} p\n * @return {any[]}\n */\n\nconst toArray = p => Array.from(p);\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Get all possible combinations of substrings that add up to the given string\n * https://stackoverflow.com/questions/30169587/find-all-the-combination-of-substrings-that-add-up-to-the-given-string\n * @param {string} input\n * @return {string[][]}\n */\nconst allSubstrings = input => {\n  if (input.length === 1) return [[input]];\n  /** @type {string[][]} */\n\n  let result = [];\n  const start = input.substring(1);\n  const suba = allSubstrings(start);\n  suba.forEach(function (subresult) {\n    let tmp = subresult.slice(0);\n    tmp[0] = input.charAt(0) + tmp[0];\n    result.push(tmp);\n    tmp = subresult.slice(0);\n    tmp.unshift(input.charAt(0));\n    result.push(tmp);\n  });\n  return result;\n};\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n\n/**\n * @typedef {{[key:string]:string}} TUnicodeMap\n * @typedef {{[key:string]:Set<string>}} TUnicodeSets\n * @typedef {[[number,number]]} TCodePoints\n * @typedef {{folded:string,composed:string,code_point:number}} TCodePointObj\n * @typedef {{start:number,end:number,length:number,substr:string}} TSequencePart\n */\n/** @type {TCodePoints} */\n\nconst code_points = [[0, 65535]];\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nlet unicode_map;\n/** @type {RegExp} */\n\nlet multi_char_reg;\nconst max_char_length = 3;\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '',\n  '0': '',\n  \"a\": \"\",\n  \"aa\": \"\",\n  \"ae\": \"\",\n  \"ao\": \"\",\n  \"au\": \"\",\n  \"av\": \"\",\n  \"ay\": \"\",\n  \"b\": \"\",\n  \"c\": \"\",\n  \"d\": \"\",\n  \"e\": \"\",\n  \"f\": \"\",\n  \"g\": \"\",\n  \"h\": \"\",\n  \"i\": \"\",\n  \"j\": \"\",\n  \"k\": \"\",\n  \"l\": \"\",\n  \"m\": \"\",\n  \"n\": \"\",\n  \"o\": \"\",\n  \"oe\": \"\",\n  \"oi\": \"\",\n  \"oo\": \"\",\n  \"ou\": \"\",\n  \"p\": \"\",\n  \"q\": \"\",\n  \"r\": \"\",\n  \"s\": \"\",\n  \"t\": \"\",\n  \"th\": \"\",\n  \"tz\": \"\",\n  \"u\": \"\",\n  \"v\": \"\",\n  \"vy\": \"\",\n  \"w\": \"\",\n  \"y\": \"\",\n  \"z\": \"\",\n  \"hv\": \"\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nconst convert_pat = new RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n/**\n * Initialize the unicode_map from the give code point ranges\n *\n * @param {TCodePoints=} _code_points\n */\n\nconst initialize = _code_points => {\n  if (unicode_map !== undefined) return;\n  unicode_map = generateMap(_code_points || code_points);\n};\n/**\n * Helper method for normalize a string\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\n * @param {string} str\n * @param {string} form\n */\n\nconst normalize = (str, form = 'NFKD') => str.normalize(form);\n/**\n * Remove accents without reordering string\n * calling str.normalize('NFKD') on \\u{594}\\u{595}\\u{596} becomes \\u{596}\\u{594}\\u{595}\n * via https://github.com/krisk/Fuse/issues/133#issuecomment-318692703\n * @param {string} str\n * @return {string}\n */\n\nconst asciifold = str => {\n  return toArray(str).reduce(\n  /**\n   * @param {string} result\n   * @param {string} char\n   */\n  (result, char) => {\n    return result + _asciifold(char);\n  }, '');\n};\n/**\n * @param {string} str\n * @return {string}\n */\n\nconst _asciifold = str => {\n  str = normalize(str).toLowerCase().replace(convert_pat, (\n  /** @type {string} */\n  char) => {\n    return latin_convert[char] || '';\n  }); //return str;\n\n  return normalize(str, 'NFC');\n};\n/**\n * Generate a list of unicode variants from the list of code points\n * @param {TCodePoints} code_points\n * @yield {TCodePointObj}\n */\n\nfunction* generator(code_points) {\n  for (const [code_point_min, code_point_max] of code_points) {\n    for (let i = code_point_min; i <= code_point_max; i++) {\n      let composed = String.fromCharCode(i);\n      let folded = asciifold(composed);\n\n      if (folded == composed.toLowerCase()) {\n        continue;\n      } // skip when folded is a string longer than 3 characters long\n      // bc the resulting regex patterns will be long\n      // eg:\n      // folded     length 18 code point 65018\n      // folded   length 8 code point 65019\n\n\n      if (folded.length > max_char_length) {\n        continue;\n      }\n\n      if (folded.length == 0) {\n        continue;\n      }\n\n      yield {\n        folded: folded,\n        composed: composed,\n        code_point: i\n      };\n    }\n  }\n}\n/**\n * Generate a unicode map from the list of code points\n * @param {TCodePoints} code_points\n * @return {TUnicodeSets}\n */\n\nconst generateSets = code_points => {\n  /** @type {{[key:string]:Set<string>}} */\n  const unicode_sets = {};\n  /**\n   * @param {string} folded\n   * @param {string} to_add\n   */\n\n  const addMatching = (folded, to_add) => {\n    /** @type {Set<string>} */\n    const folded_set = unicode_sets[folded] || new Set();\n    const patt = new RegExp('^' + setToPattern(folded_set) + '$', 'iu');\n\n    if (to_add.match(patt)) {\n      return;\n    }\n\n    folded_set.add(escape_regex(to_add));\n    unicode_sets[folded] = folded_set;\n  };\n\n  for (let value of generator(code_points)) {\n    addMatching(value.folded, value.folded);\n    addMatching(value.folded, value.composed);\n  }\n\n  return unicode_sets;\n};\n/**\n * Generate a unicode map from the list of code points\n * ae => (?:(?:ae|||)|(?:A||...)(?:E||...))\n *\n * @param {TCodePoints} code_points\n * @return {TUnicodeMap}\n */\n\nconst generateMap = code_points => {\n  /** @type {TUnicodeSets} */\n  const unicode_sets = generateSets(code_points);\n  /** @type {TUnicodeMap} */\n\n  const unicode_map = {};\n  /** @type {string[]} */\n\n  let multi_char = [];\n\n  for (let folded in unicode_sets) {\n    let set = unicode_sets[folded];\n\n    if (set) {\n      unicode_map[folded] = setToPattern(set);\n    }\n\n    if (folded.length > 1) {\n      multi_char.push(escape_regex(folded));\n    }\n  }\n\n  multi_char.sort((a, b) => b.length - a.length);\n  const multi_char_patt = arrayToPattern(multi_char);\n  multi_char_reg = new RegExp('^' + multi_char_patt, 'u');\n  return unicode_map;\n};\n/**\n * Map each element of an array from it's folded value to all possible unicode matches\n * @param {string[]} strings\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst mapSequence = (strings, min_replacement = 1) => {\n  let chars_replaced = 0;\n  strings = strings.map(str => {\n    if (unicode_map[str]) {\n      chars_replaced += str.length;\n    }\n\n    return unicode_map[str] || str;\n  });\n\n  if (chars_replaced >= min_replacement) {\n    return sequencePattern(strings);\n  }\n\n  return '';\n};\n/**\n * Convert a short string and split it into all possible patterns\n * Keep a pattern only if min_replacement is met\n *\n * 'abc'\n * \t\t=> [['abc'],['ab','c'],['a','bc'],['a','b','c']]\n *\t\t=> ['abc-pattern','ab-c-pattern'...]\n *\n *\n * @param {string} str\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst substringsToPattern = (str, min_replacement = 1) => {\n  min_replacement = Math.max(min_replacement, str.length - 1);\n  return arrayToPattern(allSubstrings(str).map(sub_pat => {\n    return mapSequence(sub_pat, min_replacement);\n  }));\n};\n/**\n * Convert an array of sequences into a pattern\n * [{start:0,end:3,length:3,substr:'iii'}...] => (?:iii...)\n *\n * @param {Sequence[]} sequences\n * @param {boolean} all\n */\n\nconst sequencesToPattern = (sequences, all = true) => {\n  let min_replacement = sequences.length > 1 ? 1 : 0;\n  return arrayToPattern(sequences.map(sequence => {\n    let seq = [];\n    const len = all ? sequence.length() : sequence.length() - 1;\n\n    for (let j = 0; j < len; j++) {\n      seq.push(substringsToPattern(sequence.substrs[j] || '', min_replacement));\n    }\n\n    return sequencePattern(seq);\n  }));\n};\n/**\n * Return true if the sequence is already in the sequences\n * @param {Sequence} needle_seq\n * @param {Sequence[]} sequences\n */\n\n\nconst inSequences = (needle_seq, sequences) => {\n  for (const seq of sequences) {\n    if (seq.start != needle_seq.start || seq.end != needle_seq.end) {\n      continue;\n    }\n\n    if (seq.substrs.join('') !== needle_seq.substrs.join('')) {\n      continue;\n    }\n\n    let needle_parts = needle_seq.parts;\n    /**\n     * @param {TSequencePart} part\n     */\n\n    const filter = part => {\n      for (const needle_part of needle_parts) {\n        if (needle_part.start === part.start && needle_part.substr === part.substr) {\n          return false;\n        }\n\n        if (part.length == 1 || needle_part.length == 1) {\n          continue;\n        } // check for overlapping parts\n        // a = ['::=','==']\n        // b = ['::','===']\n        // a = ['r','sm']\n        // b = ['rs','m']\n\n\n        if (part.start < needle_part.start && part.end > needle_part.start) {\n          return true;\n        }\n\n        if (needle_part.start < part.start && needle_part.end > part.start) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    let filtered = seq.parts.filter(filter);\n\n    if (filtered.length > 0) {\n      continue;\n    }\n\n    return true;\n  }\n\n  return false;\n};\n\nclass Sequence {\n  constructor() {\n    /** @type {TSequencePart[]} */\n    this.parts = [];\n    /** @type {string[]} */\n\n    this.substrs = [];\n    this.start = 0;\n    this.end = 0;\n  }\n  /**\n   * @param {TSequencePart|undefined} part\n   */\n\n\n  add(part) {\n    if (part) {\n      this.parts.push(part);\n      this.substrs.push(part.substr);\n      this.start = Math.min(part.start, this.start);\n      this.end = Math.max(part.end, this.end);\n    }\n  }\n\n  last() {\n    return this.parts[this.parts.length - 1];\n  }\n\n  length() {\n    return this.parts.length;\n  }\n  /**\n   * @param {number} position\n   * @param {TSequencePart} last_piece\n   */\n\n\n  clone(position, last_piece) {\n    let clone = new Sequence();\n    let parts = JSON.parse(JSON.stringify(this.parts));\n    let last_part = parts.pop();\n\n    for (const part of parts) {\n      clone.add(part);\n    }\n\n    let last_substr = last_piece.substr.substring(0, position - last_part.start);\n    let clone_last_len = last_substr.length;\n    clone.add({\n      start: last_part.start,\n      end: last_part.start + clone_last_len,\n      length: clone_last_len,\n      substr: last_substr\n    });\n    return clone;\n  }\n\n}\n/**\n * Expand a regular expression pattern to include unicode variants\n * \teg /a/ becomes /aA/\n *\n * Issue:\n *   [ ' = \\\\u{fe8a}', ' = \\\\u{fe8b}' ]\n *\tbecomes:\t [ ' = \\\\u{64a}', ' = \\\\u{654}', ' = \\\\u{64a}', ' = \\\\u{654}' ]\n *\n *\t = IIJ = J\n *\n * \t1/2/4\n *\n * @param {string} str\n * @return {string|undefined}\n */\n\n\nconst getPattern = str => {\n  initialize();\n  str = asciifold(str);\n  let pattern = '';\n  let sequences = [new Sequence()];\n\n  for (let i = 0; i < str.length; i++) {\n    let substr = str.substring(i);\n    let match = substr.match(multi_char_reg);\n    const char = str.substring(i, i + 1);\n    const match_str = match ? match[0] : null; // loop through sequences\n    // add either the char or multi_match\n\n    let overlapping = [];\n    let added_types = new Set();\n\n    for (const sequence of sequences) {\n      const last_piece = sequence.last();\n\n      if (!last_piece || last_piece.length == 1 || last_piece.end <= i) {\n        // if we have a multi match\n        if (match_str) {\n          const len = match_str.length;\n          sequence.add({\n            start: i,\n            end: i + len,\n            length: len,\n            substr: match_str\n          });\n          added_types.add('1');\n        } else {\n          sequence.add({\n            start: i,\n            end: i + 1,\n            length: 1,\n            substr: char\n          });\n          added_types.add('2');\n        }\n      } else if (match_str) {\n        let clone = sequence.clone(i, last_piece);\n        const len = match_str.length;\n        clone.add({\n          start: i,\n          end: i + len,\n          length: len,\n          substr: match_str\n        });\n        overlapping.push(clone);\n      } else {\n        // don't add char\n        // adding would create invalid patterns: 234 => [2,34,4]\n        added_types.add('3');\n      }\n    } // if we have overlapping\n\n\n    if (overlapping.length > 0) {\n      // ['ii','iii'] before ['i','i','iii']\n      overlapping = overlapping.sort((a, b) => {\n        return a.length() - b.length();\n      });\n\n      for (let clone of overlapping) {\n        // don't add if we already have an equivalent sequence\n        if (inSequences(clone, sequences)) {\n          continue;\n        }\n\n        sequences.push(clone);\n      }\n\n      continue;\n    } // if we haven't done anything unique\n    // clean up the patterns\n    // helps keep patterns smaller\n    // if str = 'raarss', pattern will be 446 instead of 655\n\n\n    if (i > 0 && added_types.size == 1 && !added_types.has('3')) {\n      pattern += sequencesToPattern(sequences, false);\n      let new_seq = new Sequence();\n      const old_seq = sequences[0];\n\n      if (old_seq) {\n        new_seq.add(old_seq.last());\n      }\n\n      sequences = [new_seq];\n    }\n  }\n\n  pattern += sequencesToPattern(sequences, true);\n  return pattern;\n};\n\n/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\nconst getAttr = (obj, name) => {\n  if (!obj) return;\n  return obj[name];\n};\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\n\nconst getAttrNesting = (obj, name) => {\n  if (!obj) return;\n  var part,\n      names = name.split(\".\");\n\n  while ((part = names.shift()) && (obj = obj[part]));\n\n  return obj;\n};\n/**\n * Calculates how close of a match the\n * given value is against a search token.\n *\n */\n\nconst scoreValue = (value, token, weight) => {\n  var score, pos;\n  if (!value) return 0;\n  value = value + '';\n  if (token.regex == null) return 0;\n  pos = value.search(token.regex);\n  if (pos === -1) return 0;\n  score = token.string.length / value.length;\n  if (pos === 0) score += 0.5;\n  return score * weight;\n};\n/**\n * Cast object property to an array if it exists and has a value\n *\n */\n\nconst propToArray = (obj, key) => {\n  var value = obj[key];\n  if (typeof value == 'function') return value;\n\n  if (value && !Array.isArray(value)) {\n    obj[key] = [value];\n  }\n};\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate$1 = (object, callback) => {\n  if (Array.isArray(object)) {\n    object.forEach(callback);\n  } else {\n    for (var key in object) {\n      if (object.hasOwnProperty(key)) {\n        callback(object[key], key);\n      }\n    }\n  }\n};\nconst cmp = (a, b) => {\n  if (typeof a === 'number' && typeof b === 'number') {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  a = asciifold(a + '').toLowerCase();\n  b = asciifold(b + '').toLowerCase();\n  if (a > b) return 1;\n  if (b > a) return -1;\n  return 0;\n};\n\n/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n/**\n * sifter.js\n * Copyright (c) 20132020 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\nclass Sifter {\n  // []|{};\n\n  /**\n   * Textually searches arrays and hashes of objects\n   * by property (or multiple properties). Designed\n   * specifically for autocomplete.\n   *\n   */\n  constructor(items, settings) {\n    this.items = void 0;\n    this.settings = void 0;\n    this.items = items;\n    this.settings = settings || {\n      diacritics: true\n    };\n  }\n\n  /**\n   * Splits a search string into an array of individual\n   * regexps to be used to match results.\n   *\n   */\n  tokenize(query, respect_word_boundaries, weights) {\n    if (!query || !query.length) return [];\n    const tokens = [];\n    const words = query.split(/\\s+/);\n    var field_regex;\n\n    if (weights) {\n      field_regex = new RegExp('^(' + Object.keys(weights).map(escape_regex).join('|') + ')\\:(.*)$');\n    }\n\n    words.forEach(word => {\n      let field_match;\n      let field = null;\n      let regex = null; // look for \"field:query\" tokens\n\n      if (field_regex && (field_match = word.match(field_regex))) {\n        field = field_match[1];\n        word = field_match[2];\n      }\n\n      if (word.length > 0) {\n        if (this.settings.diacritics) {\n          regex = getPattern(word) || null;\n        } else {\n          regex = escape_regex(word);\n        }\n\n        if (regex && respect_word_boundaries) regex = \"\\\\b\" + regex;\n      }\n\n      tokens.push({\n        string: word,\n        regex: regex ? new RegExp(regex, 'iu') : null,\n        field: field\n      });\n    });\n    return tokens;\n  }\n\n  /**\n   * Returns a function to be used to score individual results.\n   *\n   * Good matches will have a higher score than poor matches.\n   * If an item is not a match, 0 will be returned by the function.\n   *\n   * @returns {T.ScoreFn}\n   */\n  getScoreFunction(query, options) {\n    var search = this.prepareSearch(query, options);\n    return this._getScoreFunction(search);\n  }\n  /**\n   * @returns {T.ScoreFn}\n   *\n   */\n\n\n  _getScoreFunction(search) {\n    const tokens = search.tokens,\n          token_count = tokens.length;\n\n    if (!token_count) {\n      return function () {\n        return 0;\n      };\n    }\n\n    const fields = search.options.fields,\n          weights = search.weights,\n          field_count = fields.length,\n          getAttrFn = search.getAttrFn;\n\n    if (!field_count) {\n      return function () {\n        return 1;\n      };\n    }\n    /**\n     * Calculates the score of an object\n     * against the search query.\n     *\n     */\n\n\n    const scoreObject = function () {\n      if (field_count === 1) {\n        return function (token, data) {\n          const field = fields[0].field;\n          return scoreValue(getAttrFn(data, field), token, weights[field] || 1);\n        };\n      }\n\n      return function (token, data) {\n        var sum = 0; // is the token specific to a field?\n\n        if (token.field) {\n          const value = getAttrFn(data, token.field);\n\n          if (!token.regex && value) {\n            sum += 1 / field_count;\n          } else {\n            sum += scoreValue(value, token, 1);\n          }\n        } else {\n          iterate$1(weights, (weight, field) => {\n            sum += scoreValue(getAttrFn(data, field), token, weight);\n          });\n        }\n\n        return sum / field_count;\n      };\n    }();\n\n    if (token_count === 1) {\n      return function (data) {\n        return scoreObject(tokens[0], data);\n      };\n    }\n\n    if (search.options.conjunction === 'and') {\n      return function (data) {\n        var score,\n            sum = 0;\n\n        for (let token of tokens) {\n          score = scoreObject(token, data);\n          if (score <= 0) return 0;\n          sum += score;\n        }\n\n        return sum / token_count;\n      };\n    } else {\n      return function (data) {\n        var sum = 0;\n        iterate$1(tokens, token => {\n          sum += scoreObject(token, data);\n        });\n        return sum / token_count;\n      };\n    }\n  }\n\n  /**\n   * Returns a function that can be used to compare two\n   * results, for sorting purposes. If no sorting should\n   * be performed, `null` will be returned.\n   *\n   * @return function(a,b)\n   */\n  getSortFunction(query, options) {\n    var search = this.prepareSearch(query, options);\n    return this._getSortFunction(search);\n  }\n\n  _getSortFunction(search) {\n    var implicit_score,\n        sort_flds = [];\n    const self = this,\n          options = search.options,\n          sort = !search.query && options.sort_empty ? options.sort_empty : options.sort;\n\n    if (typeof sort == 'function') {\n      return sort.bind(this);\n    }\n    /**\n     * Fetches the specified sort field value\n     * from a search result item.\n     *\n     */\n\n\n    const get_field = function get_field(name, result) {\n      if (name === '$score') return result.score;\n      return search.getAttrFn(self.items[result.id], name);\n    }; // parse options\n\n\n    if (sort) {\n      for (let s of sort) {\n        if (search.query || s.field !== '$score') {\n          sort_flds.push(s);\n        }\n      }\n    } // the \"$score\" field is implied to be the primary\n    // sort field, unless it's manually specified\n\n\n    if (search.query) {\n      implicit_score = true;\n\n      for (let fld of sort_flds) {\n        if (fld.field === '$score') {\n          implicit_score = false;\n          break;\n        }\n      }\n\n      if (implicit_score) {\n        sort_flds.unshift({\n          field: '$score',\n          direction: 'desc'\n        });\n      } // without a search.query, all items will have the same score\n\n    } else {\n      sort_flds = sort_flds.filter(fld => fld.field !== '$score');\n    } // build function\n\n\n    const sort_flds_count = sort_flds.length;\n\n    if (!sort_flds_count) {\n      return null;\n    }\n\n    return function (a, b) {\n      var result, field;\n\n      for (let sort_fld of sort_flds) {\n        field = sort_fld.field;\n        let multiplier = sort_fld.direction === 'desc' ? -1 : 1;\n        result = multiplier * cmp(get_field(field, a), get_field(field, b));\n        if (result) return result;\n      }\n\n      return 0;\n    };\n  }\n\n  /**\n   * Parses a search query and returns an object\n   * with tokens and fields ready to be populated\n   * with results.\n   *\n   */\n  prepareSearch(query, optsUser) {\n    const weights = {};\n    var options = Object.assign({}, optsUser);\n    propToArray(options, 'sort');\n    propToArray(options, 'sort_empty'); // convert fields to new format\n\n    if (options.fields) {\n      propToArray(options, 'fields');\n      const fields = [];\n      options.fields.forEach(field => {\n        if (typeof field == 'string') {\n          field = {\n            field: field,\n            weight: 1\n          };\n        }\n\n        fields.push(field);\n        weights[field.field] = 'weight' in field ? field.weight : 1;\n      });\n      options.fields = fields;\n    }\n\n    return {\n      options: options,\n      query: query.toLowerCase().trim(),\n      tokens: this.tokenize(query, options.respect_word_boundaries, weights),\n      total: 0,\n      items: [],\n      weights: weights,\n      getAttrFn: options.nesting ? getAttrNesting : getAttr\n    };\n  }\n\n  /**\n   * Searches through all items and returns a sorted array of matches.\n   *\n   */\n  search(query, options) {\n    var self = this,\n        score,\n        search;\n    search = this.prepareSearch(query, options);\n    options = search.options;\n    query = search.query; // generate result scoring function\n\n    const fn_score = options.score || self._getScoreFunction(search); // perform search and sort\n\n\n    if (query.length) {\n      iterate$1(self.items, (item, id) => {\n        score = fn_score(item);\n\n        if (options.filter === false || score > 0) {\n          search.items.push({\n            'score': score,\n            'id': id\n          });\n        }\n      });\n    } else {\n      iterate$1(self.items, (_, id) => {\n        search.items.push({\n          'score': 1,\n          'id': id\n        });\n      });\n    }\n\n    const fn_sort = self._getSortFunction(search);\n\n    if (fn_sort) search.items.sort(fn_sort); // apply limits\n\n    search.total = search.items.length;\n\n    if (typeof options.limit === 'number') {\n      search.items = search.items.slice(0, options.limit);\n    }\n\n    return search;\n  }\n\n}\n\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate = (object, callback) => {\n  if (Array.isArray(object)) {\n    object.forEach(callback);\n  } else {\n    for (var key in object) {\n      if (object.hasOwnProperty(key)) {\n        callback(object[key], key);\n      }\n    }\n  }\n};\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\nconst escapeQuery = query => {\n  return query.replace(/['\"\\\\]/g, '\\\\$&');\n};\n/**\n * Dispatch an event\n *\n */\n\nconst triggerEvent = (dom_el, event_name) => {\n  var event = document.createEvent('HTMLEvents');\n  event.initEvent(event_name, true, false);\n  dom_el.dispatchEvent(event);\n};\n/**\n * Apply CSS rules to a dom element\n *\n */\n\nconst applyCSS = (dom_el, css) => {\n  Object.assign(dom_el.style, css);\n};\n/**\n * Add css classes\n *\n */\n\nconst addClasses = (elmts, ...classes) => {\n  var norm_classes = classesArray(classes);\n  elmts = castAsArray(elmts);\n  elmts.map(el => {\n    norm_classes.map(cls => {\n      el.classList.add(cls);\n    });\n  });\n};\n/**\n * Remove css classes\n *\n */\n\nconst removeClasses = (elmts, ...classes) => {\n  var norm_classes = classesArray(classes);\n  elmts = castAsArray(elmts);\n  elmts.map(el => {\n    norm_classes.map(cls => {\n      el.classList.remove(cls);\n    });\n  });\n};\n/**\n * Return arguments\n *\n */\n\nconst classesArray = args => {\n  var classes = [];\n  iterate(args, _classes => {\n    if (typeof _classes === 'string') {\n      _classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n    }\n\n    if (Array.isArray(_classes)) {\n      classes = classes.concat(_classes);\n    }\n  });\n  return classes.filter(Boolean);\n};\n/**\n * Create an array from arg if it's not already an array\n *\n */\n\nconst castAsArray = arg => {\n  if (!Array.isArray(arg)) {\n    arg = [arg];\n  }\n\n  return arg;\n};\n/**\n * Get the closest node to the evt.target matching the selector\n * Stops at wrapper\n *\n */\n\nconst parentMatch = (target, selector, wrapper) => {\n  if (wrapper && !wrapper.contains(target)) {\n    return;\n  }\n\n  while (target && target.matches) {\n    if (target.matches(selector)) {\n      return target;\n    }\n\n    target = target.parentNode;\n  }\n};\n/**\n * Get the first or last item from an array\n *\n * > 0 - right (last)\n * <= 0 - left (first)\n *\n */\n\nconst getTail = (list, direction = 0) => {\n  if (direction > 0) {\n    return list[list.length - 1];\n  }\n\n  return list[0];\n};\n/**\n * Return true if an object is empty\n *\n */\n\nconst isEmptyObject = obj => {\n  return Object.keys(obj).length === 0;\n};\n/**\n * Get the index of an element amongst sibling nodes of the same type\n *\n */\n\nconst nodeIndex = (el, amongst) => {\n  if (!el) return -1;\n  amongst = amongst || el.nodeName;\n  var i = 0;\n\n  while (el = el.previousElementSibling) {\n    if (el.matches(amongst)) {\n      i++;\n    }\n  }\n\n  return i;\n};\n/**\n * Set attributes of an element\n *\n */\n\nconst setAttr = (el, attrs) => {\n  iterate(attrs, (val, attr) => {\n    if (val == null) {\n      el.removeAttribute(attr);\n    } else {\n      el.setAttribute(attr, '' + val);\n    }\n  });\n};\n/**\n * Replace a node\n */\n\nconst replaceNode = (existing, replacement) => {\n  if (existing.parentNode) existing.parentNode.replaceChild(replacement, existing);\n};\n\n/**\n * highlight v3 | MIT license | Johann Burkard <jb@eaio.com>\n * Highlights arbitrary terms in a node.\n *\n * - Modified by Marshal <beatgates@gmail.com> 2011-6-24 (added regex)\n * - Modified by Brian Reavis <brian@thirdroute.com> 2012-8-27 (cleanup)\n */\nconst highlight = (element, regex) => {\n  if (regex === null) return; // convet string to regex\n\n  if (typeof regex === 'string') {\n    if (!regex.length) return;\n    regex = new RegExp(regex, 'i');\n  } // Wrap matching part of text node with highlighting <span>, e.g.\n  // Soccer  ->  <span class=\"highlight\">Soc</span>cer  for regex = /soc/i\n\n\n  const highlightText = node => {\n    var match = node.data.match(regex);\n\n    if (match && node.data.length > 0) {\n      var spannode = document.createElement('span');\n      spannode.className = 'highlight';\n      var middlebit = node.splitText(match.index);\n      middlebit.splitText(match[0].length);\n      var middleclone = middlebit.cloneNode(true);\n      spannode.appendChild(middleclone);\n      replaceNode(middlebit, spannode);\n      return 1;\n    }\n\n    return 0;\n  }; // Recurse element node, looking for child text nodes to highlight, unless element\n  // is childless, <script>, <style>, or already highlighted: <span class=\"hightlight\">\n\n\n  const highlightChildren = node => {\n    if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName) && (node.className !== 'highlight' || node.tagName !== 'SPAN')) {\n      Array.from(node.childNodes).forEach(element => {\n        highlightRecursive(element);\n      });\n    }\n  };\n\n  const highlightRecursive = node => {\n    if (node.nodeType === 3) {\n      return highlightText(node);\n    }\n\n    highlightChildren(node);\n    return 0;\n  };\n\n  highlightRecursive(element);\n};\n/**\n * removeHighlight fn copied from highlight v5 and\n * edited to remove with(), pass js strict mode, and use without jquery\n */\n\nconst removeHighlight = el => {\n  var elements = el.querySelectorAll(\"span.highlight\");\n  Array.prototype.forEach.call(elements, function (el) {\n    var parent = el.parentNode;\n    parent.replaceChild(el.firstChild, el);\n    parent.normalize();\n  });\n};\n\nconst KEY_A = 65;\nconst KEY_RETURN = 13;\nconst KEY_ESC = 27;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_BACKSPACE = 8;\nconst KEY_DELETE = 46;\nconst KEY_TAB = 9;\nconst IS_MAC = typeof navigator === 'undefined' ? false : /Mac/.test(navigator.userAgent);\nconst KEY_SHORTCUT = IS_MAC ? 'metaKey' : 'ctrlKey'; // ctrl key or apple key for ma\n\nvar defaults = {\n  options: [],\n  optgroups: [],\n  plugins: [],\n  delimiter: ',',\n  splitOn: null,\n  // regexp or string for splitting up values from a paste command\n  persist: true,\n  diacritics: true,\n  create: null,\n  createOnBlur: false,\n  createFilter: null,\n  highlight: true,\n  openOnFocus: true,\n  shouldOpen: null,\n  maxOptions: 50,\n  maxItems: null,\n  hideSelected: null,\n  duplicates: false,\n  addPrecedence: false,\n  selectOnTab: false,\n  preload: null,\n  allowEmptyOption: false,\n  //closeAfterSelect: false,\n  loadThrottle: 300,\n  loadingClass: 'loading',\n  dataAttr: null,\n  //'data-data',\n  optgroupField: 'optgroup',\n  valueField: 'value',\n  labelField: 'text',\n  disabledField: 'disabled',\n  optgroupLabelField: 'label',\n  optgroupValueField: 'value',\n  lockOptgroupOrder: false,\n  sortField: '$order',\n  searchField: ['text'],\n  searchConjunction: 'and',\n  mode: null,\n  wrapperClass: 'ts-wrapper',\n  controlClass: 'ts-control',\n  dropdownClass: 'ts-dropdown',\n  dropdownContentClass: 'ts-dropdown-content',\n  itemClass: 'item',\n  optionClass: 'option',\n  dropdownParent: null,\n  controlInput: '<input type=\"text\" autocomplete=\"off\" size=\"1\" />',\n  copyClassesToDropdown: false,\n  placeholder: null,\n  hidePlaceholder: null,\n  shouldLoad: function (query) {\n    return query.length > 0;\n  },\n\n  /*\n  load                 : null, // function(query, callback) { ... }\n  score                : null, // function(search) { ... }\n  onInitialize         : null, // function() { ... }\n  onChange             : null, // function(value) { ... }\n  onItemAdd            : null, // function(value, $item) { ... }\n  onItemRemove         : null, // function(value) { ... }\n  onClear              : null, // function() { ... }\n  onOptionAdd          : null, // function(value, data) { ... }\n  onOptionRemove       : null, // function(value) { ... }\n  onOptionClear        : null, // function() { ... }\n  onOptionGroupAdd     : null, // function(id, data) { ... }\n  onOptionGroupRemove  : null, // function(id) { ... }\n  onOptionGroupClear   : null, // function() { ... }\n  onDropdownOpen       : null, // function(dropdown) { ... }\n  onDropdownClose      : null, // function(dropdown) { ... }\n  onType               : null, // function(str) { ... }\n  onDelete             : null, // function(values) { ... }\n  */\n  render: {\n    /*\n    item: null,\n    optgroup: null,\n    optgroup_header: null,\n    option: null,\n    option_create: null\n    */\n  }\n};\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\nconst hash_key = value => {\n  if (typeof value === 'undefined' || value === null) return null;\n  return get_hash(value);\n};\nconst get_hash = value => {\n  if (typeof value === 'boolean') return value ? '1' : '0';\n  return value + '';\n};\n/**\n * Escapes a string for use within HTML.\n *\n */\n\nconst escape_html = str => {\n  return (str + '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n};\n/**\n * Debounce the user provided load function\n *\n */\n\nconst loadDebounce = (fn, delay) => {\n  var timeout;\n  return function (value, callback) {\n    var self = this;\n\n    if (timeout) {\n      self.loading = Math.max(self.loading - 1, 0);\n      clearTimeout(timeout);\n    }\n\n    timeout = setTimeout(function () {\n      timeout = null;\n      self.loadedSearches[value] = true;\n      fn.call(self, value, callback);\n    }, delay);\n  };\n};\n/**\n * Debounce all fired events types listed in `types`\n * while executing the provided `fn`.\n *\n */\n\nconst debounce_events = (self, types, fn) => {\n  var type;\n  var trigger = self.trigger;\n  var event_args = {}; // override trigger method\n\n  self.trigger = function () {\n    var type = arguments[0];\n\n    if (types.indexOf(type) !== -1) {\n      event_args[type] = arguments;\n    } else {\n      return trigger.apply(self, arguments);\n    }\n  }; // invoke provided function\n\n\n  fn.apply(self, []);\n  self.trigger = trigger; // trigger queued events\n\n  for (type of types) {\n    if (type in event_args) {\n      trigger.apply(self, event_args[type]);\n    }\n  }\n};\n/**\n * Determines the current selection within a text input control.\n * Returns an object containing:\n *   - start\n *   - length\n *\n */\n\nconst getSelection = input => {\n  return {\n    start: input.selectionStart || 0,\n    length: (input.selectionEnd || 0) - (input.selectionStart || 0)\n  };\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n  if (evt) {\n    evt.preventDefault();\n\n    if (stop) {\n      evt.stopPropagation();\n    }\n  }\n};\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n  target.addEventListener(type, callback, options);\n};\n/**\n * Return true if the requested key is down\n * Will return false if more than one control character is pressed ( when [ctrl+shift+a] != [ctrl+a] )\n * The current evt may not always set ( eg calling advanceSelection() )\n *\n */\n\nconst isKeyDown = (key_name, evt) => {\n  if (!evt) {\n    return false;\n  }\n\n  if (!evt[key_name]) {\n    return false;\n  }\n\n  var count = (evt.altKey ? 1 : 0) + (evt.ctrlKey ? 1 : 0) + (evt.shiftKey ? 1 : 0) + (evt.metaKey ? 1 : 0);\n\n  if (count === 1) {\n    return true;\n  }\n\n  return false;\n};\n/**\n * Get the id of an element\n * If the id attribute is not set, set the attribute with the given id\n *\n */\n\nconst getId = (el, id) => {\n  const existing_id = el.getAttribute('id');\n\n  if (existing_id) {\n    return existing_id;\n  }\n\n  el.setAttribute('id', id);\n  return id;\n};\n/**\n * Returns a string with backslashes added before characters that need to be escaped.\n */\n\nconst addSlashes = str => {\n  return str.replace(/[\\\\\"']/g, '\\\\$&');\n};\n/**\n *\n */\n\nconst append = (parent, node) => {\n  if (node) parent.append(node);\n};\n\nfunction getSettings(input, settings_user) {\n  var settings = Object.assign({}, defaults, settings_user);\n  var attr_data = settings.dataAttr;\n  var field_label = settings.labelField;\n  var field_value = settings.valueField;\n  var field_disabled = settings.disabledField;\n  var field_optgroup = settings.optgroupField;\n  var field_optgroup_label = settings.optgroupLabelField;\n  var field_optgroup_value = settings.optgroupValueField;\n  var tag_name = input.tagName.toLowerCase();\n  var placeholder = input.getAttribute('placeholder') || input.getAttribute('data-placeholder');\n\n  if (!placeholder && !settings.allowEmptyOption) {\n    let option = input.querySelector('option[value=\"\"]');\n\n    if (option) {\n      placeholder = option.textContent;\n    }\n  }\n\n  var settings_element = {\n    placeholder: placeholder,\n    options: [],\n    optgroups: [],\n    items: [],\n    maxItems: null\n  };\n  /**\n   * Initialize from a <select> element.\n   *\n   */\n\n  var init_select = () => {\n    var tagName;\n    var options = settings_element.options;\n    var optionsMap = {};\n    var group_count = 1;\n\n    var readData = el => {\n      var data = Object.assign({}, el.dataset); // get plain object from DOMStringMap\n\n      var json = attr_data && data[attr_data];\n\n      if (typeof json === 'string' && json.length) {\n        data = Object.assign(data, JSON.parse(json));\n      }\n\n      return data;\n    };\n\n    var addOption = (option, group) => {\n      var value = hash_key(option.value);\n      if (value == null) return;\n      if (!value && !settings.allowEmptyOption) return; // if the option already exists, it's probably been\n      // duplicated in another optgroup. in this case, push\n      // the current group to the \"optgroup\" property on the\n      // existing option so that it's rendered in both places.\n\n      if (optionsMap.hasOwnProperty(value)) {\n        if (group) {\n          var arr = optionsMap[value][field_optgroup];\n\n          if (!arr) {\n            optionsMap[value][field_optgroup] = group;\n          } else if (!Array.isArray(arr)) {\n            optionsMap[value][field_optgroup] = [arr, group];\n          } else {\n            arr.push(group);\n          }\n        }\n      } else {\n        var option_data = readData(option);\n        option_data[field_label] = option_data[field_label] || option.textContent;\n        option_data[field_value] = option_data[field_value] || value;\n        option_data[field_disabled] = option_data[field_disabled] || option.disabled;\n        option_data[field_optgroup] = option_data[field_optgroup] || group;\n        option_data.$option = option;\n        optionsMap[value] = option_data;\n        options.push(option_data);\n      }\n\n      if (option.selected) {\n        settings_element.items.push(value);\n      }\n    };\n\n    var addGroup = optgroup => {\n      var id, optgroup_data;\n      optgroup_data = readData(optgroup);\n      optgroup_data[field_optgroup_label] = optgroup_data[field_optgroup_label] || optgroup.getAttribute('label') || '';\n      optgroup_data[field_optgroup_value] = optgroup_data[field_optgroup_value] || group_count++;\n      optgroup_data[field_disabled] = optgroup_data[field_disabled] || optgroup.disabled;\n      settings_element.optgroups.push(optgroup_data);\n      id = optgroup_data[field_optgroup_value];\n      iterate(optgroup.children, option => {\n        addOption(option, id);\n      });\n    };\n\n    settings_element.maxItems = input.hasAttribute('multiple') ? null : 1;\n    iterate(input.children, child => {\n      tagName = child.tagName.toLowerCase();\n\n      if (tagName === 'optgroup') {\n        addGroup(child);\n      } else if (tagName === 'option') {\n        addOption(child);\n      }\n    });\n  };\n  /**\n   * Initialize from a <input type=\"text\"> element.\n   *\n   */\n\n\n  var init_textbox = () => {\n    const data_raw = input.getAttribute(attr_data);\n\n    if (!data_raw) {\n      var value = input.value.trim() || '';\n      if (!settings.allowEmptyOption && !value.length) return;\n      const values = value.split(settings.delimiter);\n      iterate(values, value => {\n        const option = {};\n        option[field_label] = value;\n        option[field_value] = value;\n        settings_element.options.push(option);\n      });\n      settings_element.items = values;\n    } else {\n      settings_element.options = JSON.parse(data_raw);\n      iterate(settings_element.options, opt => {\n        settings_element.items.push(opt[field_value]);\n      });\n    }\n  };\n\n  if (tag_name === 'select') {\n    init_select();\n  } else {\n    init_textbox();\n  }\n\n  return Object.assign({}, defaults, settings_element, settings_user);\n}\n\nvar instance_i = 0;\nclass TomSelect extends MicroPlugin(MicroEvent) {\n  // @deprecated 1.8\n  constructor(input_arg, user_settings) {\n    super();\n    this.control_input = void 0;\n    this.wrapper = void 0;\n    this.dropdown = void 0;\n    this.control = void 0;\n    this.dropdown_content = void 0;\n    this.focus_node = void 0;\n    this.order = 0;\n    this.settings = void 0;\n    this.input = void 0;\n    this.tabIndex = void 0;\n    this.is_select_tag = void 0;\n    this.rtl = void 0;\n    this.inputId = void 0;\n    this._destroy = void 0;\n    this.sifter = void 0;\n    this.isOpen = false;\n    this.isDisabled = false;\n    this.isRequired = void 0;\n    this.isInvalid = false;\n    this.isValid = true;\n    this.isLocked = false;\n    this.isFocused = false;\n    this.isInputHidden = false;\n    this.isSetup = false;\n    this.ignoreFocus = false;\n    this.ignoreHover = false;\n    this.hasOptions = false;\n    this.currentResults = void 0;\n    this.lastValue = '';\n    this.caretPos = 0;\n    this.loading = 0;\n    this.loadedSearches = {};\n    this.activeOption = null;\n    this.activeItems = [];\n    this.optgroups = {};\n    this.options = {};\n    this.userOptions = {};\n    this.items = [];\n    instance_i++;\n    var dir;\n    var input = getDom(input_arg);\n\n    if (input.tomselect) {\n      throw new Error('Tom Select already initialized on this element');\n    }\n\n    input.tomselect = this; // detect rtl environment\n\n    var computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n    dir = computedStyle.getPropertyValue('direction'); // setup default state\n\n    const settings = getSettings(input, user_settings);\n    this.settings = settings;\n    this.input = input;\n    this.tabIndex = input.tabIndex || 0;\n    this.is_select_tag = input.tagName.toLowerCase() === 'select';\n    this.rtl = /rtl/i.test(dir);\n    this.inputId = getId(input, 'tomselect-' + instance_i);\n    this.isRequired = input.required; // search system\n\n    this.sifter = new Sifter(this.options, {\n      diacritics: settings.diacritics\n    }); // option-dependent defaults\n\n    settings.mode = settings.mode || (settings.maxItems === 1 ? 'single' : 'multi');\n\n    if (typeof settings.hideSelected !== 'boolean') {\n      settings.hideSelected = settings.mode === 'multi';\n    }\n\n    if (typeof settings.hidePlaceholder !== 'boolean') {\n      settings.hidePlaceholder = settings.mode !== 'multi';\n    } // set up createFilter callback\n\n\n    var filter = settings.createFilter;\n\n    if (typeof filter !== 'function') {\n      if (typeof filter === 'string') {\n        filter = new RegExp(filter);\n      }\n\n      if (filter instanceof RegExp) {\n        settings.createFilter = input => filter.test(input);\n      } else {\n        settings.createFilter = value => {\n          return this.settings.duplicates || !this.options[value];\n        };\n      }\n    }\n\n    this.initializePlugins(settings.plugins);\n    this.setupCallbacks();\n    this.setupTemplates(); // Create all elements\n\n    const wrapper = getDom('<div>');\n    const control = getDom('<div>');\n\n    const dropdown = this._render('dropdown');\n\n    const dropdown_content = getDom(`<div role=\"listbox\" tabindex=\"-1\">`);\n    const classes = this.input.getAttribute('class') || '';\n    const inputMode = settings.mode;\n    var control_input;\n    addClasses(wrapper, settings.wrapperClass, classes, inputMode);\n    addClasses(control, settings.controlClass);\n    append(wrapper, control);\n    addClasses(dropdown, settings.dropdownClass, inputMode);\n\n    if (settings.copyClassesToDropdown) {\n      addClasses(dropdown, classes);\n    }\n\n    addClasses(dropdown_content, settings.dropdownContentClass);\n    append(dropdown, dropdown_content);\n    getDom(settings.dropdownParent || wrapper).appendChild(dropdown); // default controlInput\n\n    if (isHtmlString(settings.controlInput)) {\n      control_input = getDom(settings.controlInput); // set attributes\n\n      var attrs = ['autocorrect', 'autocapitalize', 'autocomplete'];\n      iterate$1(attrs, attr => {\n        if (input.getAttribute(attr)) {\n          setAttr(control_input, {\n            [attr]: input.getAttribute(attr)\n          });\n        }\n      });\n      control_input.tabIndex = -1;\n      control.appendChild(control_input);\n      this.focus_node = control_input; // dom element\n    } else if (settings.controlInput) {\n      control_input = getDom(settings.controlInput);\n      this.focus_node = control_input;\n    } else {\n      control_input = getDom('<input/>');\n      this.focus_node = control;\n    }\n\n    this.wrapper = wrapper;\n    this.dropdown = dropdown;\n    this.dropdown_content = dropdown_content;\n    this.control = control;\n    this.control_input = control_input;\n    this.setup();\n  }\n  /**\n   * set up event bindings.\n   *\n   */\n\n\n  setup() {\n    const self = this;\n    const settings = self.settings;\n    const control_input = self.control_input;\n    const dropdown = self.dropdown;\n    const dropdown_content = self.dropdown_content;\n    const wrapper = self.wrapper;\n    const control = self.control;\n    const input = self.input;\n    const focus_node = self.focus_node;\n    const passive_event = {\n      passive: true\n    };\n    const listboxId = self.inputId + '-ts-dropdown';\n    setAttr(dropdown_content, {\n      id: listboxId\n    });\n    setAttr(focus_node, {\n      role: 'combobox',\n      'aria-haspopup': 'listbox',\n      'aria-expanded': 'false',\n      'aria-controls': listboxId\n    });\n    const control_id = getId(focus_node, self.inputId + '-ts-control');\n    const query = \"label[for='\" + escapeQuery(self.inputId) + \"']\";\n    const label = document.querySelector(query);\n    const label_click = self.focus.bind(self);\n\n    if (label) {\n      addEvent(label, 'click', label_click);\n      setAttr(label, {\n        for: control_id\n      });\n      const label_id = getId(label, self.inputId + '-ts-label');\n      setAttr(focus_node, {\n        'aria-labelledby': label_id\n      });\n      setAttr(dropdown_content, {\n        'aria-labelledby': label_id\n      });\n    }\n\n    wrapper.style.width = input.style.width;\n\n    if (self.plugins.names.length) {\n      const classes_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n      addClasses([wrapper, dropdown], classes_plugins);\n    }\n\n    if ((settings.maxItems === null || settings.maxItems > 1) && self.is_select_tag) {\n      setAttr(input, {\n        multiple: 'multiple'\n      });\n    }\n\n    if (settings.placeholder) {\n      setAttr(control_input, {\n        placeholder: settings.placeholder\n      });\n    } // if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\n\n    if (!settings.splitOn && settings.delimiter) {\n      settings.splitOn = new RegExp('\\\\s*' + escape_regex(settings.delimiter) + '+\\\\s*');\n    } // debounce user defined load() if loadThrottle > 0\n    // after initializePlugins() so plugins can create/modify user defined loaders\n\n\n    if (settings.load && settings.loadThrottle) {\n      settings.load = loadDebounce(settings.load, settings.loadThrottle);\n    }\n\n    self.control_input.type = input.type;\n    addEvent(dropdown, 'mousemove', () => {\n      self.ignoreHover = false;\n    });\n    addEvent(dropdown, 'mouseenter', e => {\n      var target_match = parentMatch(e.target, '[data-selectable]', dropdown);\n      if (target_match) self.onOptionHover(e, target_match);\n    }, {\n      capture: true\n    }); // clicking on an option should select it\n\n    addEvent(dropdown, 'click', evt => {\n      const option = parentMatch(evt.target, '[data-selectable]');\n\n      if (option) {\n        self.onOptionSelect(evt, option);\n        preventDefault(evt, true);\n      }\n    });\n    addEvent(control, 'click', evt => {\n      var target_match = parentMatch(evt.target, '[data-ts-item]', control);\n\n      if (target_match && self.onItemSelect(evt, target_match)) {\n        preventDefault(evt, true);\n        return;\n      } // retain focus (see control_input mousedown)\n\n\n      if (control_input.value != '') {\n        return;\n      }\n\n      self.onClick();\n      preventDefault(evt, true);\n    }); // keydown on focus_node for arrow_down/arrow_up\n\n    addEvent(focus_node, 'keydown', e => self.onKeyDown(e)); // keypress and input/keyup\n\n    addEvent(control_input, 'keypress', e => self.onKeyPress(e));\n    addEvent(control_input, 'input', e => self.onInput(e));\n    addEvent(focus_node, 'blur', e => self.onBlur(e));\n    addEvent(focus_node, 'focus', e => self.onFocus(e));\n    addEvent(control_input, 'paste', e => self.onPaste(e));\n\n    const doc_mousedown = evt => {\n      // blur if target is outside of this instance\n      // dropdown is not always inside wrapper\n      const target = evt.composedPath()[0];\n\n      if (!wrapper.contains(target) && !dropdown.contains(target)) {\n        if (self.isFocused) {\n          self.blur();\n        }\n\n        self.inputState();\n        return;\n      } // retain focus by preventing native handling. if the\n      // event target is the input it should not be modified.\n      // otherwise, text selection within the input won't work.\n      // Fixes bug #212 which is no covered by tests\n\n\n      if (target == control_input && self.isOpen) {\n        evt.stopPropagation(); // clicking anywhere in the control should not blur the control_input (which would close the dropdown)\n      } else {\n        preventDefault(evt, true);\n      }\n    };\n\n    const win_scroll = () => {\n      if (self.isOpen) {\n        self.positionDropdown();\n      }\n    };\n\n    addEvent(document, 'mousedown', doc_mousedown);\n    addEvent(window, 'scroll', win_scroll, passive_event);\n    addEvent(window, 'resize', win_scroll, passive_event);\n\n    this._destroy = () => {\n      document.removeEventListener('mousedown', doc_mousedown);\n      window.removeEventListener('scroll', win_scroll);\n      window.removeEventListener('resize', win_scroll);\n      if (label) label.removeEventListener('click', label_click);\n    }; // store original html and tab index so that they can be\n    // restored when the destroy() method is called.\n\n\n    this.revertSettings = {\n      innerHTML: input.innerHTML,\n      tabIndex: input.tabIndex\n    };\n    input.tabIndex = -1;\n    input.insertAdjacentElement('afterend', self.wrapper);\n    self.sync(false);\n    settings.items = [];\n    delete settings.optgroups;\n    delete settings.options;\n    addEvent(input, 'invalid', () => {\n      if (self.isValid) {\n        self.isValid = false;\n        self.isInvalid = true;\n        self.refreshState();\n      }\n    });\n    self.updateOriginalInput();\n    self.refreshItems();\n    self.close(false);\n    self.inputState();\n    self.isSetup = true;\n\n    if (input.disabled) {\n      self.disable();\n    } else {\n      self.enable(); //sets tabIndex\n    }\n\n    self.on('change', this.onChange);\n    addClasses(input, 'tomselected', 'ts-hidden-accessible');\n    self.trigger('initialize'); // preload options\n\n    if (settings.preload === true) {\n      self.preload();\n    }\n  }\n  /**\n   * Register options and optgroups\n   *\n   */\n\n\n  setupOptions(options = [], optgroups = []) {\n    // build options table\n    this.addOptions(options); // build optgroup table\n\n    iterate$1(optgroups, optgroup => {\n      this.registerOptionGroup(optgroup);\n    });\n  }\n  /**\n   * Sets up default rendering functions.\n   */\n\n\n  setupTemplates() {\n    var self = this;\n    var field_label = self.settings.labelField;\n    var field_optgroup = self.settings.optgroupLabelField;\n    var templates = {\n      'optgroup': data => {\n        let optgroup = document.createElement('div');\n        optgroup.className = 'optgroup';\n        optgroup.appendChild(data.options);\n        return optgroup;\n      },\n      'optgroup_header': (data, escape) => {\n        return '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n      },\n      'option': (data, escape) => {\n        return '<div>' + escape(data[field_label]) + '</div>';\n      },\n      'item': (data, escape) => {\n        return '<div>' + escape(data[field_label]) + '</div>';\n      },\n      'option_create': (data, escape) => {\n        return '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n      },\n      'no_results': () => {\n        return '<div class=\"no-results\">No results found</div>';\n      },\n      'loading': () => {\n        return '<div class=\"spinner\"></div>';\n      },\n      'not_loading': () => {},\n      'dropdown': () => {\n        return '<div></div>';\n      }\n    };\n    self.settings.render = Object.assign({}, templates, self.settings.render);\n  }\n  /**\n   * Maps fired events to callbacks provided\n   * in the settings used when creating the control.\n   */\n\n\n  setupCallbacks() {\n    var key, fn;\n    var callbacks = {\n      'initialize': 'onInitialize',\n      'change': 'onChange',\n      'item_add': 'onItemAdd',\n      'item_remove': 'onItemRemove',\n      'item_select': 'onItemSelect',\n      'clear': 'onClear',\n      'option_add': 'onOptionAdd',\n      'option_remove': 'onOptionRemove',\n      'option_clear': 'onOptionClear',\n      'optgroup_add': 'onOptionGroupAdd',\n      'optgroup_remove': 'onOptionGroupRemove',\n      'optgroup_clear': 'onOptionGroupClear',\n      'dropdown_open': 'onDropdownOpen',\n      'dropdown_close': 'onDropdownClose',\n      'type': 'onType',\n      'load': 'onLoad',\n      'focus': 'onFocus',\n      'blur': 'onBlur'\n    };\n\n    for (key in callbacks) {\n      fn = this.settings[callbacks[key]];\n      if (fn) this.on(key, fn);\n    }\n  }\n  /**\n   * Sync the Tom Select instance with the original input or select\n   *\n   */\n\n\n  sync(get_settings = true) {\n    const self = this;\n    const settings = get_settings ? getSettings(self.input, {\n      delimiter: self.settings.delimiter\n    }) : self.settings;\n    self.setupOptions(settings.options, settings.optgroups);\n    self.setValue(settings.items || [], true); // silent prevents recursion\n\n    self.lastQuery = null; // so updated options will be displayed in dropdown\n  }\n  /**\n   * Triggered when the main control element\n   * has a click event.\n   *\n   */\n\n\n  onClick() {\n    var self = this;\n\n    if (self.activeItems.length > 0) {\n      self.clearActiveItems();\n      self.focus();\n      return;\n    }\n\n    if (self.isFocused && self.isOpen) {\n      self.blur();\n    } else {\n      self.focus();\n    }\n  }\n  /**\n   * @deprecated v1.7\n   *\n   */\n\n\n  onMouseDown() {}\n  /**\n   * Triggered when the value of the control has been changed.\n   * This should propagate the event to the original DOM\n   * input / select element.\n   */\n\n\n  onChange() {\n    triggerEvent(this.input, 'input');\n    triggerEvent(this.input, 'change');\n  }\n  /**\n   * Triggered on <input> paste.\n   *\n   */\n\n\n  onPaste(e) {\n    var self = this;\n\n    if (self.isInputHidden || self.isLocked) {\n      preventDefault(e);\n      return;\n    } // If a regex or string is included, this will split the pasted\n    // input and create Items for each separate value\n\n\n    if (!self.settings.splitOn) {\n      return;\n    } // Wait for pasted text to be recognized in value\n\n\n    setTimeout(() => {\n      var pastedText = self.inputValue();\n\n      if (!pastedText.match(self.settings.splitOn)) {\n        return;\n      }\n\n      var splitInput = pastedText.trim().split(self.settings.splitOn);\n      iterate$1(splitInput, piece => {\n        const hash = hash_key(piece);\n\n        if (hash) {\n          if (this.options[piece]) {\n            self.addItem(piece);\n          } else {\n            self.createItem(piece);\n          }\n        }\n      });\n    }, 0);\n  }\n  /**\n   * Triggered on <input> keypress.\n   *\n   */\n\n\n  onKeyPress(e) {\n    var self = this;\n\n    if (self.isLocked) {\n      preventDefault(e);\n      return;\n    }\n\n    var character = String.fromCharCode(e.keyCode || e.which);\n\n    if (self.settings.create && self.settings.mode === 'multi' && character === self.settings.delimiter) {\n      self.createItem();\n      preventDefault(e);\n      return;\n    }\n  }\n  /**\n   * Triggered on <input> keydown.\n   *\n   */\n\n\n  onKeyDown(e) {\n    var self = this;\n    self.ignoreHover = true;\n\n    if (self.isLocked) {\n      if (e.keyCode !== KEY_TAB) {\n        preventDefault(e);\n      }\n\n      return;\n    }\n\n    switch (e.keyCode) {\n      // ctrl+A: select all\n      case KEY_A:\n        if (isKeyDown(KEY_SHORTCUT, e)) {\n          if (self.control_input.value == '') {\n            preventDefault(e);\n            self.selectAll();\n            return;\n          }\n        }\n\n        break;\n      // esc: close dropdown\n\n      case KEY_ESC:\n        if (self.isOpen) {\n          preventDefault(e, true);\n          self.close();\n        }\n\n        self.clearActiveItems();\n        return;\n      // down: open dropdown or move selection down\n\n      case KEY_DOWN:\n        if (!self.isOpen && self.hasOptions) {\n          self.open();\n        } else if (self.activeOption) {\n          let next = self.getAdjacent(self.activeOption, 1);\n          if (next) self.setActiveOption(next);\n        }\n\n        preventDefault(e);\n        return;\n      // up: move selection up\n\n      case KEY_UP:\n        if (self.activeOption) {\n          let prev = self.getAdjacent(self.activeOption, -1);\n          if (prev) self.setActiveOption(prev);\n        }\n\n        preventDefault(e);\n        return;\n      // return: select active option\n\n      case KEY_RETURN:\n        if (self.canSelect(self.activeOption)) {\n          self.onOptionSelect(e, self.activeOption);\n          preventDefault(e); // if the option_create=null, the dropdown might be closed\n        } else if (self.settings.create && self.createItem()) {\n          preventDefault(e); // don't submit form when searching for a value\n        } else if (document.activeElement == self.control_input && self.isOpen) {\n          preventDefault(e);\n        }\n\n        return;\n      // left: modifiy item selection to the left\n\n      case KEY_LEFT:\n        self.advanceSelection(-1, e);\n        return;\n      // right: modifiy item selection to the right\n\n      case KEY_RIGHT:\n        self.advanceSelection(1, e);\n        return;\n      // tab: select active option and/or create item\n\n      case KEY_TAB:\n        if (self.settings.selectOnTab) {\n          if (self.canSelect(self.activeOption)) {\n            self.onOptionSelect(e, self.activeOption); // prevent default [tab] behaviour of jump to the next field\n            // if select isFull, then the dropdown won't be open and [tab] will work normally\n\n            preventDefault(e);\n          }\n\n          if (self.settings.create && self.createItem()) {\n            preventDefault(e);\n          }\n        }\n\n        return;\n      // delete|backspace: delete items\n\n      case KEY_BACKSPACE:\n      case KEY_DELETE:\n        self.deleteSelection(e);\n        return;\n    } // don't enter text in the control_input when active items are selected\n\n\n    if (self.isInputHidden && !isKeyDown(KEY_SHORTCUT, e)) {\n      preventDefault(e);\n    }\n  }\n  /**\n   * Triggered on <input> keyup.\n   *\n   */\n\n\n  onInput(e) {\n    var self = this;\n\n    if (self.isLocked) {\n      return;\n    }\n\n    var value = self.inputValue();\n\n    if (self.lastValue !== value) {\n      self.lastValue = value;\n\n      if (self.settings.shouldLoad.call(self, value)) {\n        self.load(value);\n      }\n\n      self.refreshOptions();\n      self.trigger('type', value);\n    }\n  }\n  /**\n   * Triggered when the user rolls over\n   * an option in the autocomplete dropdown menu.\n   *\n   */\n\n\n  onOptionHover(evt, option) {\n    if (this.ignoreHover) return;\n    this.setActiveOption(option, false);\n  }\n  /**\n   * Triggered on <input> focus.\n   *\n   */\n\n\n  onFocus(e) {\n    var self = this;\n    var wasFocused = self.isFocused;\n\n    if (self.isDisabled) {\n      self.blur();\n      preventDefault(e);\n      return;\n    }\n\n    if (self.ignoreFocus) return;\n    self.isFocused = true;\n    if (self.settings.preload === 'focus') self.preload();\n    if (!wasFocused) self.trigger('focus');\n\n    if (!self.activeItems.length) {\n      self.showInput();\n      self.refreshOptions(!!self.settings.openOnFocus);\n    }\n\n    self.refreshState();\n  }\n  /**\n   * Triggered on <input> blur.\n   *\n   */\n\n\n  onBlur(e) {\n    if (document.hasFocus() === false) return;\n    var self = this;\n    if (!self.isFocused) return;\n    self.isFocused = false;\n    self.ignoreFocus = false;\n\n    var deactivate = () => {\n      self.close();\n      self.setActiveItem();\n      self.setCaret(self.items.length);\n      self.trigger('blur');\n    };\n\n    if (self.settings.create && self.settings.createOnBlur) {\n      self.createItem(null, deactivate);\n    } else {\n      deactivate();\n    }\n  }\n  /**\n   * Triggered when the user clicks on an option\n   * in the autocomplete dropdown menu.\n   *\n   */\n\n\n  onOptionSelect(evt, option) {\n    var value,\n        self = this; // should not be possible to trigger a option under a disabled optgroup\n\n    if (option.parentElement && option.parentElement.matches('[data-disabled]')) {\n      return;\n    }\n\n    if (option.classList.contains('create')) {\n      self.createItem(null, () => {\n        if (self.settings.closeAfterSelect) {\n          self.close();\n        }\n      });\n    } else {\n      value = option.dataset.value;\n\n      if (typeof value !== 'undefined') {\n        self.lastQuery = null;\n        self.addItem(value);\n\n        if (self.settings.closeAfterSelect) {\n          self.close();\n        }\n\n        if (!self.settings.hideSelected && evt.type && /click/.test(evt.type)) {\n          self.setActiveOption(option);\n        }\n      }\n    }\n  }\n  /**\n   * Return true if the given option can be selected\n   *\n   */\n\n\n  canSelect(option) {\n    if (this.isOpen && option && this.dropdown_content.contains(option)) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Triggered when the user clicks on an item\n   * that has been selected.\n   *\n   */\n\n\n  onItemSelect(evt, item) {\n    var self = this;\n\n    if (!self.isLocked && self.settings.mode === 'multi') {\n      preventDefault(evt);\n      self.setActiveItem(item, evt);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Determines whether or not to invoke\n   * the user-provided option provider / loader\n   *\n   * Note, there is a subtle difference between\n   * this.canLoad() and this.settings.shouldLoad();\n   *\n   *\t- settings.shouldLoad() is a user-input validator.\n   *\tWhen false is returned, the not_loading template\n   *\twill be added to the dropdown\n   *\n   *\t- canLoad() is lower level validator that checks\n   * \tthe Tom Select instance. There is no inherent user\n   *\tfeedback when canLoad returns false\n   *\n   */\n\n\n  canLoad(value) {\n    if (!this.settings.load) return false;\n    if (this.loadedSearches.hasOwnProperty(value)) return false;\n    return true;\n  }\n  /**\n   * Invokes the user-provided option provider / loader.\n   *\n   */\n\n\n  load(value) {\n    const self = this;\n    if (!self.canLoad(value)) return;\n    addClasses(self.wrapper, self.settings.loadingClass);\n    self.loading++;\n    const callback = self.loadCallback.bind(self);\n    self.settings.load.call(self, value, callback);\n  }\n  /**\n   * Invoked by the user-provided option provider\n   *\n   */\n\n\n  loadCallback(options, optgroups) {\n    const self = this;\n    self.loading = Math.max(self.loading - 1, 0);\n    self.lastQuery = null;\n    self.clearActiveOption(); // when new results load, focus should be on first option\n\n    self.setupOptions(options, optgroups);\n    self.refreshOptions(self.isFocused && !self.isInputHidden);\n\n    if (!self.loading) {\n      removeClasses(self.wrapper, self.settings.loadingClass);\n    }\n\n    self.trigger('load', options, optgroups);\n  }\n\n  preload() {\n    var classList = this.wrapper.classList;\n    if (classList.contains('preloaded')) return;\n    classList.add('preloaded');\n    this.load('');\n  }\n  /**\n   * Sets the input field of the control to the specified value.\n   *\n   */\n\n\n  setTextboxValue(value = '') {\n    var input = this.control_input;\n    var changed = input.value !== value;\n\n    if (changed) {\n      input.value = value;\n      triggerEvent(input, 'update');\n      this.lastValue = value;\n    }\n  }\n  /**\n   * Returns the value of the control. If multiple items\n   * can be selected (e.g. <select multiple>), this returns\n   * an array. If only one item can be selected, this\n   * returns a string.\n   *\n   */\n\n\n  getValue() {\n    if (this.is_select_tag && this.input.hasAttribute('multiple')) {\n      return this.items;\n    }\n\n    return this.items.join(this.settings.delimiter);\n  }\n  /**\n   * Resets the selected items to the given value.\n   *\n   */\n\n\n  setValue(value, silent) {\n    var events = silent ? [] : ['change'];\n    debounce_events(this, events, () => {\n      this.clear(silent);\n      this.addItems(value, silent);\n    });\n  }\n  /**\n   * Resets the number of max items to the given value\n   *\n   */\n\n\n  setMaxItems(value) {\n    if (value === 0) value = null; //reset to unlimited items.\n\n    this.settings.maxItems = value;\n    this.refreshState();\n  }\n  /**\n   * Sets the selected item.\n   *\n   */\n\n\n  setActiveItem(item, e) {\n    var self = this;\n    var eventName;\n    var i, begin, end, swap;\n    var last;\n    if (self.settings.mode === 'single') return; // clear the active selection\n\n    if (!item) {\n      self.clearActiveItems();\n\n      if (self.isFocused) {\n        self.showInput();\n      }\n\n      return;\n    } // modify selection\n\n\n    eventName = e && e.type.toLowerCase();\n\n    if (eventName === 'click' && isKeyDown('shiftKey', e) && self.activeItems.length) {\n      last = self.getLastActive();\n      begin = Array.prototype.indexOf.call(self.control.children, last);\n      end = Array.prototype.indexOf.call(self.control.children, item);\n\n      if (begin > end) {\n        swap = begin;\n        begin = end;\n        end = swap;\n      }\n\n      for (i = begin; i <= end; i++) {\n        item = self.control.children[i];\n\n        if (self.activeItems.indexOf(item) === -1) {\n          self.setActiveItemClass(item);\n        }\n      }\n\n      preventDefault(e);\n    } else if (eventName === 'click' && isKeyDown(KEY_SHORTCUT, e) || eventName === 'keydown' && isKeyDown('shiftKey', e)) {\n      if (item.classList.contains('active')) {\n        self.removeActiveItem(item);\n      } else {\n        self.setActiveItemClass(item);\n      }\n    } else {\n      self.clearActiveItems();\n      self.setActiveItemClass(item);\n    } // ensure control has focus\n\n\n    self.hideInput();\n\n    if (!self.isFocused) {\n      self.focus();\n    }\n  }\n  /**\n   * Set the active and last-active classes\n   *\n   */\n\n\n  setActiveItemClass(item) {\n    const self = this;\n    const last_active = self.control.querySelector('.last-active');\n    if (last_active) removeClasses(last_active, 'last-active');\n    addClasses(item, 'active last-active');\n    self.trigger('item_select', item);\n\n    if (self.activeItems.indexOf(item) == -1) {\n      self.activeItems.push(item);\n    }\n  }\n  /**\n   * Remove active item\n   *\n   */\n\n\n  removeActiveItem(item) {\n    var idx = this.activeItems.indexOf(item);\n    this.activeItems.splice(idx, 1);\n    removeClasses(item, 'active');\n  }\n  /**\n   * Clears all the active items\n   *\n   */\n\n\n  clearActiveItems() {\n    removeClasses(this.activeItems, 'active');\n    this.activeItems = [];\n  }\n  /**\n   * Sets the selected item in the dropdown menu\n   * of available options.\n   *\n   */\n\n\n  setActiveOption(option, scroll = true) {\n    if (option === this.activeOption) {\n      return;\n    }\n\n    this.clearActiveOption();\n    if (!option) return;\n    this.activeOption = option;\n    setAttr(this.focus_node, {\n      'aria-activedescendant': option.getAttribute('id')\n    });\n    setAttr(option, {\n      'aria-selected': 'true'\n    });\n    addClasses(option, 'active');\n    if (scroll) this.scrollToOption(option);\n  }\n  /**\n   * Sets the dropdown_content scrollTop to display the option\n   *\n   */\n\n\n  scrollToOption(option, behavior) {\n    if (!option) return;\n    const content = this.dropdown_content;\n    const height_menu = content.clientHeight;\n    const scrollTop = content.scrollTop || 0;\n    const height_item = option.offsetHeight;\n    const y = option.getBoundingClientRect().top - content.getBoundingClientRect().top + scrollTop;\n\n    if (y + height_item > height_menu + scrollTop) {\n      this.scroll(y - height_menu + height_item, behavior);\n    } else if (y < scrollTop) {\n      this.scroll(y, behavior);\n    }\n  }\n  /**\n   * Scroll the dropdown to the given position\n   *\n   */\n\n\n  scroll(scrollTop, behavior) {\n    const content = this.dropdown_content;\n\n    if (behavior) {\n      content.style.scrollBehavior = behavior;\n    }\n\n    content.scrollTop = scrollTop;\n    content.style.scrollBehavior = '';\n  }\n  /**\n   * Clears the active option\n   *\n   */\n\n\n  clearActiveOption() {\n    if (this.activeOption) {\n      removeClasses(this.activeOption, 'active');\n      setAttr(this.activeOption, {\n        'aria-selected': null\n      });\n    }\n\n    this.activeOption = null;\n    setAttr(this.focus_node, {\n      'aria-activedescendant': null\n    });\n  }\n  /**\n   * Selects all items (CTRL + A).\n   */\n\n\n  selectAll() {\n    const self = this;\n    if (self.settings.mode === 'single') return;\n    const activeItems = self.controlChildren();\n    if (!activeItems.length) return;\n    self.hideInput();\n    self.close();\n    self.activeItems = activeItems;\n    iterate$1(activeItems, item => {\n      self.setActiveItemClass(item);\n    });\n  }\n  /**\n   * Determines if the control_input should be in a hidden or visible state\n   *\n   */\n\n\n  inputState() {\n    var self = this;\n    if (!self.control.contains(self.control_input)) return;\n    setAttr(self.control_input, {\n      placeholder: self.settings.placeholder\n    });\n\n    if (self.activeItems.length > 0 || !self.isFocused && self.settings.hidePlaceholder && self.items.length > 0) {\n      self.setTextboxValue();\n      self.isInputHidden = true;\n    } else {\n      if (self.settings.hidePlaceholder && self.items.length > 0) {\n        setAttr(self.control_input, {\n          placeholder: ''\n        });\n      }\n\n      self.isInputHidden = false;\n    }\n\n    self.wrapper.classList.toggle('input-hidden', self.isInputHidden);\n  }\n  /**\n   * Hides the input element out of view, while\n   * retaining its focus.\n   * @deprecated 1.3\n   */\n\n\n  hideInput() {\n    this.inputState();\n  }\n  /**\n   * Restores input visibility.\n   * @deprecated 1.3\n   */\n\n\n  showInput() {\n    this.inputState();\n  }\n  /**\n   * Get the input value\n   */\n\n\n  inputValue() {\n    return this.control_input.value.trim();\n  }\n  /**\n   * Gives the control focus.\n   */\n\n\n  focus() {\n    var self = this;\n    if (self.isDisabled) return;\n    self.ignoreFocus = true;\n\n    if (self.control_input.offsetWidth) {\n      self.control_input.focus();\n    } else {\n      self.focus_node.focus();\n    }\n\n    setTimeout(() => {\n      self.ignoreFocus = false;\n      self.onFocus();\n    }, 0);\n  }\n  /**\n   * Forces the control out of focus.\n   *\n   */\n\n\n  blur() {\n    this.focus_node.blur();\n    this.onBlur();\n  }\n  /**\n   * Returns a function that scores an object\n   * to show how good of a match it is to the\n   * provided query.\n   *\n   * @return {function}\n   */\n\n\n  getScoreFunction(query) {\n    return this.sifter.getScoreFunction(query, this.getSearchOptions());\n  }\n  /**\n   * Returns search options for sifter (the system\n   * for scoring and sorting results).\n   *\n   * @see https://github.com/orchidjs/sifter.js\n   * @return {object}\n   */\n\n\n  getSearchOptions() {\n    var settings = this.settings;\n    var sort = settings.sortField;\n\n    if (typeof settings.sortField === 'string') {\n      sort = [{\n        field: settings.sortField\n      }];\n    }\n\n    return {\n      fields: settings.searchField,\n      conjunction: settings.searchConjunction,\n      sort: sort,\n      nesting: settings.nesting\n    };\n  }\n  /**\n   * Searches through available options and returns\n   * a sorted array of matches.\n   *\n   */\n\n\n  search(query) {\n    var result, calculateScore;\n    var self = this;\n    var options = this.getSearchOptions(); // validate user-provided result scoring function\n\n    if (self.settings.score) {\n      calculateScore = self.settings.score.call(self, query);\n\n      if (typeof calculateScore !== 'function') {\n        throw new Error('Tom Select \"score\" setting must be a function that returns a function');\n      }\n    } // perform search\n\n\n    if (query !== self.lastQuery) {\n      self.lastQuery = query;\n      result = self.sifter.search(query, Object.assign(options, {\n        score: calculateScore\n      }));\n      self.currentResults = result;\n    } else {\n      result = Object.assign({}, self.currentResults);\n    } // filter out selected items\n\n\n    if (self.settings.hideSelected) {\n      result.items = result.items.filter(item => {\n        let hashed = hash_key(item.id);\n        return !(hashed && self.items.indexOf(hashed) !== -1);\n      });\n    }\n\n    return result;\n  }\n  /**\n   * Refreshes the list of available options shown\n   * in the autocomplete dropdown menu.\n   *\n   */\n\n\n  refreshOptions(triggerDropdown = true) {\n    var i, j, k, n, optgroup, optgroups, html, has_create_option, active_group;\n    var create;\n    const groups = {};\n    const groups_order = [];\n    var self = this;\n    var query = self.inputValue();\n    const same_query = query === self.lastQuery || query == '' && self.lastQuery == null;\n    var results = self.search(query);\n    var active_option = null;\n    var show_dropdown = self.settings.shouldOpen || false;\n    var dropdown_content = self.dropdown_content;\n\n    if (same_query) {\n      active_option = self.activeOption;\n\n      if (active_option) {\n        active_group = active_option.closest('[data-group]');\n      }\n    } // build markup\n\n\n    n = results.items.length;\n\n    if (typeof self.settings.maxOptions === 'number') {\n      n = Math.min(n, self.settings.maxOptions);\n    }\n\n    if (n > 0) {\n      show_dropdown = true;\n    } // render and group available options individually\n\n\n    for (i = 0; i < n; i++) {\n      // get option dom element\n      let item = results.items[i];\n      if (!item) continue;\n      let opt_value = item.id;\n      let option = self.options[opt_value];\n      if (option === undefined) continue;\n      let opt_hash = get_hash(opt_value);\n      let option_el = self.getOption(opt_hash, true); // toggle 'selected' class\n\n      if (!self.settings.hideSelected) {\n        option_el.classList.toggle('selected', self.items.includes(opt_hash));\n      }\n\n      optgroup = option[self.settings.optgroupField] || '';\n      optgroups = Array.isArray(optgroup) ? optgroup : [optgroup];\n\n      for (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n        optgroup = optgroups[j];\n\n        if (!self.optgroups.hasOwnProperty(optgroup)) {\n          optgroup = '';\n        }\n\n        let group_fragment = groups[optgroup];\n\n        if (group_fragment === undefined) {\n          group_fragment = document.createDocumentFragment();\n          groups_order.push(optgroup);\n        } // nodes can only have one parent, so if the option is in mutple groups, we need a clone\n\n\n        if (j > 0) {\n          option_el = option_el.cloneNode(true);\n          setAttr(option_el, {\n            id: option.$id + '-clone-' + j,\n            'aria-selected': null\n          });\n          option_el.classList.add('ts-cloned');\n          removeClasses(option_el, 'active'); // make sure we keep the activeOption in the same group\n\n          if (self.activeOption && self.activeOption.dataset.value == opt_value) {\n            if (active_group && active_group.dataset.group === optgroup.toString()) {\n              active_option = option_el;\n            }\n          }\n        }\n\n        group_fragment.appendChild(option_el);\n        groups[optgroup] = group_fragment;\n      }\n    } // sort optgroups\n\n\n    if (self.settings.lockOptgroupOrder) {\n      groups_order.sort((a, b) => {\n        const grp_a = self.optgroups[a];\n        const grp_b = self.optgroups[b];\n        const a_order = grp_a && grp_a.$order || 0;\n        const b_order = grp_b && grp_b.$order || 0;\n        return a_order - b_order;\n      });\n    } // render optgroup headers & join groups\n\n\n    html = document.createDocumentFragment();\n    iterate$1(groups_order, optgroup => {\n      let group_fragment = groups[optgroup];\n      if (!group_fragment || !group_fragment.children.length) return;\n      let group_heading = self.optgroups[optgroup];\n\n      if (group_heading !== undefined) {\n        let group_options = document.createDocumentFragment();\n        let header = self.render('optgroup_header', group_heading);\n        append(group_options, header);\n        append(group_options, group_fragment);\n        let group_html = self.render('optgroup', {\n          group: group_heading,\n          options: group_options\n        });\n        append(html, group_html);\n      } else {\n        append(html, group_fragment);\n      }\n    });\n    dropdown_content.innerHTML = '';\n    append(dropdown_content, html); // highlight matching terms inline\n\n    if (self.settings.highlight) {\n      removeHighlight(dropdown_content);\n\n      if (results.query.length && results.tokens.length) {\n        iterate$1(results.tokens, tok => {\n          highlight(dropdown_content, tok.regex);\n        });\n      }\n    } // helper method for adding templates to dropdown\n\n\n    var add_template = template => {\n      let content = self.render(template, {\n        input: query\n      });\n\n      if (content) {\n        show_dropdown = true;\n        dropdown_content.insertBefore(content, dropdown_content.firstChild);\n      }\n\n      return content;\n    }; // add loading message\n\n\n    if (self.loading) {\n      add_template('loading'); // invalid query\n    } else if (!self.settings.shouldLoad.call(self, query)) {\n      add_template('not_loading'); // add no_results message\n    } else if (results.items.length === 0) {\n      add_template('no_results');\n    } // add create option\n\n\n    has_create_option = self.canCreate(query);\n\n    if (has_create_option) {\n      create = add_template('option_create');\n    } // activate\n\n\n    self.hasOptions = results.items.length > 0 || has_create_option;\n\n    if (show_dropdown) {\n      if (results.items.length > 0) {\n        if (!active_option && self.settings.mode === 'single' && self.items[0] != undefined) {\n          active_option = self.getOption(self.items[0]);\n        }\n\n        if (!dropdown_content.contains(active_option)) {\n          let active_index = 0;\n\n          if (create && !self.settings.addPrecedence) {\n            active_index = 1;\n          }\n\n          active_option = self.selectable()[active_index];\n        }\n      } else if (create) {\n        active_option = create;\n      }\n\n      if (triggerDropdown && !self.isOpen) {\n        self.open();\n        self.scrollToOption(active_option, 'auto');\n      }\n\n      self.setActiveOption(active_option);\n    } else {\n      self.clearActiveOption();\n\n      if (triggerDropdown && self.isOpen) {\n        self.close(false); // if create_option=null, we want the dropdown to close but not reset the textbox value\n      }\n    }\n  }\n  /**\n   * Return list of selectable options\n   *\n   */\n\n\n  selectable() {\n    return this.dropdown_content.querySelectorAll('[data-selectable]');\n  }\n  /**\n   * Adds an available option. If it already exists,\n   * nothing will happen. Note: this does not refresh\n   * the options list dropdown (use `refreshOptions`\n   * for that).\n   *\n   * Usage:\n   *\n   *   this.addOption(data)\n   *\n   */\n\n\n  addOption(data, user_created = false) {\n    const self = this; // @deprecated 1.7.7\n    // use addOptions( array, user_created ) for adding multiple options\n\n    if (Array.isArray(data)) {\n      self.addOptions(data, user_created);\n      return false;\n    }\n\n    const key = hash_key(data[self.settings.valueField]);\n\n    if (key === null || self.options.hasOwnProperty(key)) {\n      return false;\n    }\n\n    data.$order = data.$order || ++self.order;\n    data.$id = self.inputId + '-opt-' + data.$order;\n    self.options[key] = data;\n    self.lastQuery = null;\n\n    if (user_created) {\n      self.userOptions[key] = user_created;\n      self.trigger('option_add', key, data);\n    }\n\n    return key;\n  }\n  /**\n   * Add multiple options\n   *\n   */\n\n\n  addOptions(data, user_created = false) {\n    iterate$1(data, dat => {\n      this.addOption(dat, user_created);\n    });\n  }\n  /**\n   * @deprecated 1.7.7\n   */\n\n\n  registerOption(data) {\n    return this.addOption(data);\n  }\n  /**\n   * Registers an option group to the pool of option groups.\n   *\n   * @return {boolean|string}\n   */\n\n\n  registerOptionGroup(data) {\n    var key = hash_key(data[this.settings.optgroupValueField]);\n    if (key === null) return false;\n    data.$order = data.$order || ++this.order;\n    this.optgroups[key] = data;\n    return key;\n  }\n  /**\n   * Registers a new optgroup for options\n   * to be bucketed into.\n   *\n   */\n\n\n  addOptionGroup(id, data) {\n    var hashed_id;\n    data[this.settings.optgroupValueField] = id;\n\n    if (hashed_id = this.registerOptionGroup(data)) {\n      this.trigger('optgroup_add', hashed_id, data);\n    }\n  }\n  /**\n   * Removes an existing option group.\n   *\n   */\n\n\n  removeOptionGroup(id) {\n    if (this.optgroups.hasOwnProperty(id)) {\n      delete this.optgroups[id];\n      this.clearCache();\n      this.trigger('optgroup_remove', id);\n    }\n  }\n  /**\n   * Clears all existing option groups.\n   */\n\n\n  clearOptionGroups() {\n    this.optgroups = {};\n    this.clearCache();\n    this.trigger('optgroup_clear');\n  }\n  /**\n   * Updates an option available for selection. If\n   * it is visible in the selected items or options\n   * dropdown, it will be re-rendered automatically.\n   *\n   */\n\n\n  updateOption(value, data) {\n    const self = this;\n    var item_new;\n    var index_item;\n    const value_old = hash_key(value);\n    const value_new = hash_key(data[self.settings.valueField]); // sanity checks\n\n    if (value_old === null) return;\n    const data_old = self.options[value_old];\n    if (data_old == undefined) return;\n    if (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n    const option = self.getOption(value_old);\n    const item = self.getItem(value_old);\n    data.$order = data.$order || data_old.$order;\n    delete self.options[value_old]; // invalidate render cache\n    // don't remove existing node yet, we'll remove it after replacing it\n\n    self.uncacheValue(value_new);\n    self.options[value_new] = data; // update the option if it's in the dropdown\n\n    if (option) {\n      if (self.dropdown_content.contains(option)) {\n        const option_new = self._render('option', data);\n\n        replaceNode(option, option_new);\n\n        if (self.activeOption === option) {\n          self.setActiveOption(option_new);\n        }\n      }\n\n      option.remove();\n    } // update the item if we have one\n\n\n    if (item) {\n      index_item = self.items.indexOf(value_old);\n\n      if (index_item !== -1) {\n        self.items.splice(index_item, 1, value_new);\n      }\n\n      item_new = self._render('item', data);\n      if (item.classList.contains('active')) addClasses(item_new, 'active');\n      replaceNode(item, item_new);\n    } // invalidate last query because we might have updated the sortField\n\n\n    self.lastQuery = null;\n  }\n  /**\n   * Removes a single option.\n   *\n   */\n\n\n  removeOption(value, silent) {\n    const self = this;\n    value = get_hash(value);\n    self.uncacheValue(value);\n    delete self.userOptions[value];\n    delete self.options[value];\n    self.lastQuery = null;\n    self.trigger('option_remove', value);\n    self.removeItem(value, silent);\n  }\n  /**\n   * Clears all options.\n   */\n\n\n  clearOptions(filter) {\n    const boundFilter = (filter || this.clearFilter).bind(this);\n    this.loadedSearches = {};\n    this.userOptions = {};\n    this.clearCache();\n    const selected = {};\n    iterate$1(this.options, (option, key) => {\n      if (boundFilter(option, key)) {\n        selected[key] = option;\n      }\n    });\n    this.options = this.sifter.items = selected;\n    this.lastQuery = null;\n    this.trigger('option_clear');\n  }\n  /**\n   * Used by clearOptions() to decide whether or not an option should be removed\n   * Return true to keep an option, false to remove\n   *\n   */\n\n\n  clearFilter(option, value) {\n    if (this.items.indexOf(value) >= 0) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Returns the dom element of the option\n   * matching the given value.\n   *\n   */\n\n\n  getOption(value, create = false) {\n    const hashed = hash_key(value);\n    if (hashed === null) return null;\n    const option = this.options[hashed];\n\n    if (option != undefined) {\n      if (option.$div) {\n        return option.$div;\n      }\n\n      if (create) {\n        return this._render('option', option);\n      }\n    }\n\n    return null;\n  }\n  /**\n   * Returns the dom element of the next or previous dom element of the same type\n   * Note: adjacent options may not be adjacent DOM elements (optgroups)\n   *\n   */\n\n\n  getAdjacent(option, direction, type = 'option') {\n    var self = this,\n        all;\n\n    if (!option) {\n      return null;\n    }\n\n    if (type == 'item') {\n      all = self.controlChildren();\n    } else {\n      all = self.dropdown_content.querySelectorAll('[data-selectable]');\n    }\n\n    for (let i = 0; i < all.length; i++) {\n      if (all[i] != option) {\n        continue;\n      }\n\n      if (direction > 0) {\n        return all[i + 1];\n      }\n\n      return all[i - 1];\n    }\n\n    return null;\n  }\n  /**\n   * Returns the dom element of the item\n   * matching the given value.\n   *\n   */\n\n\n  getItem(item) {\n    if (typeof item == 'object') {\n      return item;\n    }\n\n    var value = hash_key(item);\n    return value !== null ? this.control.querySelector(`[data-value=\"${addSlashes(value)}\"]`) : null;\n  }\n  /**\n   * \"Selects\" multiple items at once. Adds them to the list\n   * at the current caret position.\n   *\n   */\n\n\n  addItems(values, silent) {\n    var self = this;\n    var items = Array.isArray(values) ? values : [values];\n    items = items.filter(x => self.items.indexOf(x) === -1);\n    const last_item = items[items.length - 1];\n    items.forEach(item => {\n      self.isPending = item !== last_item;\n      self.addItem(item, silent);\n    });\n  }\n  /**\n   * \"Selects\" an item. Adds it to the list\n   * at the current caret position.\n   *\n   */\n\n\n  addItem(value, silent) {\n    var events = silent ? [] : ['change', 'dropdown_close'];\n    debounce_events(this, events, () => {\n      var item, wasFull;\n      const self = this;\n      const inputMode = self.settings.mode;\n      const hashed = hash_key(value);\n\n      if (hashed && self.items.indexOf(hashed) !== -1) {\n        if (inputMode === 'single') {\n          self.close();\n        }\n\n        if (inputMode === 'single' || !self.settings.duplicates) {\n          return;\n        }\n      }\n\n      if (hashed === null || !self.options.hasOwnProperty(hashed)) return;\n      if (inputMode === 'single') self.clear(silent);\n      if (inputMode === 'multi' && self.isFull()) return;\n      item = self._render('item', self.options[hashed]);\n\n      if (self.control.contains(item)) {\n        // duplicates\n        item = item.cloneNode(true);\n      }\n\n      wasFull = self.isFull();\n      self.items.splice(self.caretPos, 0, hashed);\n      self.insertAtCaret(item);\n\n      if (self.isSetup) {\n        // update menu / remove the option (if this is not one item being added as part of series)\n        if (!self.isPending && self.settings.hideSelected) {\n          let option = self.getOption(hashed);\n          let next = self.getAdjacent(option, 1);\n\n          if (next) {\n            self.setActiveOption(next);\n          }\n        } // refreshOptions after setActiveOption(),\n        // otherwise setActiveOption() will be called by refreshOptions() with the wrong value\n\n\n        if (!self.isPending && !self.settings.closeAfterSelect) {\n          self.refreshOptions(self.isFocused && inputMode !== 'single');\n        } // hide the menu if the maximum number of items have been selected or no options are left\n\n\n        if (self.settings.closeAfterSelect != false && self.isFull()) {\n          self.close();\n        } else if (!self.isPending) {\n          self.positionDropdown();\n        }\n\n        self.trigger('item_add', hashed, item);\n\n        if (!self.isPending) {\n          self.updateOriginalInput({\n            silent: silent\n          });\n        }\n      }\n\n      if (!self.isPending || !wasFull && self.isFull()) {\n        self.inputState();\n        self.refreshState();\n      }\n    });\n  }\n  /**\n   * Removes the selected item matching\n   * the provided value.\n   *\n   */\n\n\n  removeItem(item = null, silent) {\n    const self = this;\n    item = self.getItem(item);\n    if (!item) return;\n    var i, idx;\n    const value = item.dataset.value;\n    i = nodeIndex(item);\n    item.remove();\n\n    if (item.classList.contains('active')) {\n      idx = self.activeItems.indexOf(item);\n      self.activeItems.splice(idx, 1);\n      removeClasses(item, 'active');\n    }\n\n    self.items.splice(i, 1);\n    self.lastQuery = null;\n\n    if (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n      self.removeOption(value, silent);\n    }\n\n    if (i < self.caretPos) {\n      self.setCaret(self.caretPos - 1);\n    }\n\n    self.updateOriginalInput({\n      silent: silent\n    });\n    self.refreshState();\n    self.positionDropdown();\n    self.trigger('item_remove', value, item);\n  }\n  /**\n   * Invokes the `create` method provided in the\n   * TomSelect options that should provide the data\n   * for the new item, given the user input.\n   *\n   * Once this completes, it will be added\n   * to the item list.\n   *\n   */\n\n\n  createItem(input = null, callback = () => {}) {\n    // triggerDropdown parameter @deprecated 2.1.1\n    if (arguments.length === 3) {\n      callback = arguments[2];\n    }\n\n    if (typeof callback != 'function') {\n      callback = () => {};\n    }\n\n    var self = this;\n    var caret = self.caretPos;\n    var output;\n    input = input || self.inputValue();\n\n    if (!self.canCreate(input)) {\n      callback();\n      return false;\n    }\n\n    self.lock();\n    var created = false;\n\n    var create = data => {\n      self.unlock();\n      if (!data || typeof data !== 'object') return callback();\n      var value = hash_key(data[self.settings.valueField]);\n\n      if (typeof value !== 'string') {\n        return callback();\n      }\n\n      self.setTextboxValue();\n      self.addOption(data, true);\n      self.setCaret(caret);\n      self.addItem(value);\n      callback(data);\n      created = true;\n    };\n\n    if (typeof self.settings.create === 'function') {\n      output = self.settings.create.call(this, input, create);\n    } else {\n      output = {\n        [self.settings.labelField]: input,\n        [self.settings.valueField]: input\n      };\n    }\n\n    if (!created) {\n      create(output);\n    }\n\n    return true;\n  }\n  /**\n   * Re-renders the selected item lists.\n   */\n\n\n  refreshItems() {\n    var self = this;\n    self.lastQuery = null;\n\n    if (self.isSetup) {\n      self.addItems(self.items);\n    }\n\n    self.updateOriginalInput();\n    self.refreshState();\n  }\n  /**\n   * Updates all state-dependent attributes\n   * and CSS classes.\n   */\n\n\n  refreshState() {\n    const self = this;\n    self.refreshValidityState();\n    const isFull = self.isFull();\n    const isLocked = self.isLocked;\n    self.wrapper.classList.toggle('rtl', self.rtl);\n    const wrap_classList = self.wrapper.classList;\n    wrap_classList.toggle('focus', self.isFocused);\n    wrap_classList.toggle('disabled', self.isDisabled);\n    wrap_classList.toggle('required', self.isRequired);\n    wrap_classList.toggle('invalid', !self.isValid);\n    wrap_classList.toggle('locked', isLocked);\n    wrap_classList.toggle('full', isFull);\n    wrap_classList.toggle('input-active', self.isFocused && !self.isInputHidden);\n    wrap_classList.toggle('dropdown-active', self.isOpen);\n    wrap_classList.toggle('has-options', isEmptyObject(self.options));\n    wrap_classList.toggle('has-items', self.items.length > 0);\n  }\n  /**\n   * Update the `required` attribute of both input and control input.\n   *\n   * The `required` property needs to be activated on the control input\n   * for the error to be displayed at the right place. `required` also\n   * needs to be temporarily deactivated on the input since the input is\n   * hidden and can't show errors.\n   */\n\n\n  refreshValidityState() {\n    var self = this;\n\n    if (!self.input.validity) {\n      return;\n    }\n\n    self.isValid = self.input.validity.valid;\n    self.isInvalid = !self.isValid;\n  }\n  /**\n   * Determines whether or not more items can be added\n   * to the control without exceeding the user-defined maximum.\n   *\n   * @returns {boolean}\n   */\n\n\n  isFull() {\n    return this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n  }\n  /**\n   * Refreshes the original <select> or <input>\n   * element to reflect the current state.\n   *\n   */\n\n\n  updateOriginalInput(opts = {}) {\n    const self = this;\n    var option, label;\n    const empty_option = self.input.querySelector('option[value=\"\"]');\n\n    if (self.is_select_tag) {\n      const selected = [];\n      const has_selected = self.input.querySelectorAll('option:checked').length;\n\n      function AddSelected(option_el, value, label) {\n        if (!option_el) {\n          option_el = getDom('<option value=\"' + escape_html(value) + '\">' + escape_html(label) + '</option>');\n        } // don't move empty option from top of list\n        // fixes bug in firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1725293\n\n\n        if (option_el != empty_option) {\n          self.input.append(option_el);\n        }\n\n        selected.push(option_el); // marking empty option as selected can break validation\n        // fixes https://github.com/orchidjs/tom-select/issues/303\n\n        if (option_el != empty_option || has_selected > 0) {\n          option_el.selected = true;\n        }\n\n        return option_el;\n      } // unselect all selected options\n\n\n      self.input.querySelectorAll('option:checked').forEach(option_el => {\n        option_el.selected = false;\n      }); // nothing selected?\n\n      if (self.items.length == 0 && self.settings.mode == 'single') {\n        AddSelected(empty_option, \"\", \"\"); // order selected <option> tags for values in self.items\n      } else {\n        self.items.forEach(value => {\n          option = self.options[value];\n          label = option[self.settings.labelField] || '';\n\n          if (selected.includes(option.$option)) {\n            const reuse_opt = self.input.querySelector(`option[value=\"${addSlashes(value)}\"]:not(:checked)`);\n            AddSelected(reuse_opt, value, label);\n          } else {\n            option.$option = AddSelected(option.$option, value, label);\n          }\n        });\n      }\n    } else {\n      self.input.value = self.getValue();\n    }\n\n    if (self.isSetup) {\n      if (!opts.silent) {\n        self.trigger('change', self.getValue());\n      }\n    }\n  }\n  /**\n   * Shows the autocomplete dropdown containing\n   * the available options.\n   */\n\n\n  open() {\n    var self = this;\n    if (self.isLocked || self.isOpen || self.settings.mode === 'multi' && self.isFull()) return;\n    self.isOpen = true;\n    setAttr(self.focus_node, {\n      'aria-expanded': 'true'\n    });\n    self.refreshState();\n    applyCSS(self.dropdown, {\n      visibility: 'hidden',\n      display: 'block'\n    });\n    self.positionDropdown();\n    applyCSS(self.dropdown, {\n      visibility: 'visible',\n      display: 'block'\n    });\n    self.focus();\n    self.trigger('dropdown_open', self.dropdown);\n  }\n  /**\n   * Closes the autocomplete dropdown menu.\n   */\n\n\n  close(setTextboxValue = true) {\n    var self = this;\n    var trigger = self.isOpen;\n\n    if (setTextboxValue) {\n      // before blur() to prevent form onchange event\n      self.setTextboxValue();\n\n      if (self.settings.mode === 'single' && self.items.length) {\n        self.hideInput();\n      }\n    }\n\n    self.isOpen = false;\n    setAttr(self.focus_node, {\n      'aria-expanded': 'false'\n    });\n    applyCSS(self.dropdown, {\n      display: 'none'\n    });\n\n    if (self.settings.hideSelected) {\n      self.clearActiveOption();\n    }\n\n    self.refreshState();\n    if (trigger) self.trigger('dropdown_close', self.dropdown);\n  }\n  /**\n   * Calculates and applies the appropriate\n   * position of the dropdown if dropdownParent = 'body'.\n   * Otherwise, position is determined by css\n   */\n\n\n  positionDropdown() {\n    if (this.settings.dropdownParent !== 'body') {\n      return;\n    }\n\n    var context = this.control;\n    var rect = context.getBoundingClientRect();\n    var top = context.offsetHeight + rect.top + window.scrollY;\n    var left = rect.left + window.scrollX;\n    applyCSS(this.dropdown, {\n      width: rect.width + 'px',\n      top: top + 'px',\n      left: left + 'px'\n    });\n  }\n  /**\n   * Resets / clears all selected items\n   * from the control.\n   *\n   */\n\n\n  clear(silent) {\n    var self = this;\n    if (!self.items.length) return;\n    var items = self.controlChildren();\n    iterate$1(items, item => {\n      self.removeItem(item, true);\n    });\n    self.showInput();\n    if (!silent) self.updateOriginalInput();\n    self.trigger('clear');\n  }\n  /**\n   * A helper method for inserting an element\n   * at the current caret position.\n   *\n   */\n\n\n  insertAtCaret(el) {\n    const self = this;\n    const caret = self.caretPos;\n    const target = self.control;\n    target.insertBefore(el, target.children[caret] || null);\n    self.setCaret(caret + 1);\n  }\n  /**\n   * Removes the current selected item(s).\n   *\n   */\n\n\n  deleteSelection(e) {\n    var direction, selection, caret, tail;\n    var self = this;\n    direction = e && e.keyCode === KEY_BACKSPACE ? -1 : 1;\n    selection = getSelection(self.control_input); // determine items that will be removed\n\n    const rm_items = [];\n\n    if (self.activeItems.length) {\n      tail = getTail(self.activeItems, direction);\n      caret = nodeIndex(tail);\n\n      if (direction > 0) {\n        caret++;\n      }\n\n      iterate$1(self.activeItems, item => rm_items.push(item));\n    } else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n      const items = self.controlChildren();\n      let rm_item;\n\n      if (direction < 0 && selection.start === 0 && selection.length === 0) {\n        rm_item = items[self.caretPos - 1];\n      } else if (direction > 0 && selection.start === self.inputValue().length) {\n        rm_item = items[self.caretPos];\n      }\n\n      if (rm_item !== undefined) {\n        rm_items.push(rm_item);\n      }\n    }\n\n    if (!self.shouldDelete(rm_items, e)) {\n      return false;\n    }\n\n    preventDefault(e, true); // perform removal\n\n    if (typeof caret !== 'undefined') {\n      self.setCaret(caret);\n    }\n\n    while (rm_items.length) {\n      self.removeItem(rm_items.pop());\n    }\n\n    self.showInput();\n    self.positionDropdown();\n    self.refreshOptions(false);\n    return true;\n  }\n  /**\n   * Return true if the items should be deleted\n   */\n\n\n  shouldDelete(items, evt) {\n    const values = items.map(item => item.dataset.value); // allow the callback to abort\n\n    if (!values.length || typeof this.settings.onDelete === 'function' && this.settings.onDelete(values, evt) === false) {\n      return false;\n    }\n\n    return true;\n  }\n  /**\n   * Selects the previous / next item (depending on the `direction` argument).\n   *\n   * > 0 - right\n   * < 0 - left\n   *\n   */\n\n\n  advanceSelection(direction, e) {\n    var last_active,\n        adjacent,\n        self = this;\n    if (self.rtl) direction *= -1;\n    if (self.inputValue().length) return; // add or remove to active items\n\n    if (isKeyDown(KEY_SHORTCUT, e) || isKeyDown('shiftKey', e)) {\n      last_active = self.getLastActive(direction);\n\n      if (last_active) {\n        if (!last_active.classList.contains('active')) {\n          adjacent = last_active;\n        } else {\n          adjacent = self.getAdjacent(last_active, direction, 'item');\n        } // if no active item, get items adjacent to the control input\n\n      } else if (direction > 0) {\n        adjacent = self.control_input.nextElementSibling;\n      } else {\n        adjacent = self.control_input.previousElementSibling;\n      }\n\n      if (adjacent) {\n        if (adjacent.classList.contains('active')) {\n          self.removeActiveItem(last_active);\n        }\n\n        self.setActiveItemClass(adjacent); // mark as last_active !! after removeActiveItem() on last_active\n      } // move caret to the left or right\n\n    } else {\n      self.moveCaret(direction);\n    }\n  }\n\n  moveCaret(direction) {}\n  /**\n   * Get the last active item\n   *\n   */\n\n\n  getLastActive(direction) {\n    let last_active = this.control.querySelector('.last-active');\n\n    if (last_active) {\n      return last_active;\n    }\n\n    var result = this.control.querySelectorAll('.active');\n\n    if (result) {\n      return getTail(result, direction);\n    }\n  }\n  /**\n   * Moves the caret to the specified index.\n   *\n   * The input must be moved by leaving it in place and moving the\n   * siblings, due to the fact that focus cannot be restored once lost\n   * on mobile webkit devices\n   *\n   */\n\n\n  setCaret(new_pos) {\n    this.caretPos = this.items.length;\n  }\n  /**\n   * Return list of item dom elements\n   *\n   */\n\n\n  controlChildren() {\n    return Array.from(this.control.querySelectorAll('[data-ts-item]'));\n  }\n  /**\n   * Disables user input on the control. Used while\n   * items are being asynchronously created.\n   */\n\n\n  lock() {\n    this.isLocked = true;\n    this.refreshState();\n  }\n  /**\n   * Re-enables user input on the control.\n   */\n\n\n  unlock() {\n    this.isLocked = false;\n    this.refreshState();\n  }\n  /**\n   * Disables user input on the control completely.\n   * While disabled, it cannot receive focus.\n   */\n\n\n  disable() {\n    var self = this;\n    self.input.disabled = true;\n    self.control_input.disabled = true;\n    self.focus_node.tabIndex = -1;\n    self.isDisabled = true;\n    this.close();\n    self.lock();\n  }\n  /**\n   * Enables the control so that it can respond\n   * to focus and user input.\n   */\n\n\n  enable() {\n    var self = this;\n    self.input.disabled = false;\n    self.control_input.disabled = false;\n    self.focus_node.tabIndex = self.tabIndex;\n    self.isDisabled = false;\n    self.unlock();\n  }\n  /**\n   * Completely destroys the control and\n   * unbinds all event listeners so that it can\n   * be garbage collected.\n   */\n\n\n  destroy() {\n    var self = this;\n    var revertSettings = self.revertSettings;\n    self.trigger('destroy');\n    self.off();\n    self.wrapper.remove();\n    self.dropdown.remove();\n    self.input.innerHTML = revertSettings.innerHTML;\n    self.input.tabIndex = revertSettings.tabIndex;\n    removeClasses(self.input, 'tomselected', 'ts-hidden-accessible');\n\n    self._destroy();\n\n    delete self.input.tomselect;\n  }\n  /**\n   * A helper method for rendering \"item\" and\n   * \"option\" templates, given the data.\n   *\n   */\n\n\n  render(templateName, data) {\n    var id, html;\n    const self = this;\n\n    if (typeof this.settings.render[templateName] !== 'function') {\n      return null;\n    } // render markup\n\n\n    html = self.settings.render[templateName].call(this, data, escape_html);\n\n    if (!html) {\n      return null;\n    }\n\n    html = getDom(html); // add mandatory attributes\n\n    if (templateName === 'option' || templateName === 'option_create') {\n      if (data[self.settings.disabledField]) {\n        setAttr(html, {\n          'aria-disabled': 'true'\n        });\n      } else {\n        setAttr(html, {\n          'data-selectable': ''\n        });\n      }\n    } else if (templateName === 'optgroup') {\n      id = data.group[self.settings.optgroupValueField];\n      setAttr(html, {\n        'data-group': id\n      });\n\n      if (data.group[self.settings.disabledField]) {\n        setAttr(html, {\n          'data-disabled': ''\n        });\n      }\n    }\n\n    if (templateName === 'option' || templateName === 'item') {\n      const value = get_hash(data[self.settings.valueField]);\n      setAttr(html, {\n        'data-value': value\n      }); // make sure we have some classes if a template is overwritten\n\n      if (templateName === 'item') {\n        addClasses(html, self.settings.itemClass);\n        setAttr(html, {\n          'data-ts-item': ''\n        });\n      } else {\n        addClasses(html, self.settings.optionClass);\n        setAttr(html, {\n          role: 'option',\n          id: data.$id\n        }); // update cache\n\n        data.$div = html;\n        self.options[value] = data;\n      }\n    }\n\n    return html;\n  }\n  /**\n   * Type guarded rendering\n   *\n   */\n\n\n  _render(templateName, data) {\n    const html = this.render(templateName, data);\n\n    if (html == null) {\n      throw 'HTMLElement expected';\n    }\n\n    return html;\n  }\n  /**\n   * Clears the render cache for a template. If\n   * no template is given, clears all render\n   * caches.\n   *\n   */\n\n\n  clearCache() {\n    iterate$1(this.options, option => {\n      if (option.$div) {\n        option.$div.remove();\n        delete option.$div;\n      }\n    });\n  }\n  /**\n   * Removes a value from item and option caches\n   *\n   */\n\n\n  uncacheValue(value) {\n    const option_el = this.getOption(value);\n    if (option_el) option_el.remove();\n  }\n  /**\n   * Determines whether or not to display the\n   * create item prompt, given a user input.\n   *\n   */\n\n\n  canCreate(input) {\n    return this.settings.create && input.length > 0 && this.settings.createFilter.call(this, input);\n  }\n  /**\n   * Wraps this.`method` so that `new_fn` can be invoked 'before', 'after', or 'instead' of the original method\n   *\n   * this.hook('instead','onKeyDown',function( arg1, arg2 ...){\n   *\n   * });\n   */\n\n\n  hook(when, method, new_fn) {\n    var self = this;\n    var orig_method = self[method];\n\n    self[method] = function () {\n      var result, result_new;\n\n      if (when === 'after') {\n        result = orig_method.apply(self, arguments);\n      }\n\n      result_new = new_fn.apply(self, arguments);\n\n      if (when === 'instead') {\n        return result_new;\n      }\n\n      if (when === 'before') {\n        result = orig_method.apply(self, arguments);\n      }\n\n      return result;\n    };\n  }\n\n}\n\n/**\n * Plugin: \"dropdown_input\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction caret_position () {\n  var self = this;\n  /**\n   * Moves the caret to the specified index.\n   *\n   * The input must be moved by leaving it in place and moving the\n   * siblings, due to the fact that focus cannot be restored once lost\n   * on mobile webkit devices\n   *\n   */\n\n  self.hook('instead', 'setCaret', new_pos => {\n    if (self.settings.mode === 'single' || !self.control.contains(self.control_input)) {\n      new_pos = self.items.length;\n    } else {\n      new_pos = Math.max(0, Math.min(self.items.length, new_pos));\n\n      if (new_pos != self.caretPos && !self.isPending) {\n        self.controlChildren().forEach((child, j) => {\n          if (j < new_pos) {\n            self.control_input.insertAdjacentElement('beforebegin', child);\n          } else {\n            self.control.appendChild(child);\n          }\n        });\n      }\n    }\n\n    self.caretPos = new_pos;\n  });\n  self.hook('instead', 'moveCaret', direction => {\n    if (!self.isFocused) return; // move caret before or after selected items\n\n    const last_active = self.getLastActive(direction);\n\n    if (last_active) {\n      const idx = nodeIndex(last_active);\n      self.setCaret(direction > 0 ? idx + 1 : idx);\n      self.setActiveItem();\n      removeClasses(last_active, 'last-active'); // move caret left or right of current position\n    } else {\n      self.setCaret(self.caretPos + direction);\n    }\n  });\n}\n\n/**\n * Plugin: \"dropdown_input\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction dropdown_input () {\n  const self = this;\n  self.settings.shouldOpen = true; // make sure the input is shown even if there are no options to display in the dropdown\n\n  self.hook('before', 'setup', () => {\n    self.focus_node = self.control;\n    addClasses(self.control_input, 'dropdown-input');\n    const div = getDom('<div class=\"dropdown-input-wrap\">');\n    div.append(self.control_input);\n    self.dropdown.insertBefore(div, self.dropdown.firstChild); // set a placeholder in the select control\n\n    const placeholder = getDom('<input class=\"items-placeholder\" tabindex=\"-1\" />');\n    placeholder.placeholder = self.settings.placeholder || '';\n    self.control.append(placeholder);\n  });\n  self.on('initialize', () => {\n    // set tabIndex on control to -1, otherwise [shift+tab] will put focus right back on control_input\n    self.control_input.addEventListener('keydown', evt => {\n      //addEvent(self.control_input,'keydown' as const,(evt:KeyboardEvent) =>{\n      switch (evt.keyCode) {\n        case KEY_ESC:\n          if (self.isOpen) {\n            preventDefault(evt, true);\n            self.close();\n          }\n\n          self.clearActiveItems();\n          return;\n\n        case KEY_TAB:\n          self.focus_node.tabIndex = -1;\n          break;\n      }\n\n      return self.onKeyDown.call(self, evt);\n    });\n    self.on('blur', () => {\n      self.focus_node.tabIndex = self.isDisabled ? -1 : self.tabIndex;\n    }); // give the control_input focus when the dropdown is open\n\n    self.on('dropdown_open', () => {\n      self.control_input.focus();\n    }); // prevent onBlur from closing when focus is on the control_input\n\n    const orig_onBlur = self.onBlur;\n    self.hook('instead', 'onBlur', evt => {\n      if (evt && evt.relatedTarget == self.control_input) return;\n      return orig_onBlur.call(self);\n    });\n    addEvent(self.control_input, 'blur', () => self.onBlur()); // return focus to control to allow further keyboard input\n\n    self.hook('before', 'close', () => {\n      if (!self.isOpen) return;\n      self.focus_node.focus({\n        preventScroll: true\n      });\n    });\n  });\n}\n\n/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction no_backspace_delete () {\n  var self = this;\n  var orig_deleteSelection = self.deleteSelection;\n  this.hook('instead', 'deleteSelection', evt => {\n    if (self.activeItems.length) {\n      return orig_deleteSelection.call(self, evt);\n    }\n\n    return false;\n  });\n}\n\n/**\n * Plugin: \"remove_button\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction remove_button (userOptions) {\n  const options = Object.assign({\n    label: '&times;',\n    title: 'Remove',\n    className: 'remove',\n    append: true\n  }, userOptions); //options.className = 'remove-single';\n\n  var self = this; // override the render method to add remove button to each item\n\n  if (!options.append) {\n    return;\n  }\n\n  var html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n  self.hook('after', 'setupTemplates', () => {\n    var orig_render_item = self.settings.render.item;\n\n    self.settings.render.item = (data, escape) => {\n      var item = getDom(orig_render_item.call(self, data, escape));\n      var close_button = getDom(html);\n      item.appendChild(close_button);\n      addEvent(close_button, 'mousedown', evt => {\n        preventDefault(evt, true);\n      });\n      addEvent(close_button, 'click', evt => {\n        // propagating will trigger the dropdown to show for single mode\n        preventDefault(evt, true);\n        if (self.isLocked) return;\n        if (!self.shouldDelete([item], evt)) return;\n        self.removeItem(item);\n        self.refreshOptions(false);\n        self.inputState();\n      });\n      return item;\n    };\n  });\n}\n\n/**\n * Plugin: \"restore_on_backspace\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction restore_on_backspace (userOptions) {\n  const self = this;\n  const options = Object.assign({\n    text: option => {\n      return option[self.settings.labelField];\n    }\n  }, userOptions);\n  self.on('item_remove', function (value) {\n    if (!self.isFocused) {\n      return;\n    }\n\n    if (self.control_input.value.trim() === '') {\n      var option = self.options[value];\n\n      if (option) {\n        self.setTextboxValue(options.text.call(self, option));\n      }\n    }\n  });\n}\n\nTomSelect.define('caret_position', caret_position);\nTomSelect.define('dropdown_input', dropdown_input);\nTomSelect.define('no_backspace_delete', no_backspace_delete);\nTomSelect.define('remove_button', remove_button);\nTomSelect.define('restore_on_backspace', restore_on_backspace);\n\nmodule.exports = TomSelect;\n//# sourceMappingURL=tom-select.popular.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","export default class AutoButtonsByPositionComponent {\n  constructor(options = {}) {\n    this.listSelector = options.listSelector;\n    this.hideOnFirstSelector = options.hideOnFirstSelector;\n    this.hideOnLastSelector = options.hideOnLastSelector;\n    this.run();\n  }\n  run() {\n    const $list = $(this.listSelector);\n    const hideOnFirst = this.hideOnFirstSelector;\n    const hideOnLast = this.hideOnLastSelector;\n    if ($list.length === 1) {\n      const $item = $list.first();\n      $item.find(hideOnFirst).hide();\n      $item.find(hideOnLast).hide();\n    } else {\n      $list.each((idx, el) => {\n        if (el.id === $list.first().attr(\"id\")) {\n          $(el).find(hideOnFirst).hide();\n          $(el).find(hideOnLast).show();\n        } else if (el.id === $list.last().attr(\"id\")) {\n          $(el).find(hideOnLast).hide();\n          $(el).find(hideOnFirst).show();\n        } else {\n          $(el).find(hideOnLast).show();\n          $(el).find(hideOnFirst).show();\n        }\n      });\n    }\n  }\n}\n","export default class AutoLabelByPositionComponent {\n  constructor(options = {}) {\n    this.listSelector = options.listSelector;\n    this.labelSelector = options.labelSelector;\n    this.onPositionComputed = options.onPositionComputed;\n    this.run();\n  }\n  run() {\n    const $list = $(this.listSelector);\n    $list.each((idx, el) => {\n      const $label = $(el).find(this.labelSelector);\n      const labelContent = $label.html();\n      if (labelContent.match(/#(\\d+)/)) {\n        $label.html(labelContent.replace(/#(\\d+)/, `#${idx + 1}`));\n      } else {\n        $label.html(`${labelContent} #${idx + 1}`);\n      }\n      if (this.onPositionComputed) {\n        this.onPositionComputed(el, idx);\n      }\n    });\n  }\n}\n","/*\n * HTML5Sortable package\n * https://github.com/lukasoppermann/html5sortable\n *\n * Maintained by Lukas Oppermann <lukas@vea.re>\n *\n * Released under the MIT license.\n */\n/**\n * Get or set data on element\n * @param {HTMLElement} element\n * @param {string} key\n * @param {any} value\n * @return {*}\n */\nfunction addData(element, key, value) {\n    if (value === undefined) {\n        return element && element.h5s && element.h5s.data && element.h5s.data[key];\n    }\n    else {\n        element.h5s = element.h5s || {};\n        element.h5s.data = element.h5s.data || {};\n        element.h5s.data[key] = value;\n    }\n}\n/**\n * Remove data from element\n * @param {HTMLElement} element\n */\nfunction removeData(element) {\n    if (element.h5s) {\n        delete element.h5s.data;\n    }\n}\n\n/* eslint-env browser */\n/**\n * Filter only wanted nodes\n * @param {NodeList|HTMLCollection|Array} nodes\n * @param {String} selector\n * @returns {Array}\n */\nvar filter = (function (nodes, selector) {\n    if (!(nodes instanceof NodeList || nodes instanceof HTMLCollection || nodes instanceof Array)) {\n        throw new Error('You must provide a nodeList/HTMLCollection/Array of elements to be filtered.');\n    }\n    if (typeof selector !== 'string') {\n        return Array.from(nodes);\n    }\n    return Array.from(nodes).filter(function (item) { return item.nodeType === 1 && item.matches(selector); });\n});\n\n/* eslint-env browser */\n/* eslint-disable no-use-before-define */\nvar stores = new Map();\n/* eslint-enable no-use-before-define */\n/**\n * Stores data & configurations per Sortable\n * @param {Object} config\n */\nvar Store = /** @class */ (function () {\n    function Store() {\n        this._config = new Map(); // eslint-disable-line no-undef\n        this._placeholder = undefined; // eslint-disable-line no-undef\n        this._data = new Map(); // eslint-disable-line no-undef\n    }\n    Object.defineProperty(Store.prototype, \"config\", {\n        /**\n         * get the configuration map of a class instance\n         * @method config\n         * @return {object}\n         */\n        get: function () {\n            // transform Map to object\n            var config = {};\n            this._config.forEach(function (value, key) {\n                config[key] = value;\n            });\n            // return object\n            return config;\n        },\n        /**\n         * set the configuration of a class instance\n         * @method config\n         * @param {object} config object of configurations\n         */\n        set: function (config) {\n            if (typeof config !== 'object') {\n                throw new Error('You must provide a valid configuration object to the config setter.');\n            }\n            // combine config with default\n            var mergedConfig = Object.assign({}, config);\n            // add config to map\n            this._config = new Map(Object.entries(mergedConfig));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * set individual configuration of a class instance\n     * @method setConfig\n     * @param  key valid configuration key\n     * @param  value any value\n     * @return void\n     */\n    Store.prototype.setConfig = function (key, value) {\n        if (!this._config.has(key)) {\n            throw new Error(\"Trying to set invalid configuration item: \" + key);\n        }\n        // set config\n        this._config.set(key, value);\n    };\n    /**\n     * get an individual configuration of a class instance\n     * @method getConfig\n     * @param  key valid configuration key\n     * @return any configuration value\n     */\n    Store.prototype.getConfig = function (key) {\n        if (!this._config.has(key)) {\n            throw new Error(\"Invalid configuration item requested: \" + key);\n        }\n        return this._config.get(key);\n    };\n    Object.defineProperty(Store.prototype, \"placeholder\", {\n        /**\n         * get the placeholder for a class instance\n         * @method placeholder\n         * @return {HTMLElement|null}\n         */\n        get: function () {\n            return this._placeholder;\n        },\n        /**\n         * set the placeholder for a class instance\n         * @method placeholder\n         * @param {HTMLElement} placeholder\n         * @return {void}\n         */\n        set: function (placeholder) {\n            if (!(placeholder instanceof HTMLElement) && placeholder !== null) {\n                throw new Error('A placeholder must be an html element or null.');\n            }\n            this._placeholder = placeholder;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * set an data entry\n     * @method setData\n     * @param {string} key\n     * @param {any} value\n     * @return {void}\n     */\n    Store.prototype.setData = function (key, value) {\n        if (typeof key !== 'string') {\n            throw new Error('The key must be a string.');\n        }\n        this._data.set(key, value);\n    };\n    /**\n     * get an data entry\n     * @method getData\n     * @param {string} key an existing key\n     * @return {any}\n     */\n    Store.prototype.getData = function (key) {\n        if (typeof key !== 'string') {\n            throw new Error('The key must be a string.');\n        }\n        return this._data.get(key);\n    };\n    /**\n     * delete an data entry\n     * @method deleteData\n     * @param {string} key an existing key\n     * @return {boolean}\n     */\n    Store.prototype.deleteData = function (key) {\n        if (typeof key !== 'string') {\n            throw new Error('The key must be a string.');\n        }\n        return this._data.delete(key);\n    };\n    return Store;\n}());\n/**\n * @param {HTMLElement} sortableElement\n * @returns {Class: Store}\n */\nvar store = (function (sortableElement) {\n    // if sortableElement is wrong type\n    if (!(sortableElement instanceof HTMLElement)) {\n        throw new Error('Please provide a sortable to the store function.');\n    }\n    // create new instance if not avilable\n    if (!stores.has(sortableElement)) {\n        stores.set(sortableElement, new Store());\n    }\n    // return instance\n    return stores.get(sortableElement);\n});\n\n/**\n * @param {Array|HTMLElement} element\n * @param {Function} callback\n * @param {string} event\n */\nfunction addEventListener(element, eventName, callback) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            addEventListener(element[i], eventName, callback);\n        }\n        return;\n    }\n    element.addEventListener(eventName, callback);\n    store(element).setData(\"event\" + eventName, callback);\n}\n/**\n * @param {Array<HTMLElement>|HTMLElement} element\n * @param {string} eventName\n */\nfunction removeEventListener(element, eventName) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            removeEventListener(element[i], eventName);\n        }\n        return;\n    }\n    element.removeEventListener(eventName, store(element).getData(\"event\" + eventName));\n    store(element).deleteData(\"event\" + eventName);\n}\n\n/**\n * @param {Array<HTMLElement>|HTMLElement} element\n * @param {string} attribute\n * @param {string} value\n */\nfunction addAttribute(element, attribute, value) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            addAttribute(element[i], attribute, value);\n        }\n        return;\n    }\n    element.setAttribute(attribute, value);\n}\n/**\n * @param {Array|HTMLElement} element\n * @param {string} attribute\n */\nfunction removeAttribute(element, attribute) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            removeAttribute(element[i], attribute);\n        }\n        return;\n    }\n    element.removeAttribute(attribute);\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {Object}\n */\nvar offset = (function (element) {\n    if (!element.parentElement || element.getClientRects().length === 0) {\n        throw new Error('target element must be part of the dom');\n    }\n    var rect = element.getClientRects()[0];\n    return {\n        left: rect.left + window.pageXOffset,\n        right: rect.right + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        bottom: rect.bottom + window.pageYOffset\n    };\n});\n\n/**\n * Creates and returns a new debounced version of the passed function which will postpone its execution until after wait milliseconds have elapsed\n * @param {Function} func to debounce\n * @param {number} time to wait before calling function with latest arguments, 0 - no debounce\n * @returns {function} - debounced function\n */\nvar debounce = (function (func, wait) {\n    if (wait === void 0) { wait = 0; }\n    var timeout;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            func.apply(void 0, args);\n        }, wait);\n    };\n});\n\n/* eslint-env browser */\n/**\n * Get position of the element relatively to its sibling elements\n * @param {HTMLElement} element\n * @returns {number}\n */\nvar getIndex = (function (element, elementList) {\n    if (!(element instanceof HTMLElement) || !(elementList instanceof NodeList || elementList instanceof HTMLCollection || elementList instanceof Array)) {\n        throw new Error('You must provide an element and a list of elements.');\n    }\n    return Array.from(elementList).indexOf(element);\n});\n\n/* eslint-env browser */\n/**\n * Test whether element is in DOM\n * @param {HTMLElement} element\n * @returns {boolean}\n */\nvar isInDom = (function (element) {\n    if (!(element instanceof HTMLElement)) {\n        throw new Error('Element is not a node element.');\n    }\n    return element.parentNode !== null;\n});\n\n/* eslint-env browser */\n/**\n * Insert node before or after target\n * @param {HTMLElement} referenceNode - reference element\n * @param {HTMLElement} newElement - element to be inserted\n * @param {String} position - insert before or after reference element\n */\nvar insertNode = function (referenceNode, newElement, position) {\n    if (!(referenceNode instanceof HTMLElement) || !(referenceNode.parentElement instanceof HTMLElement)) {\n        throw new Error('target and element must be a node');\n    }\n    referenceNode.parentElement.insertBefore(newElement, (position === 'before' ? referenceNode : referenceNode.nextElementSibling));\n};\n/**\n * Insert before target\n * @param {HTMLElement} target\n * @param {HTMLElement} element\n */\nvar insertBefore = function (target, element) { return insertNode(target, element, 'before'); };\n/**\n * Insert after target\n * @param {HTMLElement} target\n * @param {HTMLElement} element\n */\nvar insertAfter = function (target, element) { return insertNode(target, element, 'after'); };\n\n/* eslint-env browser */\n/**\n * Filter only wanted nodes\n * @param {HTMLElement} sortableContainer\n * @param {Function} customSerializer\n * @returns {Array}\n */\nvar serialize = (function (sortableContainer, customItemSerializer, customContainerSerializer) {\n    if (customItemSerializer === void 0) { customItemSerializer = function (serializedItem, sortableContainer) { return serializedItem; }; }\n    if (customContainerSerializer === void 0) { customContainerSerializer = function (serializedContainer) { return serializedContainer; }; }\n    // check for valid sortableContainer\n    if (!(sortableContainer instanceof HTMLElement) || !sortableContainer.isSortable === true) {\n        throw new Error('You need to provide a sortableContainer to be serialized.');\n    }\n    // check for valid serializers\n    if (typeof customItemSerializer !== 'function' || typeof customContainerSerializer !== 'function') {\n        throw new Error('You need to provide a valid serializer for items and the container.');\n    }\n    // get options\n    var options = addData(sortableContainer, 'opts');\n    var item = options.items;\n    // serialize container\n    var items = filter(sortableContainer.children, item);\n    var serializedItems = items.map(function (item) {\n        return {\n            parent: sortableContainer,\n            node: item,\n            html: item.outerHTML,\n            index: getIndex(item, items)\n        };\n    });\n    // serialize container\n    var container = {\n        node: sortableContainer,\n        itemCount: serializedItems.length\n    };\n    return {\n        container: customContainerSerializer(container),\n        items: serializedItems.map(function (item) { return customItemSerializer(item, sortableContainer); })\n    };\n});\n\n/* eslint-env browser */\n/**\n * create a placeholder element\n * @param {HTMLElement} sortableElement a single sortable\n * @param {string|undefined} placeholder a string representing an html element\n * @param {string} placeholderClasses a string representing the classes that should be added to the placeholder\n */\nvar makePlaceholder = (function (sortableElement, placeholder, placeholderClass) {\n    var _a;\n    if (placeholderClass === void 0) { placeholderClass = 'sortable-placeholder'; }\n    if (!(sortableElement instanceof HTMLElement)) {\n        throw new Error('You must provide a valid element as a sortable.');\n    }\n    // if placeholder is not an element\n    if (!(placeholder instanceof HTMLElement) && placeholder !== undefined) {\n        throw new Error('You must provide a valid element as a placeholder or set ot to undefined.');\n    }\n    // if no placeholder element is given\n    if (placeholder === undefined) {\n        if (['UL', 'OL'].includes(sortableElement.tagName)) {\n            placeholder = document.createElement('li');\n        }\n        else if (['TABLE', 'TBODY'].includes(sortableElement.tagName)) {\n            placeholder = document.createElement('tr');\n            // set colspan to always all rows, otherwise the item can only be dropped in first column\n            placeholder.innerHTML = '<td colspan=\"100\"></td>';\n        }\n        else {\n            placeholder = document.createElement('div');\n        }\n    }\n    // add classes to placeholder\n    if (typeof placeholderClass === 'string') {\n        (_a = placeholder.classList).add.apply(_a, placeholderClass.split(' '));\n    }\n    return placeholder;\n});\n\n/* eslint-env browser */\n/**\n * Get height of an element including padding\n * @param {HTMLElement} element an dom element\n */\nvar getElementHeight = (function (element) {\n    if (!(element instanceof HTMLElement)) {\n        throw new Error('You must provide a valid dom element');\n    }\n    // get calculated style of element\n    var style = window.getComputedStyle(element);\n    // get only height if element has box-sizing: border-box specified\n    if (style.getPropertyValue('box-sizing') === 'border-box') {\n        return parseInt(style.getPropertyValue('height'), 10);\n    }\n    // pick applicable properties, convert to int and reduce by adding\n    return ['height', 'padding-top', 'padding-bottom']\n        .map(function (key) {\n        var int = parseInt(style.getPropertyValue(key), 10);\n        return isNaN(int) ? 0 : int;\n    })\n        .reduce(function (sum, value) { return sum + value; });\n});\n\n/* eslint-env browser */\n/**\n * Get width of an element including padding\n * @param {HTMLElement} element an dom element\n */\nvar getElementWidth = (function (element) {\n    if (!(element instanceof HTMLElement)) {\n        throw new Error('You must provide a valid dom element');\n    }\n    // get calculated style of element\n    var style = window.getComputedStyle(element);\n    // pick applicable properties, convert to int and reduce by adding\n    return ['width', 'padding-left', 'padding-right']\n        .map(function (key) {\n        var int = parseInt(style.getPropertyValue(key), 10);\n        return isNaN(int) ? 0 : int;\n    })\n        .reduce(function (sum, value) { return sum + value; });\n});\n\n/* eslint-env browser */\n/**\n * get handle or return item\n * @param {Array<HTMLElement>} items\n * @param {string} selector\n */\nvar getHandles = (function (items, selector) {\n    if (!(items instanceof Array)) {\n        throw new Error('You must provide a Array of HTMLElements to be filtered.');\n    }\n    if (typeof selector !== 'string') {\n        return items;\n    }\n    return items\n        // remove items without handle from array\n        .filter(function (item) {\n        return item.querySelector(selector) instanceof HTMLElement ||\n            (item.shadowRoot && item.shadowRoot.querySelector(selector) instanceof HTMLElement);\n    })\n        // replace item with handle in array\n        .map(function (item) {\n        return item.querySelector(selector) || (item.shadowRoot && item.shadowRoot.querySelector(selector));\n    });\n});\n\n/**\n * @param {Event} event\n * @returns {HTMLElement}\n */\nvar getEventTarget = (function (event) {\n    return (event.composedPath && event.composedPath()[0]) || event.target;\n});\n\n/* eslint-env browser */\n/**\n * defaultDragImage returns the current item as dragged image\n * @param {HTMLElement} draggedElement - the item that the user drags\n * @param {object} elementOffset - an object with the offsets top, left, right & bottom\n * @param {Event} event - the original drag event object\n * @return {object} with element, posX and posY properties\n */\nvar defaultDragImage = function (draggedElement, elementOffset, event) {\n    return {\n        element: draggedElement,\n        posX: event.pageX - elementOffset.left,\n        posY: event.pageY - elementOffset.top\n    };\n};\n/**\n * attaches an element as the drag image to an event\n * @param {Event} event - the original drag event object\n * @param {HTMLElement} draggedElement - the item that the user drags\n * @param {Function} customDragImage - function to create a custom dragImage\n * @return void\n */\nvar setDragImage = (function (event, draggedElement, customDragImage) {\n    // check if event is provided\n    if (!(event instanceof Event)) {\n        throw new Error('setDragImage requires a DragEvent as the first argument.');\n    }\n    // check if draggedElement is provided\n    if (!(draggedElement instanceof HTMLElement)) {\n        throw new Error('setDragImage requires the dragged element as the second argument.');\n    }\n    // set default function of none provided\n    if (!customDragImage) {\n        customDragImage = defaultDragImage;\n    }\n    // check if setDragImage method is available\n    if (event.dataTransfer && event.dataTransfer.setDragImage) {\n        // get the elements offset\n        var elementOffset = offset(draggedElement);\n        // get the dragImage\n        var dragImage = customDragImage(draggedElement, elementOffset, event);\n        // check if custom function returns correct values\n        if (!(dragImage.element instanceof HTMLElement) || typeof dragImage.posX !== 'number' || typeof dragImage.posY !== 'number') {\n            throw new Error('The customDragImage function you provided must return and object with the properties element[string], posX[integer], posY[integer].');\n        }\n        // needs to be set for HTML5 drag & drop to work\n        event.dataTransfer.effectAllowed = 'copyMove';\n        // Firefox requires it to use the event target's id for the data\n        event.dataTransfer.setData('text/plain', getEventTarget(event).id);\n        // set the drag image on the event\n        event.dataTransfer.setDragImage(dragImage.element, dragImage.posX, dragImage.posY);\n    }\n});\n\n/**\n * Check if curList accepts items from destList\n * @param {sortable} destination the container an item is move to\n * @param {sortable} origin the container an item comes from\n */\nvar listsConnected = (function (destination, origin) {\n    // check if valid sortable\n    if (destination.isSortable === true) {\n        var acceptFrom = store(destination).getConfig('acceptFrom');\n        // check if acceptFrom is valid\n        if (acceptFrom !== null && acceptFrom !== false && typeof acceptFrom !== 'string') {\n            throw new Error('HTML5Sortable: Wrong argument, \"acceptFrom\" must be \"null\", \"false\", or a valid selector string.');\n        }\n        if (acceptFrom !== null) {\n            return acceptFrom !== false && acceptFrom.split(',').filter(function (sel) {\n                return sel.length > 0 && origin.matches(sel);\n            }).length > 0;\n        }\n        // drop in same list\n        if (destination === origin) {\n            return true;\n        }\n        // check if lists are connected with connectWith\n        if (store(destination).getConfig('connectWith') !== undefined && store(destination).getConfig('connectWith') !== null) {\n            return store(destination).getConfig('connectWith') === store(origin).getConfig('connectWith');\n        }\n    }\n    return false;\n});\n\n/**\n * default configurations\n */\nvar defaultConfiguration = {\n    items: null,\n    // deprecated\n    connectWith: null,\n    // deprecated\n    disableIEFix: null,\n    acceptFrom: null,\n    copy: false,\n    placeholder: null,\n    placeholderClass: 'sortable-placeholder',\n    draggingClass: 'sortable-dragging',\n    hoverClass: false,\n    dropTargetContainerClass: false,\n    debounce: 0,\n    throttleTime: 100,\n    maxItems: 0,\n    itemSerializer: undefined,\n    containerSerializer: undefined,\n    customDragImage: null,\n    orientation: 'vertical'\n};\n\n/**\n * make sure a function is only called once within the given amount of time\n * @param {Function} fn the function to throttle\n * @param {number} threshold time limit for throttling\n */\n// must use function to keep this context\nfunction throttle (fn, threshold) {\n    var _this = this;\n    if (threshold === void 0) { threshold = 250; }\n    // check function\n    if (typeof fn !== 'function') {\n        throw new Error('You must provide a function as the first argument for throttle.');\n    }\n    // check threshold\n    if (typeof threshold !== 'number') {\n        throw new Error('You must provide a number as the second argument for throttle.');\n    }\n    var lastEventTimestamp = null;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var now = Date.now();\n        if (lastEventTimestamp === null || now - lastEventTimestamp >= threshold) {\n            lastEventTimestamp = now;\n            fn.apply(_this, args);\n        }\n    };\n}\n\n/* eslint-env browser */\n/**\n * enable or disable hoverClass on mouseenter/leave if container Items\n * @param {sortable} sortableContainer a valid sortableContainer\n * @param {boolean} enable enable or disable event\n */\n// export default (sortableContainer: sortable, enable: boolean) => {\nvar enableHoverClass = (function (sortableContainer, enable) {\n    if (typeof store(sortableContainer).getConfig('hoverClass') === 'string') {\n        var hoverClasses_1 = store(sortableContainer).getConfig('hoverClass').split(' ');\n        // add class on hover\n        if (enable === true) {\n            addEventListener(sortableContainer, 'mousemove', throttle(function (event) {\n                // check of no mouse button was pressed when mousemove started == no drag\n                if (event.buttons === 0) {\n                    filter(sortableContainer.children, store(sortableContainer).getConfig('items')).forEach(function (item) {\n                        var _a, _b;\n                        if (item !== event.target) {\n                            (_a = item.classList).remove.apply(_a, hoverClasses_1);\n                        }\n                        else {\n                            (_b = item.classList).add.apply(_b, hoverClasses_1);\n                        }\n                    });\n                }\n            }, store(sortableContainer).getConfig('throttleTime')));\n            // remove class on leave\n            addEventListener(sortableContainer, 'mouseleave', function () {\n                filter(sortableContainer.children, store(sortableContainer).getConfig('items')).forEach(function (item) {\n                    var _a;\n                    (_a = item.classList).remove.apply(_a, hoverClasses_1);\n                });\n            });\n            // remove events\n        }\n        else {\n            removeEventListener(sortableContainer, 'mousemove');\n            removeEventListener(sortableContainer, 'mouseleave');\n        }\n    }\n});\n\n/* eslint-env browser */\n/*\n * variables global to the plugin\n */\nvar dragging;\nvar draggingHeight;\nvar draggingWidth;\n/*\n * Keeps track of the initialy selected list, where 'dragstart' event was triggered\n * It allows us to move the data in between individual Sortable List instances\n */\n// Origin List - data from before any item was changed\nvar originContainer;\nvar originIndex;\nvar originElementIndex;\nvar originItemsBeforeUpdate;\n// Previous Sortable Container - we dispatch as sortenter event when a\n// dragged item enters a sortableContainer for the first time\nvar previousContainer;\n// Destination List - data from before any item was changed\nvar destinationItemsBeforeUpdate;\n/**\n * remove event handlers from items\n * @param {Array|NodeList} items\n */\nvar removeItemEvents = function (items) {\n    removeEventListener(items, 'dragstart');\n    removeEventListener(items, 'dragend');\n    removeEventListener(items, 'dragover');\n    removeEventListener(items, 'dragenter');\n    removeEventListener(items, 'drop');\n    removeEventListener(items, 'mouseenter');\n    removeEventListener(items, 'mouseleave');\n};\n// Remove container events\nvar removeContainerEvents = function (originContainer, previousContainer) {\n    if (originContainer) {\n        removeEventListener(originContainer, 'dragleave');\n    }\n    if (previousContainer && (previousContainer !== originContainer)) {\n        removeEventListener(previousContainer, 'dragleave');\n    }\n};\n/**\n * getDragging returns the current element to drag or\n * a copy of the element.\n * Is Copy Active for sortable\n * @param {HTMLElement} draggedItem - the item that the user drags\n * @param {HTMLElement} sortable a single sortable\n */\nvar getDragging = function (draggedItem, sortable) {\n    var ditem = draggedItem;\n    if (store(sortable).getConfig('copy') === true) {\n        ditem = draggedItem.cloneNode(true);\n        addAttribute(ditem, 'aria-copied', 'true');\n        draggedItem.parentElement.appendChild(ditem);\n        ditem.style.display = 'none';\n        ditem.oldDisplay = draggedItem.style.display;\n    }\n    return ditem;\n};\n/**\n * Remove data from sortable\n * @param {HTMLElement} sortable a single sortable\n */\nvar removeSortableData = function (sortable) {\n    removeData(sortable);\n    removeAttribute(sortable, 'aria-dropeffect');\n};\n/**\n * Remove data from items\n * @param {Array<HTMLElement>|HTMLElement} items\n */\nvar removeItemData = function (items) {\n    removeAttribute(items, 'aria-grabbed');\n    removeAttribute(items, 'aria-copied');\n    removeAttribute(items, 'draggable');\n    removeAttribute(items, 'role');\n};\n/**\n * find sortable from element. travels up parent element until found or null.\n * @param {HTMLElement} element a single sortable\n * @param {Event} event - the current event. We need to pass it to be able to\n * find Sortable whith shadowRoot (document fragment has no parent)\n */\nfunction findSortable(element, event) {\n    if (event.composedPath) {\n        return event.composedPath().find(function (el) { return el.isSortable; });\n    }\n    while (element.isSortable !== true) {\n        element = element.parentElement;\n    }\n    return element;\n}\n/**\n * Dragging event is on the sortable element. finds the top child that\n * contains the element.\n * @param {HTMLElement} sortableElement a single sortable\n * @param {HTMLElement} element is that being dragged\n */\nfunction findDragElement(sortableElement, element) {\n    var options = addData(sortableElement, 'opts');\n    var items = filter(sortableElement.children, options.items);\n    var itemlist = items.filter(function (ele) {\n        return ele.contains(element) || (ele.shadowRoot && ele.shadowRoot.contains(element));\n    });\n    return itemlist.length > 0 ? itemlist[0] : element;\n}\n/**\n * Destroy the sortable\n * @param {HTMLElement} sortableElement a single sortable\n */\nvar destroySortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts') || {};\n    var items = filter(sortableElement.children, opts.items);\n    var handles = getHandles(items, opts.handle);\n    // remove event handlers & data from sortable\n    removeEventListener(sortableElement, 'dragover');\n    removeEventListener(sortableElement, 'dragenter');\n    removeEventListener(sortableElement, 'dragstart');\n    removeEventListener(sortableElement, 'dragend');\n    removeEventListener(sortableElement, 'drop');\n    // remove event data from sortable\n    removeSortableData(sortableElement);\n    // remove event handlers & data from items\n    removeEventListener(handles, 'mousedown');\n    removeItemEvents(items);\n    removeItemData(items);\n    removeContainerEvents(originContainer, previousContainer);\n    // clear sortable flag\n    sortableElement.isSortable = false;\n};\n/**\n * Enable the sortable\n * @param {HTMLElement} sortableElement a single sortable\n */\nvar enableSortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts');\n    var items = filter(sortableElement.children, opts.items);\n    var handles = getHandles(items, opts.handle);\n    addAttribute(sortableElement, 'aria-dropeffect', 'move');\n    addData(sortableElement, '_disabled', 'false');\n    addAttribute(handles, 'draggable', 'true');\n    // @todo: remove this fix\n    // IE FIX for ghost\n    // can be disabled as it has the side effect that other events\n    // (e.g. click) will be ignored\n    if (opts.disableIEFix === false) {\n        var spanEl = (document || window.document).createElement('span');\n        if (typeof spanEl.dragDrop === 'function') {\n            addEventListener(handles, 'mousedown', function () {\n                if (items.indexOf(this) !== -1) {\n                    this.dragDrop();\n                }\n                else {\n                    var parent = this.parentElement;\n                    while (items.indexOf(parent) === -1) {\n                        parent = parent.parentElement;\n                    }\n                    parent.dragDrop();\n                }\n            });\n        }\n    }\n};\n/**\n * Disable the sortable\n * @param {HTMLElement} sortableElement a single sortable\n */\nvar disableSortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts');\n    var items = filter(sortableElement.children, opts.items);\n    var handles = getHandles(items, opts.handle);\n    addAttribute(sortableElement, 'aria-dropeffect', 'none');\n    addData(sortableElement, '_disabled', 'true');\n    addAttribute(handles, 'draggable', 'false');\n    removeEventListener(handles, 'mousedown');\n};\n/**\n * Reload the sortable\n * @param {HTMLElement} sortableElement a single sortable\n * @description events need to be removed to not be double bound\n */\nvar reloadSortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts');\n    var items = filter(sortableElement.children, opts.items);\n    var handles = getHandles(items, opts.handle);\n    addData(sortableElement, '_disabled', 'false');\n    // remove event handlers from items\n    removeItemEvents(items);\n    removeContainerEvents(originContainer, previousContainer);\n    removeEventListener(handles, 'mousedown');\n    // remove event handlers from sortable\n    removeEventListener(sortableElement, 'dragover');\n    removeEventListener(sortableElement, 'dragenter');\n    removeEventListener(sortableElement, 'drop');\n};\n/**\n * Public sortable object\n * @param {Array|NodeList} sortableElements\n * @param {object|string} options|method\n */\nfunction sortable(sortableElements, options) {\n    // get method string to see if a method is called\n    var method = String(options);\n    options = options || {};\n    // check if the user provided a selector instead of an element\n    if (typeof sortableElements === 'string') {\n        sortableElements = document.querySelectorAll(sortableElements);\n    }\n    // if the user provided an element, return it in an array to keep the return value consistant\n    if (sortableElements instanceof HTMLElement) {\n        sortableElements = [sortableElements];\n    }\n    sortableElements = Array.prototype.slice.call(sortableElements);\n    if (/serialize/.test(method)) {\n        return sortableElements.map(function (sortableContainer) {\n            var opts = addData(sortableContainer, 'opts');\n            return serialize(sortableContainer, opts.itemSerializer, opts.containerSerializer);\n        });\n    }\n    sortableElements.forEach(function (sortableElement) {\n        if (/enable|disable|destroy/.test(method)) {\n            return sortable[method](sortableElement);\n        }\n        // log deprecation\n        ['connectWith', 'disableIEFix'].forEach(function (configKey) {\n            if (Object.prototype.hasOwnProperty.call(options, configKey) && options[configKey] !== null) {\n                console.warn(\"HTML5Sortable: You are using the deprecated configuration \\\"\" + configKey + \"\\\". This will be removed in an upcoming version, make sure to migrate to the new options when updating.\");\n            }\n        });\n        // merge options with default options\n        options = Object.assign({}, defaultConfiguration, store(sortableElement).config, options);\n        // init data store for sortable\n        store(sortableElement).config = options;\n        // set options on sortable\n        addData(sortableElement, 'opts', options);\n        // property to define as sortable\n        sortableElement.isSortable = true;\n        // reset sortable\n        reloadSortable(sortableElement);\n        // initialize\n        var listItems = filter(sortableElement.children, options.items);\n        // create element if user defined a placeholder element as a string\n        var customPlaceholder;\n        if (options.placeholder !== null && options.placeholder !== undefined) {\n            var tempContainer = document.createElement(sortableElement.tagName);\n            if (options.placeholder instanceof HTMLElement) {\n                tempContainer.appendChild(options.placeholder);\n            }\n            else {\n                tempContainer.innerHTML = options.placeholder;\n            }\n            customPlaceholder = tempContainer.children[0];\n        }\n        // add placeholder\n        store(sortableElement).placeholder = makePlaceholder(sortableElement, customPlaceholder, options.placeholderClass);\n        addData(sortableElement, 'items', options.items);\n        if (options.acceptFrom) {\n            addData(sortableElement, 'acceptFrom', options.acceptFrom);\n        }\n        else if (options.connectWith) {\n            addData(sortableElement, 'connectWith', options.connectWith);\n        }\n        enableSortable(sortableElement);\n        addAttribute(listItems, 'role', 'option');\n        addAttribute(listItems, 'aria-grabbed', 'false');\n        // enable hover class\n        enableHoverClass(sortableElement, true);\n        /*\n         Handle drag events on draggable items\n         Handle is set at the sortableElement level as it will bubble up\n         from the item\n         */\n        addEventListener(sortableElement, 'dragstart', function (e) {\n            // ignore dragstart events\n            var target = getEventTarget(e);\n            if (target.isSortable === true) {\n                return;\n            }\n            e.stopImmediatePropagation();\n            if ((options.handle && !target.matches(options.handle)) || target.getAttribute('draggable') === 'false') {\n                return;\n            }\n            var sortableContainer = findSortable(target, e);\n            var dragItem = findDragElement(sortableContainer, target);\n            // grab values\n            originItemsBeforeUpdate = filter(sortableContainer.children, options.items);\n            originIndex = originItemsBeforeUpdate.indexOf(dragItem);\n            originElementIndex = getIndex(dragItem, sortableContainer.children);\n            originContainer = sortableContainer;\n            // add transparent clone or other ghost to cursor\n            setDragImage(e, dragItem, options.customDragImage);\n            // cache selsection & add attr for dragging\n            draggingHeight = getElementHeight(dragItem);\n            draggingWidth = getElementWidth(dragItem);\n            dragItem.classList.add(options.draggingClass);\n            dragging = getDragging(dragItem, sortableContainer);\n            addAttribute(dragging, 'aria-grabbed', 'true');\n            // dispatch sortstart event on each element in group\n            sortableContainer.dispatchEvent(new CustomEvent('sortstart', {\n                detail: {\n                    origin: {\n                        elementIndex: originElementIndex,\n                        index: originIndex,\n                        container: originContainer\n                    },\n                    item: dragging,\n                    originalTarget: target\n                }\n            }));\n        });\n        /*\n         We are capturing targetSortable before modifications with 'dragenter' event\n        */\n        addEventListener(sortableElement, 'dragenter', function (e) {\n            var target = getEventTarget(e);\n            var sortableContainer = findSortable(target, e);\n            if (sortableContainer && sortableContainer !== previousContainer) {\n                destinationItemsBeforeUpdate = filter(sortableContainer.children, addData(sortableContainer, 'items'))\n                    .filter(function (item) { return item !== store(sortableElement).placeholder; });\n                if (options.dropTargetContainerClass) {\n                    sortableContainer.classList.add(options.dropTargetContainerClass);\n                }\n                sortableContainer.dispatchEvent(new CustomEvent('sortenter', {\n                    detail: {\n                        origin: {\n                            elementIndex: originElementIndex,\n                            index: originIndex,\n                            container: originContainer\n                        },\n                        destination: {\n                            container: sortableContainer,\n                            itemsBeforeUpdate: destinationItemsBeforeUpdate\n                        },\n                        item: dragging,\n                        originalTarget: target\n                    }\n                }));\n                addEventListener(sortableContainer, 'dragleave', function (e) {\n                    // TODO: rename outTarget to be more self-explanatory\n                    // e.fromElement for very old browsers, similar to relatedTarget\n                    var outTarget = e.relatedTarget || e.fromElement;\n                    if (!e.currentTarget.contains(outTarget)) {\n                        if (options.dropTargetContainerClass) {\n                            sortableContainer.classList.remove(options.dropTargetContainerClass);\n                        }\n                        sortableContainer.dispatchEvent(new CustomEvent('sortleave', {\n                            detail: {\n                                origin: {\n                                    elementIndex: originElementIndex,\n                                    index: originIndex,\n                                    container: sortableContainer\n                                },\n                                item: dragging,\n                                originalTarget: target\n                            }\n                        }));\n                    }\n                });\n            }\n            previousContainer = sortableContainer;\n        });\n        /*\n         * Dragend Event - https://developer.mozilla.org/en-US/docs/Web/Events/dragend\n         * Fires each time dragEvent end, or ESC pressed\n         * We are using it to clean up any draggable elements and placeholders\n         */\n        addEventListener(sortableElement, 'dragend', function (e) {\n            if (!dragging) {\n                return;\n            }\n            dragging.classList.remove(options.draggingClass);\n            addAttribute(dragging, 'aria-grabbed', 'false');\n            if (dragging.getAttribute('aria-copied') === 'true' && addData(dragging, 'dropped') !== 'true') {\n                dragging.remove();\n            }\n            dragging.style.display = dragging.oldDisplay;\n            delete dragging.oldDisplay;\n            var visiblePlaceholder = Array.from(stores.values()).map(function (data) { return data.placeholder; })\n                .filter(function (placeholder) { return placeholder instanceof HTMLElement; })\n                .filter(isInDom)[0];\n            if (visiblePlaceholder) {\n                visiblePlaceholder.remove();\n            }\n            // dispatch sortstart event on each element in group\n            sortableElement.dispatchEvent(new CustomEvent('sortstop', {\n                detail: {\n                    origin: {\n                        elementIndex: originElementIndex,\n                        index: originIndex,\n                        container: originContainer\n                    },\n                    item: dragging\n                }\n            }));\n            previousContainer = null;\n            dragging = null;\n            draggingHeight = null;\n            draggingWidth = null;\n        });\n        /*\n         * Drop Event - https://developer.mozilla.org/en-US/docs/Web/Events/drop\n         * Fires when valid drop target area is hit\n         */\n        addEventListener(sortableElement, 'drop', function (e) {\n            if (!listsConnected(sortableElement, dragging.parentElement)) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            addData(dragging, 'dropped', 'true');\n            // get the one placeholder that is currently visible\n            var visiblePlaceholder = Array.from(stores.values()).map(function (data) {\n                return data.placeholder;\n            })\n                // filter only HTMLElements\n                .filter(function (placeholder) { return placeholder instanceof HTMLElement; })\n                // only elements in DOM\n                .filter(isInDom)[0];\n            // attach element after placeholder\n            insertAfter(visiblePlaceholder, dragging);\n            // remove placeholder from dom\n            visiblePlaceholder.remove();\n            /*\n             * Fires Custom Event - 'sortstop'\n             */\n            sortableElement.dispatchEvent(new CustomEvent('sortstop', {\n                detail: {\n                    origin: {\n                        elementIndex: originElementIndex,\n                        index: originIndex,\n                        container: originContainer\n                    },\n                    item: dragging\n                }\n            }));\n            var placeholder = store(sortableElement).placeholder;\n            var originItems = filter(originContainer.children, options.items)\n                .filter(function (item) { return item !== placeholder; });\n            var destinationContainer = this.isSortable === true ? this : this.parentElement;\n            var destinationItems = filter(destinationContainer.children, addData(destinationContainer, 'items'))\n                .filter(function (item) { return item !== placeholder; });\n            var destinationElementIndex = getIndex(dragging, Array.from(dragging.parentElement.children)\n                .filter(function (item) { return item !== placeholder; }));\n            var destinationIndex = getIndex(dragging, destinationItems);\n            if (options.dropTargetContainerClass) {\n                destinationContainer.classList.remove(options.dropTargetContainerClass);\n            }\n            /*\n             * When a list item changed container lists or index within a list\n             * Fires Custom Event - 'sortupdate'\n             */\n            if (originElementIndex !== destinationElementIndex || originContainer !== destinationContainer) {\n                sortableElement.dispatchEvent(new CustomEvent('sortupdate', {\n                    detail: {\n                        origin: {\n                            elementIndex: originElementIndex,\n                            index: originIndex,\n                            container: originContainer,\n                            itemsBeforeUpdate: originItemsBeforeUpdate,\n                            items: originItems\n                        },\n                        destination: {\n                            index: destinationIndex,\n                            elementIndex: destinationElementIndex,\n                            container: destinationContainer,\n                            itemsBeforeUpdate: destinationItemsBeforeUpdate,\n                            items: destinationItems\n                        },\n                        item: dragging\n                    }\n                }));\n            }\n        });\n        var debouncedDragOverEnter = debounce(function (sortableElement, element, pageX, pageY) {\n            if (!dragging) {\n                return;\n            }\n            // set placeholder height if forcePlaceholderSize option is set\n            if (options.forcePlaceholderSize) {\n                store(sortableElement).placeholder.style.height = draggingHeight + 'px';\n                store(sortableElement).placeholder.style.width = draggingWidth + 'px';\n            }\n            // if element the draggedItem is dragged onto is within the array of all elements in list\n            // (not only items, but also disabled, etc.)\n            if (Array.from(sortableElement.children).indexOf(element) > -1) {\n                var thisHeight = getElementHeight(element);\n                var thisWidth = getElementWidth(element);\n                var placeholderIndex = getIndex(store(sortableElement).placeholder, element.parentElement.children);\n                var thisIndex = getIndex(element, element.parentElement.children);\n                // Check if `element` is bigger than the draggable. If it is, we have to define a dead zone to prevent flickering\n                if (thisHeight > draggingHeight || thisWidth > draggingWidth) {\n                    // Dead zone?\n                    var deadZoneVertical = thisHeight - draggingHeight;\n                    var deadZoneHorizontal = thisWidth - draggingWidth;\n                    var offsetTop = offset(element).top;\n                    var offsetLeft = offset(element).left;\n                    if (placeholderIndex < thisIndex &&\n                        ((options.orientation === 'vertical' && pageY < offsetTop) ||\n                            (options.orientation === 'horizontal' && pageX < offsetLeft))) {\n                        return;\n                    }\n                    if (placeholderIndex > thisIndex &&\n                        ((options.orientation === 'vertical' && pageY > offsetTop + thisHeight - deadZoneVertical) ||\n                            (options.orientation === 'horizontal' && pageX > offsetLeft + thisWidth - deadZoneHorizontal))) {\n                        return;\n                    }\n                }\n                if (dragging.oldDisplay === undefined) {\n                    dragging.oldDisplay = dragging.style.display;\n                }\n                if (dragging.style.display !== 'none') {\n                    dragging.style.display = 'none';\n                }\n                // To avoid flicker, determine where to position the placeholder\n                // based on where the mouse pointer is relative to the elements\n                // vertical center.\n                var placeAfter = false;\n                try {\n                    var elementMiddleVertical = offset(element).top + element.offsetHeight / 2;\n                    var elementMiddleHorizontal = offset(element).left + element.offsetWidth / 2;\n                    placeAfter = (options.orientation === 'vertical' && (pageY >= elementMiddleVertical)) ||\n                        (options.orientation === 'horizontal' && (pageX >= elementMiddleHorizontal));\n                }\n                catch (e) {\n                    placeAfter = placeholderIndex < thisIndex;\n                }\n                if (placeAfter) {\n                    insertAfter(element, store(sortableElement).placeholder);\n                }\n                else {\n                    insertBefore(element, store(sortableElement).placeholder);\n                }\n                // get placeholders from all stores & remove all but current one\n                Array.from(stores.values())\n                    // remove empty values\n                    .filter(function (data) { return data.placeholder !== undefined; })\n                    // foreach placeholder in array if outside of current sorableContainer -> remove from DOM\n                    .forEach(function (data) {\n                    if (data.placeholder !== store(sortableElement).placeholder) {\n                        data.placeholder.remove();\n                    }\n                });\n            }\n            else {\n                // get all placeholders from store\n                var placeholders = Array.from(stores.values())\n                    .filter(function (data) { return data.placeholder !== undefined; })\n                    .map(function (data) {\n                    return data.placeholder;\n                });\n                // check if element is not in placeholders\n                if (placeholders.indexOf(element) === -1 && sortableElement === element && !filter(element.children, options.items).length) {\n                    placeholders.forEach(function (element) { return element.remove(); });\n                    element.appendChild(store(sortableElement).placeholder);\n                }\n            }\n        }, options.debounce);\n        // Handle dragover and dragenter events on draggable items\n        var onDragOverEnter = function (e) {\n            var element = e.target;\n            var sortableElement = element.isSortable === true ? element : findSortable(element, e);\n            element = findDragElement(sortableElement, element);\n            if (!dragging || !listsConnected(sortableElement, dragging.parentElement) || addData(sortableElement, '_disabled') === 'true') {\n                return;\n            }\n            var options = addData(sortableElement, 'opts');\n            if (parseInt(options.maxItems) && filter(sortableElement.children, addData(sortableElement, 'items')).length >= parseInt(options.maxItems) && dragging.parentElement !== sortableElement) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            e.dataTransfer.dropEffect = store(sortableElement).getConfig('copy') === true ? 'copy' : 'move';\n            debouncedDragOverEnter(sortableElement, element, e.pageX, e.pageY);\n        };\n        addEventListener(listItems.concat(sortableElement), 'dragover', onDragOverEnter);\n        addEventListener(listItems.concat(sortableElement), 'dragenter', onDragOverEnter);\n    });\n    return sortableElements;\n}\nsortable.destroy = function (sortableElement) {\n    destroySortable(sortableElement);\n};\nsortable.enable = function (sortableElement) {\n    enableSortable(sortableElement);\n};\nsortable.disable = function (sortableElement) {\n    disableSortable(sortableElement);\n};\n/* START.TESTS_ONLY */\nsortable.__testing = {\n    // add internal methods here for testing purposes\n    data: addData,\n    removeItemEvents: removeItemEvents,\n    removeItemData: removeItemData,\n    removeSortableData: removeSortableData,\n    removeContainerEvents: removeContainerEvents\n};\n\nexport default sortable;\n","import sortable from \"html5sortable/dist/html5sortable.es\";\nclass SortListComponent {\n  /**\n   * Creates a sortable list using hmtl5sortable function.\n   *\n   * @param {String} sortListSelector The list selector that has to be sortable.\n   * @param {Object} options An object containing the same options as html5sortable. It also includes\n   *                an extra option `onSortUpdate`, a callback which returns the children collection\n   *                whenever the list order has been changed.\n   *\n   * @returns {void} Nothing.\n   */\n  constructor(sortListSelector, options) {\n    if ($(sortListSelector).length > 0) {\n      sortable(sortListSelector, options)[0].addEventListener(\"sortupdate\", (event) => {\n        const $children = $(event.target).children();\n        if (options.onSortUpdate) {\n          options.onSortUpdate($children);\n        }\n      });\n    }\n  }\n}\nexport default function createSortList(sortListSelector, options) {\n  return new SortListComponent(sortListSelector, options);\n}\n","class DynamicFieldsComponent {\n  constructor(options = {}) {\n    this.wrapperSelector = options.wrapperSelector;\n    this.containerSelector = options.containerSelector;\n    this.fieldSelector = options.fieldSelector;\n    this.addFieldButtonSelector = options.addFieldButtonSelector;\n    this.addSeparatorButtonSelector = options.addSeparatorButtonSelector;\n    this.addTitleAndDescriptionButtonSelector = options.addTitleAndDescriptionButtonSelector;\n    this.fieldTemplateSelector = options.fieldTemplateSelector;\n    this.separatorTemplateSelector = options.separatorTemplateSelector;\n    this.TitleAndDescriptionTemplateSelector = options.TitleAndDescriptionTemplateSelector;\n    this.removeFieldButtonSelector = options.removeFieldButtonSelector;\n    this.moveUpFieldButtonSelector = options.moveUpFieldButtonSelector;\n    this.moveDownFieldButtonSelector = options.moveDownFieldButtonSelector;\n    this.onAddField = options.onAddField;\n    this.onRemoveField = options.onRemoveField;\n    this.onMoveUpField = options.onMoveUpField;\n    this.onMoveDownField = options.onMoveDownField;\n    this.placeholderId = options.placeholderId;\n    this.elementCounter = 0;\n    this._enableInterpolation();\n    this._activateFields();\n    this._bindEvents();\n  }\n  _enableInterpolation() {\n    $.fn.replaceAttribute = function(attribute, placeholder, value) {\n      $(this).find(`[${attribute}*=${placeholder}]`).addBack(`[${attribute}*=${placeholder}]`).each((index, element) => {\n        $(element).attr(attribute, $(element).attr(attribute).replace(placeholder, value));\n      });\n      return this;\n    };\n    $.fn.template = function(placeholder, value) {\n      const $subtemplate = $(this).find(\"template, .decidim-template\");\n      if ($subtemplate.length > 0) {\n        $subtemplate.html((index, oldHtml) => $(oldHtml).template(placeholder, value)[0].outerHTML);\n      }\n      const $subtemplateParents = $(this).find(\"[data-template]\");\n      if ($subtemplateParents.length > 0) {\n        $subtemplateParents.each((_i, elem) => {\n          const $self = $(elem);\n          const $tpl = $($self.data(\"template\"));\n          const $subtpl = $($tpl[0].outerHTML);\n          const subtemplateId = `${$tpl.attr(\"id\")}-${value}`;\n          const subtemplateSelector = `#${subtemplateId}`;\n          $subtpl.attr(\"id\", subtemplateId);\n          $self.attr(\"data-template\", subtemplateSelector).data(\"template\", subtemplateSelector);\n          $tpl.after($subtpl);\n          $subtpl.html((index, oldHtml) => $(oldHtml).template(placeholder, value)[0].outerHTML);\n        });\n      }\n      $(this).replaceAttribute(\"id\", placeholder, value);\n      $(this).replaceAttribute(\"name\", placeholder, value);\n      $(this).replaceAttribute(\"data-tabs-content\", placeholder, value);\n      $(this).replaceAttribute(\"for\", placeholder, value);\n      $(this).replaceAttribute(\"tabs_id\", placeholder, value);\n      $(this).replaceAttribute(\"href\", placeholder, value);\n      $(this).replaceAttribute(\"value\", placeholder, value);\n      return this;\n    };\n  }\n  _bindEvents() {\n    $(this.wrapperSelector).on(\n      \"click\",\n      this.addFieldButtonSelector,\n      (event) => this._bindSafeEvent(event, () => this._addField(this.fieldTemplateSelector))\n    );\n    if (this.addSeparatorButtonSelector) {\n      $(this.wrapperSelector).on(\n        \"click\",\n        this.addSeparatorButtonSelector,\n        (event) => this._bindSafeEvent(event, () => this._addField(this.separatorTemplateSelector))\n      );\n    }\n    if (this.addTitleAndDescriptionButtonSelector) {\n      $(this.wrapperSelector).on(\n        \"click\",\n        this.addTitleAndDescriptionButtonSelector,\n        (event) => this._bindSafeEvent(event, () => this._addField(this.TitleAndDescriptionTemplateSelector))\n      );\n    }\n    $(this.wrapperSelector).on(\n      \"click\",\n      this.removeFieldButtonSelector,\n      (event) => this._bindSafeEvent(event, (target) => this._removeField(target))\n    );\n    if (this.moveUpFieldButtonSelector) {\n      $(this.wrapperSelector).on(\n        \"click\",\n        this.moveUpFieldButtonSelector,\n        (event) => this._bindSafeEvent(event, (target) => this._moveUpField(target))\n      );\n    }\n    if (this.moveDownFieldButtonSelector) {\n      $(this.wrapperSelector).on(\n        \"click\",\n        this.moveDownFieldButtonSelector,\n        (event) => this._bindSafeEvent(event, (target) => this._moveDownField(target))\n      );\n    }\n  }\n  _bindSafeEvent(event, cb) {\n    event.preventDefault();\n    event.stopPropagation();\n    try {\n      return cb(event.target);\n    } catch (error) {\n      console.error(error);\n      return error;\n    }\n  }\n  // Adds a field.\n  //\n  // template - A String matching the type of the template. Expected to be\n  //  either \".decidim-question-template\" or \".decidim-separator-template\".\n  _addField(templateClass = \".decidim-template\") {\n    const $wrapper = $(this.wrapperSelector);\n    const $container = $wrapper.find(this.containerSelector);\n    const templateSelector = $wrapper.data(\"template\");\n    let $template = null;\n    if (templateSelector) {\n      $template = $(templateSelector);\n    }\n    if ($template === null || $template.length < 1) {\n      $template = $wrapper.children(`template, ${templateClass}`);\n    }\n    const $newField = $($template.html()).template(this.placeholderId, this._getUID());\n    $newField.find(\"ul.tabs\").attr(\"data-tabs\", true);\n    const $lastQuestion = $container.find(this.fieldSelector).last();\n    if ($lastQuestion.length > 0) {\n      $lastQuestion.after($newField);\n    } else {\n      $newField.appendTo($container);\n    }\n    window.initFoundation($newField);\n    if (this.onAddField) {\n      this.onAddField($newField);\n    }\n  }\n  _removeField(target) {\n    const $target = $(target);\n    const $removedField = $target.parents(this.fieldSelector);\n    const idInput = $removedField.find(\"input\").filter((idx, input) => input.name.match(/id/));\n    if (idInput.length > 0) {\n      const deletedInput = $removedField.find(\"input\").filter((idx, input) => input.name.match(/delete/));\n      if (deletedInput.length > 0) {\n        $(deletedInput[0]).val(true);\n      }\n      $removedField.addClass(\"hidden\");\n      $removedField.hide();\n    } else {\n      $removedField.remove();\n    }\n    if (this.onRemoveField) {\n      this.onRemoveField($removedField);\n    }\n  }\n  _moveUpField(target) {\n    const $target = $(target);\n    const $movedUpField = $target.parents(this.fieldSelector);\n    $movedUpField.prev().before($movedUpField);\n    if (this.onMoveUpField) {\n      this.onMoveUpField($movedUpField);\n    }\n  }\n  _moveDownField(target) {\n    const $target = $(target);\n    const $movedDownField = $target.parents(this.fieldSelector);\n    $movedDownField.next().after($movedDownField);\n    if (this.onMoveDownField) {\n      this.onMoveDownField($movedDownField);\n    }\n  }\n  _activateFields() {\n    const $wrapper = $(this.wrapperSelector);\n    const $container = $wrapper.find(this.containerSelector);\n    $container.append($container.find(\"script\"));\n    $(this.fieldSelector).each((idx, el) => {\n      $(el).template(this.placeholderId, this._getUID());\n      $(el).find(\"ul.tabs\").attr(\"data-tabs\", true);\n    });\n  }\n  _getUID() {\n    this.elementCounter += 1;\n    return (/* @__PURE__ */ new Date()).getTime() + this.elementCounter;\n  }\n}\nexport default function createDynamicFields(options) {\n  return new DynamicFieldsComponent(options);\n}\n","import AutoButtonsByPositionComponent from \"src/decidim/admin/auto_buttons_by_position.component\";\nimport AutoLabelByPositionComponent from \"src/decidim/admin/auto_label_by_position.component\";\nimport createSortList from \"src/decidim/admin/sort_list.component\";\nimport createDynamicFields from \"src/decidim/admin/dynamic_fields.component\";\nconst wrapperSelector = \".meeting-agenda-items\";\nconst fieldSelector = \".meeting-agenda-item\";\nconst childsWrapperSelector = \".meeting-agenda-item-childs\";\nconst childFieldSelector = \".meeting-agenda-item-child\";\nconst autoLabelByPosition = new AutoLabelByPositionComponent({\n  listSelector: \".meeting-agenda-item:not(.hidden)\",\n  labelSelector: \".card-title span:first\",\n  onPositionComputed: (el, idx) => {\n    $(el).find(\"input[name$=\\\\[position\\\\]]\").val(idx);\n  }\n});\nconst autoButtonsByPosition = new AutoButtonsByPositionComponent({\n  listSelector: \".meeting-agenda-item:not(.hidden)\",\n  hideOnFirstSelector: \".move-up-agenda-item\",\n  hideOnLastSelector: \".move-down-agenda-item\"\n});\nconst createSortableList = () => {\n  createSortList(\".meeting-agenda-items-list:not(.published)\", {\n    handle: \".agenda-item-divider\",\n    placeholder: '<div style=\"border-style: dashed; border-color: #000\"></div>',\n    forcePlaceholderSize: true,\n    onSortUpdate: () => {\n      autoLabelByPosition.run();\n    }\n  });\n};\nconst createSortableListChild = () => {\n  createSortList(\".meeting-agenda-item-childs-list:not(.published)\", {\n    handle: \".agenda-item-child-divider\",\n    placeholder: '<div style=\"border-style: dashed; border-color: #000\"></div>',\n    forcePlaceholderSize: true,\n    onSortUpdate: () => {\n      autoLabelByPosition.run();\n    }\n  });\n};\nconst autoLabelByPositionChild = new AutoLabelByPositionComponent({\n  listSelector: \".meeting-agenda-item-child:not(.hidden)\",\n  labelSelector: \".card-title span:first\",\n  onPositionComputed: (el, idx) => {\n    $(el).find(\"input[name$=\\\\[position\\\\]]\").val(idx);\n  }\n});\nconst autoButtonsByPositionChild = new AutoButtonsByPositionComponent({\n  listSelector: \".meeting-agenda-item-child:not(.hidden)\",\n  hideOnFirstSelector: \".move-up-agenda-item-child\",\n  hideOnLastSelector: \".move-down-agenda-item-child\"\n});\nconst createDynamicFieldsForAgendaItemChilds = (fieldId) => {\n  return createDynamicFields({\n    placeholderId: \"meeting-agenda-item-child-id\",\n    wrapperSelector: `#${fieldId} ${childsWrapperSelector}`,\n    containerSelector: \".meeting-agenda-item-childs-list\",\n    fieldSelector: childFieldSelector,\n    addFieldButtonSelector: \".add-agenda-item-child\",\n    removeFieldButtonSelector: \".remove-agenda-item-child\",\n    moveUpFieldButtonSelector: \".move-up-agenda-item-child\",\n    moveDownFieldButtonSelector: \".move-down-agenda-item-child\",\n    onAddField: ($field) => {\n      createSortableListChild();\n      $field[0].querySelectorAll(\".editor-container\").forEach((el) => {\n        window.createEditor(el);\n      });\n      autoLabelByPositionChild.run();\n      autoButtonsByPositionChild.run();\n    },\n    onRemoveField: () => {\n      autoLabelByPositionChild.run();\n      autoButtonsByPositionChild.run();\n    },\n    onMoveUpField: () => {\n      autoLabelByPositionChild.run();\n      autoButtonsByPositionChild.run();\n    },\n    onMoveDownField: () => {\n      autoLabelByPositionChild.run();\n      autoButtonsByPositionChild.run();\n    }\n  });\n};\nconst dynamicFieldsForAgendaItemChilds = {};\nconst setupInitialAgendaItemChildAttributes = ($target) => {\n  const fieldId = $target.attr(\"id\");\n  dynamicFieldsForAgendaItemChilds[fieldId] = createDynamicFieldsForAgendaItemChilds(fieldId);\n};\nconst hideDeletedAgendaItem = ($target) => {\n  const inputDeleted = $target.find(\"input[name$=\\\\[deleted\\\\]]\").val();\n  if (inputDeleted === \"true\") {\n    $target.addClass(\"hidden\");\n    $target.hide();\n  }\n};\ncreateDynamicFields({\n  placeholderId: \"meeting-agenda-item-id\",\n  wrapperSelector,\n  containerSelector: \".meeting-agenda-items-list\",\n  fieldSelector,\n  addFieldButtonSelector: \".add-agenda-item\",\n  removeFieldButtonSelector: \".remove-agenda-item\",\n  moveUpFieldButtonSelector: \".move-up-agenda-item\",\n  moveDownFieldButtonSelector: \".move-down-agenda-item\",\n  onAddField: ($field) => {\n    setupInitialAgendaItemChildAttributes($field);\n    createSortableList();\n    $field.find(\".editor-container\").each((idx, el) => {\n      window.createEditor(el);\n    });\n    autoLabelByPosition.run();\n    autoButtonsByPosition.run();\n  },\n  onRemoveField: () => {\n    autoLabelByPosition.run();\n    autoButtonsByPosition.run();\n  },\n  onMoveUpField: () => {\n    autoLabelByPosition.run();\n    autoButtonsByPosition.run();\n  },\n  onMoveDownField: () => {\n    autoLabelByPosition.run();\n    autoButtonsByPosition.run();\n  }\n});\ncreateSortableList();\n$(fieldSelector).each((idx, el) => {\n  const $target = $(el);\n  hideDeletedAgendaItem($target);\n  setupInitialAgendaItemChildAttributes($target);\n});\nautoLabelByPosition.run();\nautoButtonsByPosition.run();\nautoLabelByPositionChild.run();\nautoButtonsByPositionChild.run();\n","class FieldDependentInputsComponent {\n  constructor(options = {}) {\n    this.controllerField = options.controllerField;\n    this.wrapperSelector = options.wrapperSelector;\n    this.dependentFieldsSelector = options.dependentFieldsSelector;\n    this.dependentInputSelector = options.dependentInputSelector;\n    this.enablingCondition = options.enablingCondition;\n    this._bindEvent();\n    this._run();\n  }\n  _run() {\n    const $controllerField = this.controllerField;\n    const $dependentFields = $controllerField.parents(this.wrapperSelector).find(this.dependentFieldsSelector);\n    const $dependentInputs = $dependentFields.find(this.dependentInputSelector);\n    if (this.enablingCondition($controllerField)) {\n      $dependentInputs.prop(\"disabled\", false);\n      $dependentFields.show();\n    } else {\n      $dependentInputs.prop(\"disabled\", true);\n      $dependentFields.hide();\n    }\n  }\n  _bindEvent() {\n    this.controllerField.on(\"change\", () => {\n      this._run();\n    });\n  }\n}\nexport default function createFieldDependentInputs(options) {\n  return new FieldDependentInputsComponent(options);\n}\n","export default function getCoordinateInputName(coordinate, $input, options) {\n  const key = `${coordinate}Name`;\n  if (options[key]) {\n    return options[key];\n  }\n  const inputName = $input.attr(\"name\");\n  const subNameMatch = /\\[[^\\]]+\\]$/;\n  if (inputName.match(subNameMatch)) {\n    return inputName.replace(subNameMatch, `[${coordinate}]`);\n  }\n  return coordinate;\n}\n","import getCoordinateInputName from \"src/decidim/geocoding/coordinate_input\";\nexport default function attachGeocoding($input, options, callback) {\n  const attachOptions = $.extend({}, options);\n  const inputIdParts = $input.attr(\"id\").split(\"_\");\n  inputIdParts.pop();\n  const idPrefix = `${inputIdParts.join(\"_\")}`;\n  let latitudeName = \"latitude\";\n  let longitudeName = \"longitude\";\n  if ($input.length > 0) {\n    latitudeName = getCoordinateInputName(\"latitude\", $input, attachOptions);\n    longitudeName = getCoordinateInputName(\"longitude\", $input, attachOptions);\n  }\n  const config = $.extend({\n    latitudeId: `${idPrefix}_latitude`,\n    longitudeId: `${idPrefix}_longitude`,\n    latitudeName,\n    longitudeName\n  }, options);\n  let geocoded = false;\n  const createCoordinateFields = () => {\n    let $latitude = $(`#${config.latitudeId}`);\n    if ($latitude.length < 1) {\n      $latitude = $(`<input type=\"hidden\" name=\"${config.latitudeName}\" id=\"${config.latitudeId}\" />`);\n      $input.after($latitude);\n    }\n    let $longitude = $(`#${config.longitudeId}`);\n    if ($longitude.length < 1) {\n      $longitude = $(`<input type=\"hidden\" name=\"${config.longitudeName}\" id=\"${config.longitudeId}\" />`);\n      $input.after($longitude);\n    }\n  };\n  const clearCoordinateFields = () => {\n    if (geocoded) {\n      return;\n    }\n    $(`#${config.latitudeId}`).val(\"\").removeAttr(\"value\");\n    $(`#${config.longitudeId}`).val(\"\").removeAttr(\"value\");\n  };\n  const setCoordinates = (coordinates2) => {\n    createCoordinateFields();\n    $(`#${config.latitudeId}`).val(coordinates2[0]).attr(\"value\", coordinates2[0]);\n    $(`#${config.longitudeId}`).val(coordinates2[1]).attr(\"value\", coordinates2[1]);\n  };\n  $input.on(\"change.decidim\", () => {\n    clearCoordinateFields();\n  });\n  $input.on(\"geocoder-suggest-coordinates.decidim\", (_ev, coordinates2) => {\n    setCoordinates(coordinates2);\n    geocoded = true;\n    if (typeof callback === \"function\") {\n      callback(coordinates2);\n      return;\n    }\n  });\n  const coordinates = `${$input.data(\"coordinates\")}`.split(\",\").map(parseFloat);\n  if (Array.isArray(coordinates) && coordinates.length === 2) {\n    setCoordinates(coordinates);\n  }\n}\n","import AutoButtonsByPositionComponent from \"src/decidim/admin/auto_buttons_by_position.component\";\nimport AutoLabelByPositionComponent from \"src/decidim/admin/auto_label_by_position.component\";\nimport createSortList from \"src/decidim/admin/sort_list.component\";\nimport createDynamicFields from \"src/decidim/admin/dynamic_fields.component\";\nimport createFieldDependentInputs from \"src/decidim/admin/field_dependent_inputs.component\";\nimport attachGeocoding from \"src/decidim/geocoding/attach_input\";\n$(() => {\n  const wrapperSelector = \".meeting-services\";\n  const fieldSelector = \".meeting-service\";\n  const autoLabelByPosition = new AutoLabelByPositionComponent({\n    listSelector: \".meeting-service:not(.hidden)\",\n    labelSelector: \".card-title span:first\",\n    onPositionComputed: (el, idx) => {\n      $(el).find(\"input[name$=\\\\[position\\\\]]\").val(idx);\n    }\n  });\n  const autoButtonsByPosition = new AutoButtonsByPositionComponent({\n    listSelector: \".meeting-service:not(.hidden)\",\n    hideOnFirstSelector: \".move-up-service\",\n    hideOnLastSelector: \".move-down-service\"\n  });\n  const createSortableList = () => {\n    createSortList(\".meeting-services-list:not(.published)\", {\n      handle: \".service-divider\",\n      placeholder: '<div style=\"border-style: dashed; border-color: #000\"></div>',\n      forcePlaceholderSize: true,\n      onSortUpdate: () => {\n        autoLabelByPosition.run();\n      }\n    });\n  };\n  const hideDeletedService = ($target) => {\n    const inputDeleted = $target.find(\"input[name$=\\\\[deleted\\\\]]\").val();\n    if (inputDeleted === \"true\") {\n      $target.addClass(\"hidden\");\n      $target.hide();\n    }\n  };\n  createDynamicFields({\n    placeholderId: \"meeting-service-id\",\n    wrapperSelector,\n    containerSelector: \".meeting-services-list\",\n    fieldSelector,\n    addFieldButtonSelector: \".add-service\",\n    removeFieldButtonSelector: \".remove-service\",\n    moveUpFieldButtonSelector: \".move-up-service\",\n    moveDownFieldButtonSelector: \".move-down-service\",\n    onAddField: () => {\n      createSortableList();\n      autoLabelByPosition.run();\n      autoButtonsByPosition.run();\n    },\n    onRemoveField: () => {\n      autoLabelByPosition.run();\n      autoButtonsByPosition.run();\n    },\n    onMoveUpField: () => {\n      autoLabelByPosition.run();\n      autoButtonsByPosition.run();\n    },\n    onMoveDownField: () => {\n      autoLabelByPosition.run();\n      autoButtonsByPosition.run();\n    }\n  });\n  createSortableList();\n  $(fieldSelector).each((idx, el) => {\n    const $target = $(el);\n    hideDeletedService($target);\n  });\n  autoLabelByPosition.run();\n  autoButtonsByPosition.run();\n  const $form = $(\".edit_meeting, .new_meeting, .copy_meetings\");\n  if ($form.length > 0) {\n    const $privateMeeting = $form.find(\"#private_meeting\");\n    const $transparent = $form.find(\"#transparent\");\n    const $warning = $form.find(\".js-private-warning\");\n    const $assign = $form.find(\".js-add-component\");\n    const toggleDisabledHiddenFields = () => {\n      const enabledPrivateSpace = $privateMeeting.find(\"input[type='checkbox']\").prop(\"checked\");\n      const enabledTransparent = $transparent.find(\"input[type='checkbox']\").prop(\"checked\");\n      $transparent.find(\"input[type='checkbox']\").attr(\"disabled\", \"disabled\");\n      $warning == null ? void 0 : $warning.toggleClass(\"hidden\", !enabledPrivateSpace || enabledTransparent);\n      $assign == null ? void 0 : $assign.attr(\"disabled\", enabledPrivateSpace && !enabledTransparent);\n      if (enabledPrivateSpace) {\n        $transparent.find(\"input[type='checkbox']\").attr(\"disabled\", !enabledPrivateSpace);\n      }\n    };\n    $privateMeeting.on(\"change\", toggleDisabledHiddenFields);\n    $transparent.on(\"change\", toggleDisabledHiddenFields);\n    toggleDisabledHiddenFields();\n    attachGeocoding($form.find(\"#meeting_address\"));\n    const $meetingRegistrationType = $form.find(\"#meeting_registration_type\");\n    const $meetingRegistrationUrl = $form.find(\"#meeting_registration_url\");\n    const toggleDependsOnSelect = ($target, $showDiv, type) => {\n      const value = $target.val();\n      $showDiv.toggle(value === type);\n    };\n    $meetingRegistrationType.on(\"change\", (ev) => {\n      const $target = $(ev.target);\n      toggleDependsOnSelect($target, $meetingRegistrationUrl, \"on_different_platform\");\n    });\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationUrl, \"on_different_platform\");\n    const $meetingTypeOfMeeting = $form.find(\"#meeting_type_of_meeting\");\n    const $meetingOnlineFields = $form.find(\"[data-meeting-type='online']\");\n    const $meetingInPersonFields = $form.find(\"[data-meeting-type='in_person']\");\n    const $meetingOnlineAccessLevelFields = $form.find(\"[data-meeting-type='online-access-level']\");\n    const $meetingIframeEmbedType = $form.find(\"#meeting_iframe_embed_type\");\n    const toggleTypeDependsOnSelect = ($target, $showDiv, type) => {\n      const value = $target.val();\n      if (value === \"hybrid\") {\n        $showDiv.show();\n      } else {\n        $showDiv.hide();\n        if (value === type) {\n          $showDiv.show();\n        }\n      }\n    };\n    $meetingTypeOfMeeting.on(\"change\", (ev) => {\n      const $target = $(ev.target);\n      const embedTypeValue = $(\"#meeting_iframe_embed_type select\").val();\n      toggleTypeDependsOnSelect($target, $meetingOnlineFields, \"online\");\n      toggleTypeDependsOnSelect($target, $meetingInPersonFields, \"in_person\");\n      if (embedTypeValue === \"none\") {\n        $meetingOnlineAccessLevelFields.hide();\n      } else {\n        toggleTypeDependsOnSelect($target, $meetingOnlineAccessLevelFields, \"online\");\n      }\n    });\n    toggleTypeDependsOnSelect($meetingTypeOfMeeting, $meetingOnlineFields, \"online\");\n    toggleTypeDependsOnSelect($meetingTypeOfMeeting, $meetingInPersonFields, \"in_person\");\n    createFieldDependentInputs({\n      controllerField: $meetingIframeEmbedType,\n      wrapperSelector: \".iframe-fields\",\n      dependentFieldsSelector: \".iframe-fields--access-level\",\n      dependentInputSelector: \"input\",\n      enablingCondition: ($field) => {\n        return $field.find(\"select\").val() !== \"none\";\n      }\n    });\n  }\n});\n","const getAbsolutePosition = (node, relativeParent) => {\n  const { top, left, width, height } = node.getBoundingClientRect();\n  let [pageX, pageY] = [window.pageXOffset, window.pageYOffset];\n  if (relativeParent) {\n    const { topLeft: [parentX, parentY] } = getAbsolutePosition(relativeParent);\n    [pageX, pageY] = [pageX - parentX, pageY - parentY];\n  }\n  return {\n    topLeft: [pageX + left, pageY + top],\n    topCenter: [pageX + left + width / 2, pageY + top],\n    topRight: [pageX + left + width, pageY + top],\n    middleLeft: [pageX + left, pageY + top + height / 2],\n    middleCenter: [pageX + left + width / 2, pageY + top + height / 2],\n    middleRight: [pageX + left + width, pageY + top + height / 2],\n    bottomLeft: [pageX + left, pageY + top + height],\n    bottomCenter: [pageX + left + width / 2, pageY + top + height],\n    bottomRight: [pageX + left + width, pageY + top + height]\n  };\n};\nexport default function(node) {\n  const { tooltip: tooltipHtml } = node.dataset;\n  const div = document.createElement(\"div\");\n  div.innerHTML = tooltipHtml;\n  const tooltip = div.firstElementChild;\n  if (!(tooltip instanceof HTMLElement)) {\n    return;\n  }\n  node.removeAttribute(\"title\");\n  tooltip.id = tooltip.id || `tooltip-${Math.random().toString(36).substring(7)}`;\n  tooltip.setAttribute(\"aria-hidden\", true);\n  const useMobile = /Mobi|Android/i.test(navigator.userAgent);\n  let removeTooltip = () => {\n    tooltip.setAttribute(\"aria-hidden\", \"true\");\n  };\n  const OutsideClick = (event) => {\n    if (!tooltip.contains(event.target) && event.target !== node) {\n      removeTooltip();\n    }\n  };\n  removeTooltip = () => {\n    tooltip.setAttribute(\"aria-hidden\", \"true\");\n    document.removeEventListener(\"click\", OutsideClick);\n  };\n  const toggleTooltip = (event) => {\n    event.preventDefault();\n    if (tooltip.getAttribute(\"aria-hidden\") === \"false\") {\n      tooltip.setAttribute(\"aria-hidden\", \"true\");\n      return;\n    }\n    Array.from(document.body.children).map((child) => child.id.startsWith(\"tooltip\") && child.remove());\n    document.body.appendChild(tooltip);\n    node.setAttribute(\"aria-describedby\", tooltip.id);\n    const { topCenter, bottomCenter, middleRight, middleLeft } = getAbsolutePosition(node);\n    let positionX = null;\n    let positionY = null;\n    if (tooltip.classList.contains(\"bottom\")) {\n      [positionX, positionY] = bottomCenter;\n    } else if (tooltip.classList.contains(\"left\")) {\n      [positionX, positionY] = middleLeft;\n    } else if (tooltip.classList.contains(\"right\")) {\n      [positionX, positionY] = middleRight;\n    } else if (tooltip.classList.contains(\"top\")) {\n      [positionX, positionY] = topCenter;\n    }\n    if ((tooltip.classList.contains(\"top\") || tooltip.classList.contains(\"bottom\")) && positionX < Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0) * 0.5) {\n      tooltip.style.setProperty(\"--arrow-offset\", \"80%\");\n    } else {\n      tooltip.style.removeProperty(\"--arrow-offset\");\n    }\n    tooltip.style.top = `${positionY}px`;\n    tooltip.style.left = `${positionX}px`;\n    tooltip.setAttribute(\"aria-hidden\", false);\n    setTimeout(() => document.addEventListener(\"click\", OutsideClick));\n  };\n  if (useMobile) {\n    node.addEventListener(\"click\", toggleTooltip);\n    window.addEventListener(\"keydown\", (event) => event.key === \"Escape\" && removeTooltip());\n  } else {\n    node.addEventListener(\"mouseenter\", toggleTooltip);\n    node.addEventListener(\"mouseleave\", removeTooltip);\n    node.addEventListener(\"focus\", toggleTooltip);\n    node.addEventListener(\"blur\", removeTooltip);\n    tooltip.addEventListener(\"mouseenter\", () => tooltip.setAttribute(\"aria-hidden\", false));\n    tooltip.addEventListener(\"mouseleave\", removeTooltip);\n  }\n}\n","import TomSelect from \"tom-select/dist/cjs/tom-select.popular\";\nimport createTooltip from \"src/decidim/tooltips\";\nconst handleRemoveButton = (button) => {\n  button.addEventListener(\"click\", function() {\n    button.closest(\"tr\").remove();\n  });\n};\nconst handleAddButton = () => {\n  const select = document.querySelector(\"select[name='add_component_select']\");\n  const componentId = select.value;\n  const componentTitle = select.options[select.selectedIndex].text;\n  if (!componentId) {\n    return;\n  }\n  const table = document.querySelector(\".js-components\");\n  const body = document.querySelector(\".js-components tbody\");\n  const template = document.querySelector(\"#meeting_component_template\");\n  const clone = template.content.cloneNode(true);\n  const title = clone.querySelector(\".js-component-title\");\n  const id = clone.querySelector(\"input\");\n  const button = clone.querySelector(\".js-remove-component\");\n  title.textContent = componentTitle;\n  id.value = componentId;\n  if (button) {\n    handleRemoveButton(button);\n  }\n  body.appendChild(clone);\n  const tooltips = body.querySelectorAll(\"[data-tooltip]\");\n  if (tooltips.length) {\n    createTooltip(tooltips[tooltips.length - 1]);\n  }\n  select.value = \"\";\n  table.classList.remove(\"hidden\");\n};\nconst setupTomSelect = () => {\n  const componentsSelect = document.querySelector(\n    \"#add_component_select\"\n  );\n  const config = {\n    plugins: [\"dropdown_input\"]\n  };\n  if (componentsSelect) {\n    return new TomSelect(componentsSelect, config);\n  }\n  return null;\n};\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  document.querySelectorAll(\".js-remove-component\").forEach(handleRemoveButton);\n  const addButton = document.querySelector(\".js-add-component\");\n  if (addButton) {\n    addButton.addEventListener(\"click\", handleAddButton);\n  }\n  setupTomSelect();\n});\n","import createFieldDependentInputs from \"src/decidim/admin/field_dependent_inputs.component\";\n$(() => {\n  const $attendeeType = $('[name=\"meeting_registration_invite[existing_user]\"');\n  createFieldDependentInputs({\n    controllerField: $attendeeType,\n    wrapperSelector: \".attendee-fields\",\n    dependentFieldsSelector: \".attendee-fields--new-user\",\n    dependentInputSelector: \"input\",\n    enablingCondition: () => {\n      return $(\"#meeting_registration_invite_existing_user_false\").is(\":checked\");\n    }\n  });\n  createFieldDependentInputs({\n    controllerField: $attendeeType,\n    wrapperSelector: \".attendee-fields\",\n    dependentFieldsSelector: \".attendee-fields--user-picker\",\n    dependentInputSelector: \"input\",\n    enablingCondition: () => {\n      return $(\"#meeting_registration_invite_existing_user_true\").is(\":checked\");\n    }\n  });\n});\n"],"names":["removeNewlineAdjacentSpaces","text","$confirmButton","alertText","$form","$registrationsEnabled","$availableSlots","$reservedSlots","$customizeRegistrationEmail","event","toggleDisabledFields","enabled","node","forEvents","events","callback","MicroEvent","fct","event_array","n","args","self","MicroPlugin","Interface","name","fn","plugins","key","queue","plugin","arrayToPattern","chars","maxValueLength","sequencePattern","array","hasDuplicates","pattern","prev_char_count","prev_pattern","char","i","setToPattern","toArray","escape_regex","str","longest","value","unicodeLength","p","allSubstrings","input","result","start","subresult","tmp","code_points","accent_pat","unicode_map","multi_char_reg","max_char_length","latin_convert","latin_condensed","latin","unicode","convert_pat","initialize","_code_points","generateMap","normalize","form","asciifold","_asciifold","generator","code_point_min","code_point_max","composed","folded","generateSets","unicode_sets","addMatching","to_add","folded_set","patt","multi_char","set","a","b","multi_char_patt","mapSequence","strings","min_replacement","chars_replaced","substringsToPattern","sub_pat","sequencesToPattern","sequences","all","sequence","seq","len","j","inSequences","needle_seq","needle_parts","filter","part","needle_part","Sequence","position","last_piece","clone","parts","last_part","last_substr","clone_last_len","getPattern","match","match_str","overlapping","added_types","new_seq","old_seq","getAttr","obj","getAttrNesting","names","scoreValue","token","weight","score","pos","propToArray","iterate$1","object","cmp","Sifter","items","settings","query","respect_word_boundaries","weights","tokens","words","field_regex","word","field_match","field","regex","options","search","token_count","fields","field_count","getAttrFn","scoreObject","data","sum","implicit_score","sort_flds","sort","get_field","s","fld","sort_fld","optsUser","fn_score","item","id","_","fn_sort","iterate","getDom","isHtmlString","tpl","arg","escapeQuery","triggerEvent","dom_el","event_name","applyCSS","css","addClasses","elmts","classes","norm_classes","classesArray","castAsArray","el","cls","removeClasses","_classes","parentMatch","target","selector","wrapper","getTail","list","direction","isEmptyObject","nodeIndex","amongst","setAttr","attrs","val","attr","replaceNode","existing","replacement","highlight","element","highlightText","spannode","middlebit","middleclone","highlightChildren","highlightRecursive","removeHighlight","elements","parent","KEY_A","KEY_RETURN","KEY_ESC","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_BACKSPACE","KEY_DELETE","KEY_TAB","KEY_SHORTCUT","defaults","hash_key","get_hash","escape_html","loadDebounce","delay","timeout","debounce_events","types","type","trigger","event_args","getSelection","preventDefault","evt","stop","addEvent","isKeyDown","key_name","count","getId","existing_id","addSlashes","append","getSettings","settings_user","attr_data","field_label","field_value","field_disabled","field_optgroup","field_optgroup_label","field_optgroup_value","tag_name","placeholder","option","settings_element","init_select","tagName","optionsMap","group_count","readData","json","addOption","group","arr","option_data","addGroup","optgroup","optgroup_data","child","init_textbox","data_raw","opt","values","instance_i","TomSelect","input_arg","user_settings","dir","computedStyle","control","dropdown","dropdown_content","inputMode","control_input","focus_node","passive_event","listboxId","control_id","label","label_click","label_id","classes_plugins","e","target_match","doc_mousedown","win_scroll","optgroups","templates","escape","callbacks","get_settings","pastedText","splitInput","piece","character","next","prev","wasFocused","deactivate","classList","changed","silent","eventName","begin","end","swap","last","last_active","idx","scroll","behavior","content","height_menu","scrollTop","height_item","y","activeItems","calculateScore","hashed","triggerDropdown","k","html","has_create_option","active_group","create","groups","groups_order","same_query","results","active_option","show_dropdown","opt_value","opt_hash","option_el","group_fragment","grp_a","grp_b","a_order","b_order","group_heading","group_options","header","group_html","tok","add_template","template","active_index","user_created","dat","hashed_id","item_new","index_item","value_old","value_new","data_old","option_new","boundFilter","selected","x","last_item","wasFull","caret","output","created","isFull","isLocked","wrap_classList","opts","empty_option","AddSelected","has_selected","reuse_opt","setTextboxValue","context","rect","top","left","selection","tail","rm_items","rm_item","adjacent","new_pos","revertSettings","templateName","when","method","new_fn","orig_method","result_new","caret_position","dropdown_input","div","orig_onBlur","no_backspace_delete","orig_deleteSelection","remove_button","userOptions","orig_render_item","close_button","restore_on_backspace","module","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","exports","definition","prop","AutoButtonsByPositionComponent","$list","hideOnFirst","hideOnLast","$item","AutoLabelByPositionComponent","$label","labelContent","addData","removeData","nodes","stores","Store","config","mergedConfig","store","sortableElement","addEventListener","removeEventListener","addAttribute","attribute","removeAttribute","offset","debounce","func","wait","_i","getIndex","elementList","isInDom","insertNode","referenceNode","newElement","insertBefore","insertAfter","serialize","sortableContainer","customItemSerializer","customContainerSerializer","serializedItem","serializedContainer","serializedItems","container","makePlaceholder","placeholderClass","_a","getElementHeight","style","int","getElementWidth","getHandles","getEventTarget","defaultDragImage","draggedElement","elementOffset","setDragImage","customDragImage","dragImage","listsConnected","destination","origin","acceptFrom","sel","defaultConfiguration","throttle","threshold","_this","lastEventTimestamp","now","enableHoverClass","enable","hoverClasses_1","_b","dragging","draggingHeight","draggingWidth","originContainer","originIndex","originElementIndex","originItemsBeforeUpdate","previousContainer","destinationItemsBeforeUpdate","removeItemEvents","removeContainerEvents","getDragging","draggedItem","sortable","ditem","removeSortableData","removeItemData","findSortable","findDragElement","itemlist","ele","destroySortable","handles","enableSortable","spanEl","disableSortable","reloadSortable","sortableElements","configKey","listItems","customPlaceholder","tempContainer","dragItem","outTarget","visiblePlaceholder","originItems","destinationContainer","destinationItems","destinationElementIndex","destinationIndex","debouncedDragOverEnter","pageX","pageY","thisHeight","thisWidth","placeholderIndex","thisIndex","deadZoneVertical","deadZoneHorizontal","offsetTop","offsetLeft","placeAfter","elementMiddleVertical","elementMiddleHorizontal","placeholders","onDragOverEnter","SortListComponent","sortListSelector","$children","createSortList","DynamicFieldsComponent","index","$subtemplate","oldHtml","$subtemplateParents","elem","$self","$tpl","$subtpl","subtemplateId","subtemplateSelector","cb","error","templateClass","$wrapper","$container","templateSelector","$template","$newField","$lastQuestion","$removedField","deletedInput","$movedUpField","$movedDownField","createDynamicFields","wrapperSelector","fieldSelector","childsWrapperSelector","childFieldSelector","autoLabelByPosition","autoButtonsByPosition","createSortableList","createSortableListChild","autoLabelByPositionChild","autoButtonsByPositionChild","createDynamicFieldsForAgendaItemChilds","fieldId","$field","dynamicFieldsForAgendaItemChilds","setupInitialAgendaItemChildAttributes","$target","hideDeletedAgendaItem","FieldDependentInputsComponent","$controllerField","$dependentFields","$dependentInputs","createFieldDependentInputs","getCoordinateInputName","coordinate","$input","inputName","subNameMatch","attachGeocoding","attachOptions","inputIdParts","idPrefix","latitudeName","longitudeName","geocoded","createCoordinateFields","$latitude","$longitude","clearCoordinateFields","setCoordinates","coordinates2","_ev","coordinates","hideDeletedService","$privateMeeting","$transparent","$warning","$assign","toggleDisabledHiddenFields","enabledPrivateSpace","enabledTransparent","$meetingRegistrationType","$meetingRegistrationUrl","toggleDependsOnSelect","$showDiv","ev","$meetingTypeOfMeeting","$meetingOnlineFields","$meetingInPersonFields","$meetingOnlineAccessLevelFields","$meetingIframeEmbedType","toggleTypeDependsOnSelect","embedTypeValue","getAbsolutePosition","relativeParent","width","height","parentX","parentY","tooltipHtml","tooltip","useMobile","removeTooltip","OutsideClick","toggleTooltip","topCenter","bottomCenter","middleRight","middleLeft","positionX","positionY","handleRemoveButton","button","handleAddButton","select","componentId","componentTitle","table","body","title","tooltips","setupTomSelect","componentsSelect","addButton","$attendeeType"],"sourceRoot":""}