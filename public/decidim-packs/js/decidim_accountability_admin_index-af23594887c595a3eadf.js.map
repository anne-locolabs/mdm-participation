{"version":3,"file":"js/decidim_accountability_admin_index-af23594887c595a3eadf.js","mappings":"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","sources":["webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-accountability-0.30.1/app/packs/src/decidim/accountability/admin/index/counter.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-accountability-0.30.1/app/packs/src/decidim/accountability/admin/index/action_button.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-accountability-0.30.1/app/packs/src/decidim/accountability/admin/index/action_form.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-accountability-0.30.1/app/packs/src/decidim/accountability/admin/index/action_selector.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-accountability-0.30.1/app/packs/src/decidim/accountability/admin/index/select_all.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-accountability-0.30.1/app/packs/src/decidim/accountability/admin/index.js"],"sourcesContent":["class Counter {\n  constructor() {\n    this.checkboxes = document.querySelectorAll(\"[data-result-checkbox]\");\n    this.counterElement = document.querySelector(\"[data-selected-count]\");\n  }\n  init() {\n    if (!this.checkboxes.length) {\n      return;\n    }\n    this.checkboxes.forEach((checkbox) => {\n      checkbox.addEventListener(\"change\", () => this.updateCounter());\n    });\n    this.updateCounter();\n  }\n  updateCounter() {\n    if (this.counterElement) {\n      const count = this.getSelectedItems().length;\n      this.counterElement.textContent = count;\n      if (count === 0) {\n        this.counterElement.classList.add(\"hide\");\n      } else {\n        this.counterElement.classList.remove(\"hide\");\n      }\n    }\n  }\n  getSelectedItems() {\n    return Array.from(this.checkboxes).filter((checkbox) => checkbox.checked);\n  }\n}\nexport default Counter;\n","class ActionButton {\n  constructor(counter) {\n    this.counter = counter;\n    this.actionButton = document.querySelector(\"[data-action-button]\");\n    this.actionForms = document.querySelectorAll(\"[data-action-form]\");\n  }\n  init() {\n    this.counter.checkboxes.forEach((checkbox) => {\n      checkbox.addEventListener(\"change\", () => this.onCheckboxChange());\n    });\n    this.toggleActionButton();\n  }\n  onCheckboxChange() {\n    this.toggleActionButton();\n    this.toggleActionForms();\n  }\n  toggleActionButton() {\n    const selectedIds = this.counter.getSelectedItems();\n    if (selectedIds.length > 0) {\n      this.actionButton.classList.remove(\"hide\");\n    } else {\n      this.actionButton.classList.add(\"hide\");\n    }\n  }\n  toggleActionForms() {\n    const selectedIds = this.counter.getSelectedItems();\n    if (selectedIds.length === 0) {\n      this.actionForms.forEach((form) => {\n        form.classList.add(\"hide\");\n      });\n    }\n  }\n}\nexport default ActionButton;\n","class ActionForm {\n  constructor(counter) {\n    this.counter = counter;\n    this.checkboxes = document.querySelectorAll(\"[data-result-checkbox]\");\n    this.idFields = document.querySelectorAll(\"[data-result-ids-field]\");\n    this.cancelButtons = document.querySelectorAll(\"[data-cancel-button]\");\n  }\n  init() {\n    this.checkboxes.forEach((checkbox) => {\n      checkbox.addEventListener(\"change\", () => this.onCheckboxChange());\n    });\n    this.cancelButtons.forEach((button) => {\n      button.addEventListener(\"click\", () => this.onCancelButtonClick());\n    });\n    this.updateResultIdsHiddenField();\n  }\n  onCheckboxChange() {\n    this.updateResultIdsHiddenField();\n  }\n  onCancelButtonClick() {\n    this.hideAllForms();\n  }\n  hideAllForms() {\n    const forms = document.querySelectorAll(\"[data-action-form]\");\n    forms.forEach((form) => {\n      form.classList.add(\"hide\");\n    });\n  }\n  updateResultIdsHiddenField() {\n    const selectedIds = this.counter.getSelectedItems().map((checkbox) => checkbox.dataset.resultId);\n    this.idFields.forEach((field) => {\n      field.value = selectedIds.join(\",\");\n    });\n  }\n}\nexport default ActionForm;\n","class ActionSelector {\n  init() {\n    this.dropdownElement = document.querySelector(\"#js-bulk-actions-dropdown\");\n    const buttons = this.dropdownElement.querySelectorAll(\"button\");\n    buttons.forEach((button) => {\n      button.addEventListener(\"click\", this.onActionClick.bind(this));\n    });\n  }\n  onActionClick(event) {\n    const action = event.target.dataset.action;\n    this.closeDropdown();\n    this.hideAllForms();\n    this.showForm(action);\n  }\n  closeDropdown() {\n    this.dropdownElement.classList.remove(\"is-open\");\n  }\n  showForm(action) {\n    const form = document.querySelector(`[data-action-form=\"${action}\"]`);\n    form.classList.remove(\"hide\");\n  }\n  hideAllForms() {\n    const forms = document.querySelectorAll(\"[data-action-form]\");\n    forms.forEach((form) => {\n      form.classList.add(\"hide\");\n    });\n  }\n}\nexport default ActionSelector;\n","class SelectAll {\n  constructor(counter) {\n    this.counter = counter;\n    this.checkboxes = this.counter.checkboxes;\n    this.selectAllButton = document.querySelector(\"[data-select-all]\");\n  }\n  init() {\n    if (this.selectAllButton) {\n      this.selectAllButton.addEventListener(\"click\", (event) => this.onSelectAllClick(event));\n    }\n  }\n  onSelectAllClick(event) {\n    event.preventDefault();\n    const someUnchecked = Array.from(this.checkboxes).some((checkbox) => !checkbox.checked);\n    this.checkboxes.forEach((checkbox) => {\n      checkbox.checked = someUnchecked;\n      checkbox.dispatchEvent(new Event(\"change\"));\n    });\n  }\n}\nexport default SelectAll;\n","import Counter from \"src/decidim/accountability/admin/index/counter\";\nimport ActionButton from \"src/decidim/accountability/admin/index/action_button\";\nimport ActionForm from \"src/decidim/accountability/admin/index/action_form\";\nimport ActionSelector from \"src/decidim/accountability/admin/index/action_selector\";\nimport SelectAll from \"src/decidim/accountability/admin/index/select_all\";\n$(() => {\n  const counter = new Counter();\n  const actionButton = new ActionButton(counter);\n  const actionForm = new ActionForm(counter);\n  const actionSelector = new ActionSelector();\n  const selectAll = new SelectAll(counter);\n  counter.init();\n  actionButton.init();\n  actionForm.init();\n  actionSelector.init();\n  selectAll.init();\n});\n"],"names":["Counter","checkbox","count","ActionButton","counter","form","ActionForm","button","selectedIds","field","ActionSelector","event","action","SelectAll","someUnchecked","actionButton","actionForm","actionSelector","selectAll"],"sourceRoot":""}