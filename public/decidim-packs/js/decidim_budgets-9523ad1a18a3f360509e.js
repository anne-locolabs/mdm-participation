(function(){var g={20619:(function(){$(()=>{const t=()=>{const r=document.querySelectorAll("[data-progress-reference]");if(r.length){const n=document.querySelectorAll("[data-progressbox-fixed]");let e="",o="";const s="is-progressbox-visible";if(window.matchMedia("(min-width: 768px)").matches?(e=r[1],o=n[1]):(e=r[0],o=n[0]),!r)return;e.getBoundingClientRect().bottom>0?o.classList.remove(s):o.classList.add(s)}};window.addEventListener("scroll",t),window.DecidimBudgets=window.DecidimBudgets||{},window.DecidimBudgets.checkProgressPosition=t})}),28933:(function(){const t=()=>{const e=$(".budget-summary__progressbox");return parseInt(e.attr("data-current-allocation"),10)===0},r=e=>{if(!e)return!1;const o=[$(".budget-summary").attr("data-safe-url").replace(location.origin,""),`${location.pathname}#`,`${location.href}#`,"#"];let s=!1;return o.forEach(i=>{e.startsWith(i)&&(s=!0)}),s},n=e=>t()||e.attr("target")==="_blank"||e.parents("#loginModal").length>0||e.parents("#authorizationModal").length>0||e.attr("id")==="exit-notification-link"||e.parents("main").length>0||r(e.attr("href"))?!0:!!(document.querySelector(".panel-container")&&document.querySelector(".panel-container").contains(e[0]));$(()=>{const e=$("#exit-notification"),o=$("#exit-notification-link"),s=o.attr("href"),i=o.text(),l=window.Decidim.config.get("sign_out_path");let u=i;if(e.length<1)return;const _=(c,d=null)=>{d&&d!=="get"?o.attr("data-method",d):o.removeAttr("data-method"),o.attr("href",c),o.text(u),window.Decidim.currentDialogs["exit-notification"].open()};$(document).on("click","a",c=>{u=i;const d=$(c.currentTarget);n(d)||(c.preventDefault(),_(d.attr("href"),d.data("method")))}),$(`[href='${l}']`).on("click",c=>{c.preventDefault(),c.stopPropagation();const d=$(c.currentTarget);u=d.text(),_(d.attr("href"),d.data("method"))}),$("a[data-dialog-open='exit-notification']").on("click",()=>{u=i,_(s)})})}),35472:(function(){$(()=>{const t=$("#projects, #project-item"),n=$(".budget-summary__progressbar-marks_right").data("totalAllocation"),e=$(".budget-summary__progressbox"),o=$(".budget-vote-button"),s=parseInt(n,10),i=document.querySelectorAll(".budget__list--header .button__pill"),l=u=>{u.stopPropagation(),u.preventDefault()};o.on("click","span",()=>{$(".budget-list__action").click()}),t.on("click",".budget-list__action",u=>{const _=parseInt(e.attr("data-current-allocation"),10),c=$(u.currentTarget),d=parseInt(c.attr("data-allocation"),10);c.attr("disabled")?l(u):c.attr("data-add")==="true"&&_+d>s&&(window.Decidim.currentDialogs["budget-excess"].toggle(),l(u))}),i.forEach(function(u){u.addEventListener("click",function(_){i.forEach(function(c){c.classList.remove("button__pill--active")}),_.currentTarget.classList.add("button__pill--active")})})})}),92859:(function(t,r,n){var e={"./decidim/budgets/decidim_budgets.svg":94170};function o(i){var l=s(i);return n(l)}function s(i){if(!n.o(e,i)){var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}return e[i]}o.keys=function(){return Object.keys(e)},o.resolve=s,t.exports=o,o.id=92859}),94170:(function(t,r,n){"use strict";t.exports=n.p+"media/images/decidim_budgets-63f448a8ecee4f8376a0.svg"})},f={};function a(t){var r=f[t];if(r!==void 0)return r.exports;var n=f[t]={exports:{}};return g[t](n,n.exports,a),n.exports}(function(){a.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(r,{a:r}),r}})(),(function(){a.d=function(t,r){for(var n in r)a.o(r,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}})(),(function(){a.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}})(),(function(){a.p="/decidim-packs/"})(),(function(){"use strict";var t=a(35472),r=a.n(t),n=a(20619),e=a.n(n),o=a(28933),s=a.n(o);a(92859)})()})();

//# sourceMappingURL=decidim_budgets-9523ad1a18a3f360509e.js.map