{"version":3,"file":"js/decidim_accountability_admin_form-6ffe6cca6387bd6b291b.js","mappings":"yBAAe,SAASA,EAAuBC,EAAYC,EAAQC,EAAS,CAC1E,MAAMC,EAAM,GAAGH,CAAU,OACzB,GAAIE,EAAQC,CAAG,EACb,OAAOD,EAAQC,CAAG,EAEpB,MAAMC,EAAYH,EAAO,KAAK,MAAM,EAC9BI,EAAe,cACrB,OAAID,EAAU,MAAMC,CAAY,EACvBD,EAAU,QAAQC,EAAc,IAAIL,CAAU,GAAG,EAEnDA,CACT,CCVe,SAASM,EAAgBL,EAAQC,EAASK,EAAU,CACjE,MAAMC,EAAgB,EAAE,OAAO,CAAC,EAAGN,CAAO,EACpCO,EAAeR,EAAO,KAAK,IAAI,EAAE,MAAM,GAAG,EAChDQ,EAAa,IAAI,EACjB,MAAMC,EAAW,GAAGD,EAAa,KAAK,GAAG,CAAC,GAC1C,IAAIE,EAAe,WACfC,EAAgB,YAChBX,EAAO,OAAS,IAClBU,EAAeZ,EAAuB,WAAYE,EAAQO,CAAa,EACvEI,EAAgBb,EAAuB,YAAaE,EAAQO,CAAa,GAE3E,MAAMK,EAAS,EAAE,OAAO,CACtB,WAAY,GAAGH,CAAQ,YACvB,YAAa,GAAGA,CAAQ,aACxB,aAAAC,EACA,cAAAC,CACF,EAAGV,CAAO,EACV,IAAIY,EAAW,GACf,MAAMC,EAAyB,IAAM,CACnC,IAAIC,EAAY,EAAE,IAAIH,EAAO,UAAU,EAAE,EACrCG,EAAU,OAAS,IACrBA,EAAY,EAAE,8BAA8BH,EAAO,YAAY,SAASA,EAAO,UAAU,MAAM,EAC/FZ,EAAO,MAAMe,CAAS,GAExB,IAAIC,EAAa,EAAE,IAAIJ,EAAO,WAAW,EAAE,EACvCI,EAAW,OAAS,IACtBA,EAAa,EAAE,8BAA8BJ,EAAO,aAAa,SAASA,EAAO,WAAW,MAAM,EAClGZ,EAAO,MAAMgB,CAAU,EAE3B,EACMC,EAAwB,IAAM,CAC9BJ,IAGJ,EAAE,IAAID,EAAO,UAAU,EAAE,EAAE,IAAI,EAAE,EAAE,WAAW,OAAO,EACrD,EAAE,IAAIA,EAAO,WAAW,EAAE,EAAE,IAAI,EAAE,EAAE,WAAW,OAAO,EACxD,EACMM,EAAkBC,GAAiB,CACvCL,EAAuB,EACvB,EAAE,IAAIF,EAAO,UAAU,EAAE,EAAE,IAAIO,EAAa,CAAC,CAAC,EAAE,KAAK,QAASA,EAAa,CAAC,CAAC,EAC7E,EAAE,IAAIP,EAAO,WAAW,EAAE,EAAE,IAAIO,EAAa,CAAC,CAAC,EAAE,KAAK,QAASA,EAAa,CAAC,CAAC,CAChF,EACAnB,EAAO,GAAG,iBAAkB,IAAM,CAChCiB,EAAsB,CACxB,CAAC,EACDjB,EAAO,GAAG,uCAAwC,CAACoB,EAAKD,IAAiB,CAGvE,GAFAD,EAAeC,CAAY,EAC3BN,EAAW,GACP,OAAOP,GAAa,WAAY,CAClCA,EAASa,CAAY,EACrB,MACF,CACF,CAAC,EACD,MAAME,EAAc,GAAGrB,EAAO,KAAK,aAAa,CAAC,GAAG,MAAM,GAAG,EAAE,IAAI,UAAU,EACzE,MAAM,QAAQqB,CAAW,GAAKA,EAAY,SAAW,GACvDH,EAAeG,CAAW,CAE9B,CCzDA,EAAE,IAAM,CACN,MAAMC,EAAQ,EAAE,oBAAoB,EACpC,GAAIA,EAAM,OAAS,EAAG,CACpB,MAAMC,EAAiBD,EAAM,KAAK,iBAAiB,EAC/CC,EAAe,SAAW,GAC5BlB,EAAgBkB,CAAc,CAElC,CACA,EAAE,0CAA0C,EAAE,OAAO,UAAW,CAC9D,MAAMC,EAAW,EAAE,IAAI,EAAE,KAAK,WAAW,EAAE,KAAK,UAAU,GACtDA,GAAYA,IAAa,IAC3B,EAAE,kBAAkB,EAAE,IAAIA,CAAQ,CAEtC,CAAC,CACH,CAAC,C","sources":["webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-core-0.30.1/app/packs/src/decidim/geocoding/coordinate_input.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-core-0.30.1/app/packs/src/decidim/geocoding/attach_input.js","webpack://decidim-development-app/../../.rbenv/versions/3.3.4/lib/ruby/gems/3.3.0/gems/decidim-accountability-0.30.1/app/packs/src/decidim/accountability/admin/result_form.js"],"sourcesContent":["export default function getCoordinateInputName(coordinate, $input, options) {\n  const key = `${coordinate}Name`;\n  if (options[key]) {\n    return options[key];\n  }\n  const inputName = $input.attr(\"name\");\n  const subNameMatch = /\\[[^\\]]+\\]$/;\n  if (inputName.match(subNameMatch)) {\n    return inputName.replace(subNameMatch, `[${coordinate}]`);\n  }\n  return coordinate;\n}\n","import getCoordinateInputName from \"src/decidim/geocoding/coordinate_input\";\nexport default function attachGeocoding($input, options, callback) {\n  const attachOptions = $.extend({}, options);\n  const inputIdParts = $input.attr(\"id\").split(\"_\");\n  inputIdParts.pop();\n  const idPrefix = `${inputIdParts.join(\"_\")}`;\n  let latitudeName = \"latitude\";\n  let longitudeName = \"longitude\";\n  if ($input.length > 0) {\n    latitudeName = getCoordinateInputName(\"latitude\", $input, attachOptions);\n    longitudeName = getCoordinateInputName(\"longitude\", $input, attachOptions);\n  }\n  const config = $.extend({\n    latitudeId: `${idPrefix}_latitude`,\n    longitudeId: `${idPrefix}_longitude`,\n    latitudeName,\n    longitudeName\n  }, options);\n  let geocoded = false;\n  const createCoordinateFields = () => {\n    let $latitude = $(`#${config.latitudeId}`);\n    if ($latitude.length < 1) {\n      $latitude = $(`<input type=\"hidden\" name=\"${config.latitudeName}\" id=\"${config.latitudeId}\" />`);\n      $input.after($latitude);\n    }\n    let $longitude = $(`#${config.longitudeId}`);\n    if ($longitude.length < 1) {\n      $longitude = $(`<input type=\"hidden\" name=\"${config.longitudeName}\" id=\"${config.longitudeId}\" />`);\n      $input.after($longitude);\n    }\n  };\n  const clearCoordinateFields = () => {\n    if (geocoded) {\n      return;\n    }\n    $(`#${config.latitudeId}`).val(\"\").removeAttr(\"value\");\n    $(`#${config.longitudeId}`).val(\"\").removeAttr(\"value\");\n  };\n  const setCoordinates = (coordinates2) => {\n    createCoordinateFields();\n    $(`#${config.latitudeId}`).val(coordinates2[0]).attr(\"value\", coordinates2[0]);\n    $(`#${config.longitudeId}`).val(coordinates2[1]).attr(\"value\", coordinates2[1]);\n  };\n  $input.on(\"change.decidim\", () => {\n    clearCoordinateFields();\n  });\n  $input.on(\"geocoder-suggest-coordinates.decidim\", (_ev, coordinates2) => {\n    setCoordinates(coordinates2);\n    geocoded = true;\n    if (typeof callback === \"function\") {\n      callback(coordinates2);\n      return;\n    }\n  });\n  const coordinates = `${$input.data(\"coordinates\")}`.split(\",\").map(parseFloat);\n  if (Array.isArray(coordinates) && coordinates.length === 2) {\n    setCoordinates(coordinates);\n  }\n}\n","import attachGeocoding from \"src/decidim/geocoding/attach_input\";\n$(() => {\n  const $form = $(\".result_form_admin\");\n  if ($form.length > 0) {\n    const $resultAddress = $form.find(\"#result_address\");\n    if ($resultAddress.length !== 0) {\n      attachGeocoding($resultAddress);\n    }\n  }\n  $(\"#result_decidim_accountability_status_id\").change(function() {\n    const progress = $(this).find(\":selected\").data(\"progress\");\n    if (progress || progress === 0) {\n      $(\"#result_progress\").val(progress);\n    }\n  });\n});\n"],"names":["getCoordinateInputName","coordinate","$input","options","key","inputName","subNameMatch","attachGeocoding","callback","attachOptions","inputIdParts","idPrefix","latitudeName","longitudeName","config","geocoded","createCoordinateFields","$latitude","$longitude","clearCoordinateFields","setCoordinates","coordinates2","_ev","coordinates","$form","$resultAddress","progress"],"sourceRoot":""}