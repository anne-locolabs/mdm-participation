(function(){"use strict";function u(t,e,n){const l=`${t}Name`;if(n[l])return n[l];const o=e.attr("name"),r=/\[[^\]]+\]$/;return o.match(r)?o.replace(r,`[${t}]`):t}function h(t,e,n){const l=$.extend({},e),o=t.attr("id").split("_");o.pop();const r=`${o.join("_")}`;let c="latitude",g="longitude";t.length>0&&(c=u("latitude",t,l),g=u("longitude",t,l));const d=$.extend({latitudeId:`${r}_latitude`,longitudeId:`${r}_longitude`,latitudeName:c,longitudeName:g},e);let f=!1;const _=()=>{let a=$(`#${d.latitudeId}`);a.length<1&&(a=$(`<input type="hidden" name="${d.latitudeName}" id="${d.latitudeId}" />`),t.after(a));let i=$(`#${d.longitudeId}`);i.length<1&&(i=$(`<input type="hidden" name="${d.longitudeName}" id="${d.longitudeId}" />`),t.after(i))},v=()=>{f||($(`#${d.latitudeId}`).val("").removeAttr("value"),$(`#${d.longitudeId}`).val("").removeAttr("value"))},m=a=>{_(),$(`#${d.latitudeId}`).val(a[0]).attr("value",a[0]),$(`#${d.longitudeId}`).val(a[1]).attr("value",a[1])};t.on("change.decidim",()=>{v()}),t.on("geocoder-suggest-coordinates.decidim",(a,i)=>{if(m(i),f=!0,typeof n=="function"){n(i);return}});const s=`${t.data("coordinates")}`.split(",").map(parseFloat);Array.isArray(s)&&s.length===2&&m(s)}$(()=>{const t=$(".result_form_admin");if(t.length>0){const e=t.find("#result_address");e.length!==0&&h(e)}$("#result_decidim_accountability_status_id").change(function(){const e=$(this).find(":selected").data("progress");(e||e===0)&&$("#result_progress").val(e)})})})();

//# sourceMappingURL=decidim_accountability_admin_form-6ffe6cca6387bd6b291b.js.map